!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=117)}([function(t,e,n){t.exports=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,i(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,t)})(t)}function c(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}var l;"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(l||(l={}));var u=l.off,h=function(){function t(t){this.t=t}t.getLevel=function(){return u},t.setLevel=function(t){return u=l[t]};var e=t.prototype;return e.error=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.error,l.error,e)},e.warn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.warn,l.warning,e)},e.info=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.info,l.info,e)},e.debug=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.i(console.log,l.debug,e)},e.i=function(e,n,r){n<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(r))},t}(),f=M,d=b,p=y,g=x,m=T,v=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function y(t,e){for(var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/",c=e&&e.whitelist||void 0,l=!1;null!==(n=v.exec(t));){var u=n[0],h=n[1],f=n.index;if(a+=t.slice(o,f),o=f+u.length,h)a+=h[1],l=!0;else{var d="",p=n[2],g=n[3],m=n[4],y=n[5];if(!l&&a.length){var b=a.length-1,x=a[b];(!c||c.indexOf(x)>-1)&&(d=x,a=a.slice(0,b))}a&&(r.push(a),a="",l=!1);var S=g||m,T=d||s;r.push({name:p||i++,prefix:d,delimiter:T,optional:"?"===y||"*"===y,repeat:"+"===y||"*"===y,pattern:S?w(S):"[^"+_(T===s?T:T+s)+"]+?"})}}return(a||o<t.length)&&r.push(a+t.substr(o)),r}function b(t,e){return function(n,r){var i=t.exec(n);if(!i)return!1;for(var o=i[0],a=i.index,s={},c=r&&r.decode||decodeURIComponent,l=1;l<i.length;l++)if(void 0!==i[l]){var u=e[l-1];s[u.name]=u.repeat?i[l].split(u.delimiter).map((function(t){return c(t,u)})):c(i[l],u)}return{path:o,index:a,params:s}}}function x(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",S(e)));return function(e,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=!r||!1!==r.validate,s=0;s<t.length;s++){var c=t[s];if("string"!=typeof c){var l,u=e?e[c.name]:void 0;if(Array.isArray(u)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===u.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<u.length;h++){if(l=o(u[h],c),a&&!n[s].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');i+=(0===h?c.prefix:c.delimiter)+l}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"))}else{if(l=o(String(u),c),a&&!n[s].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function _(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function w(t){return t.replace(/([=!:$/()])/g,"\\$1")}function S(t){return t&&t.sensitive?"":"i"}function T(t,e,n){for(var r=(n=n||{}).strict,i=!1!==n.start,o=!1!==n.end,a=n.delimiter||"/",s=[].concat(n.endsWith||[]).map(_).concat("$").join("|"),c=i?"^":"",l=0;l<t.length;l++){var u=t[l];if("string"==typeof u)c+=_(u);else{var h=u.repeat?"(?:"+u.pattern+")(?:"+_(u.delimiter)+"(?:"+u.pattern+"))*":u.pattern;e&&e.push(u),c+=u.optional?u.prefix?"(?:"+_(u.prefix)+"("+h+"))?":"("+h+")?":_(u.prefix)+"("+h+")"}}if(o)r||(c+="(?:"+_(a)+")?"),c+="$"===s?"$":"(?="+s+")";else{var f=t[t.length-1],d="string"==typeof f?f[f.length-1]===a:void 0===f;r||(c+="(?:"+_(a)+"(?="+s+"))?"),d||(c+="(?="+_(a)+"|"+s+")")}return new RegExp(c,S(n))}function M(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(M(t[i],e,n).source);return new RegExp("(?:"+r.join("|")+")",S(n))}(t,e,n):function(t,e,n){return T(y(t,n),e,n)}(t,e,n)}f.match=function(t,e){var n=[];return b(M(t,n,e),n)},f.regexpToFunction=d,f.parse=p,f.compile=function(t,e){return x(y(t,e),e)},f.tokensToFunction=g,f.tokensToRegExp=m;var A={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},E=new(function(){function t(){this.o=A,this.u=new DOMParser}var e=t.prototype;return e.toString=function(t){return t.outerHTML},e.toDocument=function(t){return this.u.parseFromString(t,"text/html")},e.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},e.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},e.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(t){document.body.contains(t)&&t.parentNode.removeChild(t)},e.addContainer=function(t,e){var n=this.getContainer();n?this.s(t,n):e.appendChild(t)},e.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return e?e.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){if("string"==typeof t.href)return t.href;var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e)return this.resolveUrl(e.baseVal||e)}return null},e.resolveUrl=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.length;if(0===r)throw new Error("resolveUrl requires at least one argument; got none.");var i=document.createElement("base");if(i.href=arguments[0],1===r)return i.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);for(var a,s=document.createElement("a"),c=1;c<r;c++)s.href=arguments[c],i.href=a=s.href;return o.removeChild(i),a},e.s=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},t}()),C=new(function(){function t(){this.h=[],this.v=-1}var r=t.prototype;return r.init=function(t,e){this.l="barba";var n={ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(n),this.v=0;var r={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(r,"",t)},r.change=function(t,e,n){if(n&&n.state){var r=n.state,i=r.index;e=this.m(this.v-i),this.replace(r.states),this.v=i}else this.add(t,e);return e},r.add=function(t,e){var n=this.size,r=this.p(e),i={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};this.h.push(i),this.v=n;var o={from:this.l,index:n,states:[].concat(this.h)};switch(r){case"push":window.history&&window.history.pushState(o,"",t);break;case"replace":window.history&&window.history.replaceState(o,"",t)}},r.update=function(t,e){var r=e||this.v,i=n({},this.get(r),{},t);this.set(r,i)},r.remove=function(t){t?this.h.splice(t,1):this.h.pop(),this.v--},r.clear=function(){this.h=[],this.v=-1},r.replace=function(t){this.h=t},r.get=function(t){return this.h[t]},r.set=function(t,e){return this.h[t]=e},r.p=function(t){var e="push",n=t,r=A.prefix+"-"+A.history;return n.hasAttribute&&n.hasAttribute(r)&&(e=n.getAttribute(r)),e},r.m=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},e(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),L=function(t,e){try{var n=function(){if(!e.next.html)return Promise.resolve(t).then((function(t){var n=e.next;if(t){var r=E.toElement(t);n.namespace=E.getNamespace(r),n.container=E.getContainer(r),n.html=t,C.update({ns:n.namespace});var i=E.toDocument(t);document.title=i.title}}))}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},P=f,k={__proto__:null,update:L,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:P},R=function(){return window.location.origin},O=function(t){return void 0===t&&(t=window.location.href),I(t).port},I=function(t){var e,n=t.match(/:\d+/);if(null===n)/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443);else{var r=n[0].substring(1);e=parseInt(r,10)}var i,o=t.replace(R(),""),a={},s=o.indexOf("#");s>=0&&(i=o.slice(s+1),o=o.slice(0,s));var c=o.indexOf("?");return c>=0&&(a=D(o.slice(c+1)),o=o.slice(0,c)),{hash:i,path:o,port:e,query:a}},D=function(t){return t.split("&").reduce((function(t,e){var n=e.split("=");return t[n[0]]=n[1],t}),{})},N=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},F={__proto__:null,getHref:function(){return window.location.href},getOrigin:R,getPort:O,getPath:function(t){return void 0===t&&(t=window.location.href),I(t).path},parse:I,parseQuery:D,clean:N};function G(t,e,n){return void 0===e&&(e=2e3),new Promise((function(r,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)r(o.responseText);else if(o.status){var e={status:o.status,statusText:o.statusText};n(t,e),i(e)}},o.ontimeout=function(){var r=new Error("Timeout error ["+e+"]");n(t,r),i(r)},o.onerror=function(){var e=new Error("Fetch error");n(t,e),i(e)},o.open("GET",t),o.timeout=e,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()}))}var B=function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then};function V(t,e){return void 0===e&&(e={}),function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=!1,a=new Promise((function(n,i){e.async=function(){return o=!0,function(t,e){t?i(t):n(e)}};var a=t.apply(e,r);o||(B(a)?a.then(n,i):n(a))}));return a}}var z=new(function(t){function e(){var e;return(e=t.call(this)||this).logger=new h("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}r(e,t);var n=e.prototype;return n.init=function(){var t=this;this.registered.clear(),this.all.forEach((function(e){t[e]||(t[e]=function(n,r){t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:r||{},fn:n})})}))},n.do=function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.registered.has(t)){var o=Promise.resolve();return this.registered.get(t).forEach((function(t){o=o.then((function(){return V(t.fn,t.ctx).apply(void 0,r)}))})),o.catch((function(n){e.logger.debug("Hook error ["+t+"]"),e.logger.error(n)}))}return Promise.resolve()},n.clear=function(){var t=this;this.all.forEach((function(e){delete t[e]})),this.init()},n.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach((function(e,n){return t.push(n)})),this.logger.info("Registered hooks: "+t.join(","))},e}((function(){}))),U=function(){function t(t){if(this.P=[],"boolean"==typeof t)this.g=t;else{var e=Array.isArray(t)?t:[t];this.P=e.map((function(t){return P(t)}))}}return t.prototype.checkHref=function(t){if("boolean"==typeof this.g)return this.g;var e=I(t).path;return this.P.some((function(t){return null!==t.exec(e)}))},t}(),j=function(t){function e(e){var n;return(n=t.call(this,e)||this).k=new Map,n}r(e,t);var i=e.prototype;return i.set=function(t,e,n){return this.k.set(t,{action:n,request:e}),{action:n,request:e}},i.get=function(t){return this.k.get(t)},i.getRequest=function(t){return this.k.get(t).request},i.getAction=function(t){return this.k.get(t).action},i.has=function(t){return!this.checkHref(t)&&this.k.has(t)},i.delete=function(t){return this.k.delete(t)},i.update=function(t,e){var r=n({},this.k.get(t),{},e);return this.k.set(t,r),r},e}(U),H=function(){return!window.history.pushState},W=function(t){return!t.el||!t.href},X=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},Y=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},q=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},Q=function(t){var e=t.el;return void 0!==e.port&&O()!==O(e.href)},Z=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},$=function(t){return t.el.hasAttribute(A.prefix+"-"+A.prevent)},K=function(t){return Boolean(t.el.closest("["+A.prefix+"-"+A.prevent+'="all"]'))},J=function(t){var e=t.href;return N(e)===N()&&O(e)===O()},tt=function(t){function e(e){var n;return(n=t.call(this,e)||this).suite=[],n.tests=new Map,n.init(),n}r(e,t);var n=e.prototype;return n.init=function(){this.add("pushState",H),this.add("exists",W),this.add("newTab",X),this.add("blank",Y),this.add("corsDomain",q),this.add("corsPort",Q),this.add("download",Z),this.add("preventSelf",$),this.add("preventAll",K),this.add("sameUrl",J,!1)},n.add=function(t,e,n){void 0===n&&(n=!0),this.tests.set(t,e),n&&this.suite.push(t)},n.run=function(t,e,n,r){return this.tests.get(t)({el:e,event:n,href:r})},n.checkLink=function(t,e,n){var r=this;return this.suite.some((function(i){return r.run(i,t,e,n)}))},e}(U),et=function(t){function e(n,r){var i;void 0===r&&(r="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return(i=t.call.apply(t,[this].concat(a))||this).error=n,i.label=r,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e),i.name="BarbaError",i}return r(e,t),e}(s(Error)),nt=function(){function t(t){void 0===t&&(t=[]),this.logger=new h("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var e=t.prototype;return e.add=function(t,e){switch(t){case"rule":this.A.splice(e.position||0,0,e.value);break;case"transition":default:this.all.push(e)}this.update()},e.resolve=function(t,e){var n=this;void 0===e&&(e={});var r=e.once?this.once:this.page;r=r.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var i=new Map,o=r.find((function(r){var o=!0,a={};return!(!e.self||"self"!==r.name)||(n.A.reverse().forEach((function(e){o&&(o=n.R(r,e,t,a),r.from&&r.to&&(o=n.R(r,e,t,a,"from")&&n.R(r,e,t,a,"to")),r.from&&!r.to&&(o=n.R(r,e,t,a,"from")),!r.from&&r.to&&(o=n.R(r,e,t,a,"to")))})),i.set(r,a),o)})),a=i.get(o),s=[];if(s.push(e.once?"once":"page"),e.self&&s.push("self"),a){var c,l=[o];Object.keys(a).length>0&&l.push(a),(c=this.logger).info.apply(c,["Transition found ["+s.join(",")+"]"].concat(l))}else this.logger.info("No transition found ["+s.join(",")+"]");return o},e.update=function(){var t=this;this.all=this.all.map((function(e){return t.T(e)})).sort((function(t,e){return t.priority-e.priority})).reverse().map((function(t){return delete t.priority,t})),this.page=this.all.filter((function(t){return void 0!==t.leave||void 0!==t.enter})),this.once=this.all.filter((function(t){return void 0!==t.once}))},e.R=function(t,e,n,r,i){var o=!0,a=!1,s=t,c=e.name,l=c,u=c,h=c,f=i?s[i]:s,d="to"===i?n.next:n.current;if(i?f&&f[c]:f[c]){switch(e.type){case"strings":default:var p=Array.isArray(f[l])?f[l]:[f[l]];d[l]&&-1!==p.indexOf(d[l])&&(a=!0),-1===p.indexOf(d[l])&&(o=!1);break;case"object":var g=Array.isArray(f[u])?f[u]:[f[u]];d[u]?(d[u].name&&-1!==g.indexOf(d[u].name)&&(a=!0),-1===g.indexOf(d[u].name)&&(o=!1)):o=!1;break;case"function":f[h](n)?a=!0:o=!1}a&&(i?(r[i]=r[i]||{},r[i][c]=s[i][c]):r[c]=s[c])}return o},e.O=function(t,e,n){var r=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(r+=Math.pow(10,n),t.from&&t.from[e]&&(r+=1),t.to&&t.to[e]&&(r+=2)),r},e.T=function(t){var e=this;t.priority=0;var n=0;return this.A.forEach((function(r,i){n+=e.O(t,r.name,i+1)})),t.priority=n,t},t}(),rt=function(){function t(t){void 0===t&&(t=[]),this.logger=new h("@barba/core"),this.S=!1,this.store=new nt(t)}var n=t.prototype;return n.get=function(t,e){return this.store.resolve(t,e)},n.doOnce=function(t){var e=t.data,n=t.transition;try{var r=function(){i.S=!1},i=this,o=n||{};i.S=!0;var a=c((function(){return Promise.resolve(i.j("beforeOnce",e,o)).then((function(){return Promise.resolve(i.once(e,o)).then((function(){return Promise.resolve(i.j("afterOnce",e,o)).then((function(){}))}))}))}),(function(t){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(t)}));return Promise.resolve(a&&a.then?a.then(r):r())}catch(t){return Promise.reject(t)}},n.doPage=function(t){var e=t.data,n=t.transition,r=t.page,i=t.wrapper;try{var o=function(t){if(a)return t;s.S=!1},a=!1,s=this,l=n||{},u=!0===l.sync||!1;s.S=!0;var h=c((function(){function t(){return Promise.resolve(s.j("before",e,l)).then((function(){function t(t){return Promise.resolve(s.remove(e)).then((function(){return Promise.resolve(s.j("after",e,l)).then((function(){}))}))}var n=function(){if(u)return c((function(){return Promise.resolve(s.add(e,i)).then((function(){return Promise.resolve(s.j("beforeLeave",e,l)).then((function(){return Promise.resolve(s.j("beforeEnter",e,l)).then((function(){return Promise.resolve(Promise.all([s.leave(e,l),s.enter(e,l)])).then((function(){return Promise.resolve(s.j("afterLeave",e,l)).then((function(){return Promise.resolve(s.j("afterEnter",e,l)).then((function(){}))}))}))}))}))}))}),(function(t){if(s.M(t))throw new et(t,"Transition error [sync]")}));var t=function(t){return c((function(){var t=function(){if(!1!==n)return Promise.resolve(s.add(e,i)).then((function(){return Promise.resolve(s.j("beforeEnter",e,l)).then((function(){return Promise.resolve(s.enter(e,l,n)).then((function(){return Promise.resolve(s.j("afterEnter",e,l)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(t){if(s.M(t))throw new et(t,"Transition error [before/after/enter]")}))},n=!1,o=c((function(){return Promise.resolve(s.j("beforeLeave",e,l)).then((function(){return Promise.resolve(Promise.all([s.leave(e,l),L(r,e)]).then((function(t){return t[0]}))).then((function(t){return n=t,Promise.resolve(s.j("afterLeave",e,l)).then((function(){}))}))}))}),(function(t){if(s.M(t))throw new et(t,"Transition error [before/after/leave]")}));return o&&o.then?o.then(t):t()}();return n&&n.then?n.then(t):t()}))}var n=function(){if(u)return Promise.resolve(L(r,e)).then((function(){}))}();return n&&n.then?n.then(t):t()}),(function(t){if(s.S=!1,t.name&&"BarbaError"===t.name)throw s.logger.debug(t.label),s.logger.error(t.error),t;throw s.logger.debug("Transition error [page]"),s.logger.error(t),t}));return Promise.resolve(h&&h.then?h.then(o):o(h))}catch(t){return Promise.reject(t)}},n.once=function(t,e){try{return Promise.resolve(z.do("once",t,e)).then((function(){return e.once?V(e.once,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n.leave=function(t,e){try{return Promise.resolve(z.do("leave",t,e)).then((function(){return e.leave?V(e.leave,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n.enter=function(t,e,n){try{return Promise.resolve(z.do("enter",t,e)).then((function(){return e.enter?V(e.enter,e)(t,n):Promise.resolve()}))}catch(t){return Promise.reject(t)}},n.add=function(t,e){try{return E.addContainer(t.next.container,e),z.do("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},n.remove=function(t){try{return E.removeContainer(t.current.container),z.do("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},n.M=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},n.j=function(t,e,n){try{return Promise.resolve(z.do(t,e,n)).then((function(){return n[t]?V(n[t],n)(e):Promise.resolve()}))}catch(t){return Promise.reject(t)}},e(t,[{key:"isRunning",get:function(){return this.S},set:function(t){this.S=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(t){return"self"===t.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))}}]),t}(),it=function(){function t(t){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){e.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){z[t](e.L(t))})))}return t.prototype.L=function(t){var e=this;return function(n){var r=t.match(/enter/i)?n.next:n.current,i=e.byNamespace.get(r.namespace);return i&&i[t]?V(i[t],i)(n):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var ot={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return new(function(){function t(){this.version="2.9.7",this.schemaPage=ot,this.Logger=h,this.logger=new h("@barba/core"),this.plugins=[],this.hooks=z,this.dom=E,this.helpers=k,this.history=C,this.request=G,this.url=F}var r=t.prototype;return r.use=function(t,e){var n=this.plugins;n.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),n.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},r.init=function(t){var e=void 0===t?{}:t,r=e.transitions,i=void 0===r?[]:r,o=e.views,a=void 0===o?[]:o,s=e.schema,c=void 0===s?A:s,l=e.requestError,u=e.timeout,f=void 0===u?2e3:u,d=e.cacheIgnore,p=void 0!==d&&d,g=e.prefetchIgnore,m=void 0!==g&&g,v=e.preventRunning,y=void 0!==v&&v,b=e.prevent,x=void 0===b?null:b,_=e.debug,w=e.logLevel;if(h.setLevel(!0===(void 0!==_&&_)?"debug":void 0===w?"off":w),this.logger.info(this.version),Object.keys(c).forEach((function(t){A[t]&&(A[t]=c[t])})),this.$=l,this.timeout=f,this.cacheIgnore=p,this.prefetchIgnore=m,this.preventRunning=y,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var S=this.data.current;if(!S.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new j(p),this.prevent=new tt(m),this.transitions=new rt(i),this.views=new it(a),null!==x){if("function"!=typeof x)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",x)}this.history.init(S.url.href,S.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach((function(t){return t.init()}));var T=this.data;T.trigger="barba",T.next=T.current,T.current=n({},this.schemaPage),this.hooks.do("ready",T),this.once(T),this.q()},r.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},r.force=function(t){window.location.assign(t)},r.go=function(t,e,n){var r;if(void 0===e&&(e="barba"),this.transitions.isRunning)this.force(t);else if(!(r="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return e=this.history.change(t,e,n),n&&(n.stopPropagation(),n.preventDefault()),this.page(t,e,r)},r.once=function(t){try{var e=this;return Promise.resolve(e.hooks.do("beforeEnter",t)).then((function(){function n(){return Promise.resolve(e.hooks.do("afterEnter",t)).then((function(){}))}var r=function(){if(e.transitions.hasOnce){var n=e.transitions.get(t,{once:!0});return Promise.resolve(e.transitions.doOnce({transition:n,data:t})).then((function(){}))}}();return r&&r.then?r.then(n):n()}))}catch(t){return Promise.reject(t)}},r.page=function(t,e,r){try{var i=function(){var t=o.data;return Promise.resolve(o.hooks.do("page",t)).then((function(){var e=c((function(){var e=o.transitions.get(t,{once:!1,self:r});return Promise.resolve(o.transitions.doPage({data:t,page:a,transition:e,wrapper:o._})).then((function(){o.q()}))}),(function(){0===h.getLevel()&&o.force(t.current.url.href)}));if(e&&e.then)return e.then((function(){}))}))},o=this;o.data.next.url=n({href:t},o.url.parse(t)),o.data.trigger=e;var a=o.cache.has(t)?o.cache.update(t,{action:"click"}).request:o.cache.set(t,o.request(t,o.timeout,o.onRequestError.bind(o,e)),"click").request,s=function(){if(o.transitions.shouldWait)return Promise.resolve(L(a,o.data)).then((function(){}))}();return Promise.resolve(s&&s.then?s.then(i):i())}catch(t){return Promise.reject(t)}},r.onRequestError=function(t){this.transitions.isRunning=!1;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0],o=n[1],a=this.cache.getAction(i);return this.cache.delete(i),!(this.$&&!1===this.$(t,a,i,o)||("click"===a&&this.force(i),1))},r.prefetch=function(t){var e=this;this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba")).catch((function(t){e.logger.error(t)})),"prefetch")},r.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},r.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},r.B=function(t){var e=this,n=this.I(t);if(n){var r=this.dom.getHref(n);this.prevent.checkHref(r)||this.cache.has(r)||this.cache.set(r,this.request(r,this.timeout,this.onRequestError.bind(this,n)).catch((function(t){e.logger.error(t)})),"enter")}},r.U=function(t){var e=this.I(t);if(e)return this.transitions.isRunning&&this.preventRunning?(t.preventDefault(),void t.stopPropagation()):void this.go(this.dom.getHref(e),e,t)},r.D=function(t){this.go(this.url.getHref(),"popstate",t)},r.I=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},r.q=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:n({href:t},this.url.parse(t))};this.C={current:e,next:n({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}())}()},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return Br}));var o,a,s,c,l,u,h,f,d,p,g,m,v,y,b,x={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_={duration:.5,overwrite:!1,delay:0},w=1e8,S=2*Math.PI,T=S/4,M=0,A=Math.sqrt,E=Math.cos,C=Math.sin,L=function(t){return"string"==typeof t},P=function(t){return"function"==typeof t},k=function(t){return"number"==typeof t},R=function(t){return void 0===t},O=function(t){return"object"==typeof t},I=function(t){return!1!==t},D=function(){return"undefined"!=typeof window},N=function(t){return P(t)||L(t)},F="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},G=Array.isArray,B=/(?:-?\.?\d|\.)+/gi,V=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,z=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,U=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,j=/[+-]=-?[.\d]+/,H=/[^,'"\[\]\s]+/gi,W=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,X={},Y={},q=function(t){return(Y=St(t,X))&&_n},Q=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},Z=function(t,e){return!e&&console.warn(t)},$=function(t,e){return t&&(X[t]=e)&&Y&&(Y[t]=e)||X},K=function(){return 0},J={suppressEvents:!0,isStart:!0,kill:!1},tt={suppressEvents:!0,kill:!1},et={suppressEvents:!0},nt={},rt=[],it={},ot={},at={},st=30,ct=[],lt="",ut=function(t){var e,n,r=t[0];if(O(r)||P(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=ct.length;n--&&!ct[n].targetTest(r););e=ct[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new De(t[n],e)))||t.splice(n,1);return t},ht=function(t){return t._gsap||ut(te(t))[0]._gsap},ft=function(t,e,n){return(n=t[e])&&P(n)?t[e]():R(n)&&t.getAttribute&&t.getAttribute(e)||n},dt=function(t,e){return(t=t.split(",")).forEach(e)||t},pt=function(t){return Math.round(1e5*t)/1e5||0},gt=function(t){return Math.round(1e7*t)/1e7||0},mt=function(t,e){var n=e.charAt(0),r=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+r:"-"===n?t-r:"*"===n?t*r:t/r},vt=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},yt=function(){var t,e,n=rt.length,r=rt.slice(0);for(it={},rt.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},bt=function(t,e,n,r){rt.length&&!a&&yt(),t.render(e,n,r||a&&e<0&&(t._initted||t._startAt)),rt.length&&!a&&yt()},xt=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(H).length<2?e:L(t)?t.trim():t},_t=function(t){return t},wt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},St=function(t,e){for(var n in e)t[n]=e[n];return t},Tt=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=O(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Mt=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},At=function(t){var e,n=t.parent||c,r=t.keyframes?(e=G(t.keyframes),function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}):wt;if(I(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},Et=function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,a=t[r];if(i)for(o=e[i];a&&a[i]>o;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=a,e.parent=e._dp=t,e},Ct=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,o=e._next;i?i._next=o:t[n]===e&&(t[n]=o),o?o._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Lt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Pt=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},kt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Rt=function(t,e,n,r){return t._startAt&&(a?t._startAt.revert(tt):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,r))},Ot=function(t){return t._repeat?It(t._tTime,t=t.duration()+t._rDelay)*t:0},It=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Dt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Nt=function(t){return t._end=gt(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},Ft=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=gt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Nt(t),n._dirty||Pt(n,t)),t},Gt=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Dt(t.rawTime(),e),(!e._dur||Qt(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Pt(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Bt=function(t,e,n,r){return e.parent&&Lt(e),e._start=gt((k(n)?n:n||t!==c?Xt(t,n,e):t._time)+e._delay),e._end=gt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Et(t,e,"_first","_last",t._sort?"_start":0),Ut(e)||(t._recent=e),r||Gt(t,e),t._ts<0&&Ft(t,t._tTime),t},Vt=function(t,e){return(X.ScrollTrigger||Q("scrollTrigger",e))&&X.ScrollTrigger.create(e,t)},zt=function(t,e,n,r,i){return je(t,e,i),t._initted?!n&&t._pt&&!a&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&d!==we.frame?(rt.push(t),t._lazy=[i,r],1):void 0:1},Ut=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},jt=function(t,e,n,r){var i=t._repeat,o=gt(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=o/t._dur),t._dur=o,t._tDur=i?i<0?1e10:gt(o*(i+1)+t._rDelay*i):o,a>0&&!r&&Ft(t,t._tTime=t._tDur*a),t.parent&&Nt(t),n||Pt(t.parent,t),t},Ht=function(t){return t instanceof Fe?Pt(t):jt(t,t._dur)},Wt={_start:0,endTime:K,totalDuration:K},Xt=function t(e,n,r){var i,o,a,s=e.labels,c=e._recent||Wt,l=e.duration()>=w?c.endTime(!1):e._dur;return L(n)&&(isNaN(n)||n in s)?(o=n.charAt(0),a="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(i<0?c:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=l),s[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),a&&r&&(o=o/100*(G(r)?r[0]:r).totalDuration()),i>1?t(e,n.substr(0,i-1),r)+o:l+o)):null==n?l:+n},Yt=function(t,e,n){var r,i,o=k(e[1]),a=(o?2:1)+(t<2?0:1),s=e[a];if(o&&(s.duration=e[1]),s.parent=n,t){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=I(i.vars.inherit)&&i.parent;s.immediateRender=I(r.immediateRender),t<2?s.runBackwards=1:s.startAt=e[a-1]}return new qe(e[0],s,e[a+1])},qt=function(t,e){return t||0===t?e(t):e},Qt=function(t,e,n){return n<t?t:n>e?e:n},Zt=function(t,e){return L(t)&&(e=W.exec(t))?e[1]:""},$t=[].slice,Kt=function(t,e){return t&&O(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&O(t[0]))&&!t.nodeType&&t!==l},Jt=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return L(t)&&!e||Kt(t,1)?(r=n).push.apply(r,te(t)):n.push(t)}))||n},te=function(t,e,n){return s&&!e&&s.selector?s.selector(t):!L(t)||n||!u&&Se()?G(t)?Jt(t,n):Kt(t)?$t.call(t,0):t?[t]:[]:$t.call((e||h).querySelectorAll(t),0)},ee=function(t){return t=te(t)[0]||Z("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return te(e,n.querySelectorAll?n:n===t?Z("Invalid scope")||h.createElement("div"):t)}},ne=function(t){return t.sort((function(){return.5-Math.random()}))},re=function(t){if(P(t))return t;var e=O(t)?t:{each:t},n=Pe(e.ease),r=e.from||0,i=parseFloat(e.base)||0,o={},a=r>0&&r<1,s=isNaN(r)||a,c=e.axis,l=r,u=r;return L(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(l=r[0],u=r[1]),function(t,a,h){var f,d,p,g,m,v,y,b,x,_=(h||e).length,S=o[_];if(!S){if(!(x="auto"===e.grid?0:(e.grid||[1,w])[1])){for(y=-w;y<(y=h[x++].getBoundingClientRect().left)&&x<_;);x--}for(S=o[_]=[],f=s?Math.min(x,_)*l-.5:r%x,d=x===w?0:s?_*u/x-.5:r/x|0,y=0,b=w,v=0;v<_;v++)p=v%x-f,g=d-(v/x|0),S[v]=m=c?Math.abs("y"===c?g:p):A(p*p+g*g),m>y&&(y=m),m<b&&(b=m);"random"===r&&ne(S),S.max=y-b,S.min=b,S.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(x>_?_-1:c?"y"===c?_/x:x:Math.max(x,_/x))||0)*("edges"===r?-1:1),S.b=_<0?i-_:i,S.u=Zt(e.amount||e.each)||0,n=n&&_<0?Ce(n):n}return _=(S[t]-S.min)/S.max||0,gt(S.b+(n?n(_):_)*S.v)+S.u}},ie=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var r=gt(Math.round(parseFloat(n)/t)*t*e);return(r-r%1)/e+(k(n)?0:Zt(n))}},oe=function(t,e){var n,r,i=G(t);return!i&&O(t)&&(n=i=t.radius||w,t.values?(t=te(t.values),(r=!k(t[0]))&&(n*=n)):t=ie(t.increment)),qt(e,i?P(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,o,a=parseFloat(r?e.x:e),s=parseFloat(r?e.y:0),c=w,l=0,u=t.length;u--;)(i=r?(i=t[u].x-a)*i+(o=t[u].y-s)*o:Math.abs(t[u]-a))<c&&(c=i,l=u);return l=!n||c<=n?t[l]:e,r||l===e||k(e)?l:l+Zt(e)}:ie(t))},ae=function(t,e,n,r){return qt(G(t)?!e:!0===n?!!(n=0):!r,(function(){return G(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},se=function(t,e,n){return qt(n,(function(n){return t[~~e(n)]}))},ce=function(t){for(var e,n,r,i,o=0,a="";~(e=t.indexOf("random(",o));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?H:B),a+=t.substr(o,e-o)+ae(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return a+t.substr(o,t.length-o)},le=function(t,e,n,r,i){var o=e-t,a=r-n;return qt(i,(function(e){return n+((e-t)/o*a||0)}))},ue=function(t,e,n){var r,i,o,a=t.labels,s=w;for(r in a)(i=a[r]-e)<0==!!n&&i&&s>(i=Math.abs(i))&&(o=r,s=i);return o},he=function(t,e,n){var r,i,o,a=t.vars,c=a[e],l=s,u=t._ctx;if(c)return r=a[e+"Params"],i=a.callbackScope||t,n&&rt.length&&yt(),u&&(s=u),o=r?c.apply(i,r):c.call(i),s=l,o},fe=function(t){return Lt(t),t.scrollTrigger&&t.scrollTrigger.kill(!!a),t.progress()<1&&he(t,"onInterrupt"),t},de=function(t){var e=(t=!t.name&&t.default||t).name,n=P(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:K,render:rn,add:ze,kill:an,modifier:on,rawVars:0},o={targetTest:0,get:0,getSetter:Je,aliases:{},register:0};if(Se(),t!==r){if(ot[e])return;wt(r,wt(Mt(t,i),o)),St(r.prototype,St(i,Mt(t,o))),ot[r.prop=e]=r,t.targetTest&&(ct.push(r),nt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}$(e,r),t.register&&t.register(_n,r,ln)},pe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ge=function(t,e,n){return 255*(6*(t+=t<0?1:t>1?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},me=function(t,e,n){var r,i,o,a,s,c,l,u,h,f,d=t?k(t)?[t>>16,t>>8&255,255&t]:0:pe.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),pe[t])d=pe[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),o=t.charAt(3),t="#"+r+r+i+i+o+o+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&255,255&d,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]}else if("hsl"===t.substr(0,3))if(d=f=t.match(B),e){if(~t.indexOf("="))return d=t.match(V),n&&d.length<4&&(d[3]=1),d}else a=+d[0]%360/360,s=+d[1]/100,r=2*(c=+d[2]/100)-(i=c<=.5?c*(s+1):c+s-c*s),d.length>3&&(d[3]*=1),d[0]=ge(a+1/3,r,i),d[1]=ge(a,r,i),d[2]=ge(a-1/3,r,i);else d=t.match(B)||pe.transparent;d=d.map(Number)}return e&&!f&&(r=d[0]/255,i=d[1]/255,o=d[2]/255,c=((l=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,l===u?a=s=0:(h=l-u,s=c>.5?h/(2-l-u):h/(l+u),a=l===r?(i-o)/h+(i<o?6:0):l===i?(o-r)/h+2:(r-i)/h+4,a*=60),d[0]=~~(a+.5),d[1]=~~(100*s+.5),d[2]=~~(100*c+.5)),n&&d.length<4&&(d[3]=1),d},ve=function(t){var e=[],n=[],r=-1;return t.split(be).forEach((function(t){var i=t.match(z)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},ye=function(t,e,n){var r,i,o,a,s="",c=(t+s).match(be),l=e?"hsla(":"rgba(",u=0;if(!c)return t;if(c=c.map((function(t){return(t=me(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=ve(t),(r=n.c).join(s)!==o.c.join(s)))for(a=(i=t.replace(be,"1").split(z)).length-1;u<a;u++)s+=i[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(o.length?o:c.length?c:n).shift());if(!i)for(a=(i=t.split(be)).length-1;u<a;u++)s+=i[u]+c[u];return s+i[a]},be=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in pe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),xe=/hsl[a]?\(/,_e=function(t){var e,n=t.join(" ");if(be.lastIndex=0,be.test(n))return e=xe.test(n),t[1]=ye(t[1],e),t[0]=ye(t[0],e,ve(t[1])),!0},we=function(){var t,e,n,r,i,o,a=Date.now,s=500,c=33,d=a(),p=d,m=1e3/240,v=m,y=[],b=function n(l){var u,h,f,g,b=a()-p,x=!0===l;if(b>s&&(d+=b-c),((u=(f=(p+=b)-d)-v)>0||x)&&(g=++r.frame,i=f-1e3*r.time,r.time=f/=1e3,v+=u+(u>=m?4:m-u),h=1),x||(t=e(n)),h)for(o=0;o<y.length;o++)y[o](f,i,g,l)};return r={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(t){return i/(1e3/(t||60))},wake:function(){f&&(!u&&D()&&(l=u=window,h=l.document||{},X.gsap=_n,(l.gsapVersions||(l.gsapVersions=[])).push(_n.version),q(Y||l.GreenSockGlobals||!l.gsap&&l||{}),n=l.requestAnimationFrame),t&&r.sleep(),e=n||function(t){return setTimeout(t,v-1e3*r.time+1|0)},g=1,b(2))},sleep:function(){(n?l.cancelAnimationFrame:clearTimeout)(t),g=0,e=K},lagSmoothing:function(t,e){s=t||1/0,c=Math.min(e||33,s)},fps:function(t){m=1e3/(t||240),v=1e3*r.time+m},add:function(t,e,n){var i=e?function(e,n,o,a){t(e,n,o,a),r.remove(i)}:t;return r.remove(t),y[n?"unshift":"push"](i),Se(),i},remove:function(t,e){~(e=y.indexOf(t))&&y.splice(e,1)&&o>=e&&o--},_listeners:y}}(),Se=function(){return!g&&we.wake()},Te={},Me=/^[\d.\-M][\d.\-,\s]/,Ae=/["']/g,Ee=function(t){for(var e,n,r,i={},o=t.substr(1,t.length-3).split(":"),a=o[0],s=1,c=o.length;s<c;s++)n=o[s],e=s!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[a]=isNaN(r)?r.replace(Ae,"").trim():+r,a=n.substr(e+1).trim();return i},Ce=function(t){return function(e){return 1-t(1-e)}},Le=function t(e,n){for(var r,i=e._first;i;)i instanceof Fe?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Pe=function(t,e){return t&&(P(t)?t:Te[t]||function(t){var e,n,r,i,o=(t+"").split("("),a=Te[o[0]];return a&&o.length>1&&a.config?a.config.apply(null,~t.indexOf("{")?[Ee(o[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(xt)):Te._CE&&Me.test(t)?Te._CE("",t):a}(t))||e},ke=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,o={easeIn:e,easeOut:n,easeInOut:r};return dt(t,(function(t){for(var e in Te[t]=X[t]=o,Te[i=t.toLowerCase()]=n,o)Te[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Te[t+"."+e]=o[e]})),o},Re=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Oe=function t(e,n,r){var i=n>=1?n:1,o=(r||(e?.3:.45))/(n<1?n:1),a=o/S*(Math.asin(1/i)||0),s=function(t){return 1===t?1:i*Math.pow(2,-10*t)*C((t-a)*o)+1},c="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Re(s);return o=S/o,c.config=function(n,r){return t(e,n,r)},c},Ie=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:Re(r);return i.config=function(n){return t(e,n)},i};dt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;ke(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Te.Linear.easeNone=Te.none=Te.Linear.easeIn,ke("Elastic",Oe("in"),Oe("out"),Oe()),m=7.5625,y=1/(v=2.75),ke("Bounce",(function(t){return 1-b(1-t)}),b=function(t){return t<y?m*t*t:t<.7272727272727273?m*Math.pow(t-1.5/v,2)+.75:t<.9090909090909092?m*(t-=2.25/v)*t+.9375:m*Math.pow(t-2.625/v,2)+.984375}),ke("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),ke("Circ",(function(t){return-(A(1-t*t)-1)})),ke("Sine",(function(t){return 1===t?1:1-E(t*T)})),ke("Back",Ie("in"),Ie("out"),Ie()),Te.SteppedEase=Te.steps=X.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*Qt(0,1-1e-8,t)|0)+i)*n}}},_.ease=Te["quad.out"],dt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return lt+=t+","+t+"Params,"}));var De=function(t,e){this.id=M++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:ft,this.set=e?e.getSetter:Je},Ne=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,jt(this,+t.duration,1,1),this.data=t.data,s&&(this._ctx=s,s.data.push(this)),g||we.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,jt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Se(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Ft(this,t),!n._dp||n.parent||Gt(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Bt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),bt(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Ot(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Ot(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?It(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Dt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(Qt(-this._delay,this._tDur,e),!0),Nt(this),kt(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Se(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1e-8!==Math.abs(this._zTime)&&(this._tTime-=1e-8)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Bt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(I(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Dt(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=et);var e=a;return a=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),a=e,this},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1:this._sat.globalTime(t):n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ht(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,Ht(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(Xt(this,t),I(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,I(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=P(t)?t:_t,i=function(){var t=e.then;e.then=null,P(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){fe(this)},t}();wt(Ne.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Fe=function(t){function e(e,n){var i;return void 0===e&&(e={}),(i=t.call(this,e)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=I(e.sortChildren),c&&Bt(e.parent||c,r(i),n),e.reversed&&i.reverse(),e.paused&&i.paused(!0),e.scrollTrigger&&Vt(r(i),e.scrollTrigger),i}i(e,t);var n=e.prototype;return n.to=function(t,e,n){return Yt(0,arguments,this),this},n.from=function(t,e,n){return Yt(1,arguments,this),this},n.fromTo=function(t,e,n,r){return Yt(2,arguments,this),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,At(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new qe(t,e,Xt(this,n),1),this},n.call=function(t,e,n){return Bt(this,qe.delayedCall(0,t,e),n)},n.staggerTo=function(t,e,n,r,i,o,a){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new qe(t,n,Xt(this,i)),this},n.staggerFrom=function(t,e,n,r,i,o,a){return n.runBackwards=1,At(n).immediateRender=I(n.immediateRender),this.staggerTo(t,e,n,r,i,o,a)},n.staggerFromTo=function(t,e,n,r,i,o,a,s){return r.startAt=n,At(r).immediateRender=I(r.immediateRender),this.staggerTo(t,e,r,i,o,a,s)},n.render=function(t,e,n){var r,i,o,s,l,u,h,f,d,p,g,m,v=this._time,y=this._dirty?this.totalDuration():this._tDur,b=this._dur,x=t<=0?0:gt(t),_=this._zTime<0!=t<0&&(this._initted||!b);if(this!==c&&x>y&&t>=0&&(x=y),x!==this._tTime||n||_){if(v!==this._time&&b&&(x+=this._time-v,t+=this._time-v),r=x,d=this._start,u=!(f=this._ts),_&&(b||(v=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(g=this._yoyo,l=b+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*l+t,e,n);if(r=gt(x%l),x===y?(s=this._repeat,r=b):((s=~~(x/l))&&s===x/l&&(r=b,s--),r>b&&(r=b)),p=It(this._tTime,l),!v&&this._tTime&&p!==s&&(p=s),g&&1&s&&(r=b-r,m=1),s!==p&&!this._lock){var w=g&&1&p,S=w===(g&&1&s);if(s<p&&(w=!w),v=w?0:b,this._lock=1,this.render(v||(m?0:gt(s*l)),e,!b)._lock=0,this._tTime=x,!e&&this.parent&&he(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),v&&v!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(b=this._dur,y=this._tDur,S&&(this._lock=2,v=w?b:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Le(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,gt(v),gt(r)))&&(x-=r-(r=h._start)),this._tTime=x,this._time=r,this._act=!f,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&r&&!e&&(he(this,"onStart"),this._tTime!==x))return this;if(r>=v&&t>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!u){h=0,o&&(x+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var T=t<0?t:r;i;){if(o=i._prev,(i._act||T<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(T-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(T-i._start)*i._ts,e,n||a&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){h=0,o&&(x+=this._zTime=T?-1e-8:1e-8);break}}i=o}}if(h&&!e&&(this.pause(),h.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=d,Nt(this),this.render(t,e,n);this._onUpdate&&!e&&he(this,"onUpdate",!0),(x===y&&this._tTime>=this.totalDuration()||!x&&v)&&(d!==this._start&&Math.abs(f)===Math.abs(this._ts)||this._lock||((t||!b)&&(x===y&&this._ts>0||!x&&this._ts<0)&&Lt(this,1),e||t<0&&!v||!x&&!v&&y||(he(this,x===y&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(x<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(k(e)||(e=Xt(this,e,t)),!(t instanceof Ne)){if(G(t))return t.forEach((function(t){return n.add(t,e)})),this;if(L(t))return this.addLabel(t,e);if(!P(t))return this;t=qe.delayedCall(0,t)}return this!==t?Bt(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-w);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof qe?e&&i.push(o):(n&&i.push(o),t&&i.push.apply(i,o.getChildren(!0,e,n)))),o=o._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return L(t)?this.removeLabel(t):P(t)?this.killTweensOf(t):(Ct(this,t),t===this._recent&&(this._recent=this._last),Pt(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gt(we.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=Xt(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=qe.delayedCall(0,e||K,n);return r.data="isPause",this._hasPause=1,Bt(this,r,Xt(this,t))},n.removePause=function(t){var e=this._first;for(t=Xt(this,t);e;)e._start===t&&"isPause"===e.data&&Lt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)Ge!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=te(t),o=this._first,a=k(e);o;)o instanceof qe?vt(o._targets,i)&&(a?(!Ge||o._initted&&o._ts)&&o.globalTime(0)<=e&&o.globalTime(o.totalDuration())>e:!e||o.isActive())&&r.push(o):(n=o.getTweensOf(i,e)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(t,e){e=e||{};var n,r=this,i=Xt(r,t),o=e,a=o.startAt,s=o.onStart,c=o.onStartParams,l=o.immediateRender,u=qe.to(r,wt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale())||1e-8,onStart:function(){if(r.pause(),!n){var t=e.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale());u._dur!==t&&jt(u,t,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,c||[])}},e));return l?u.render(0):u},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,wt({startAt:{time:Xt(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ue(this,Xt(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ue(this,Xt(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in o)o[r]>=n&&(o[r]+=t);return Pt(this)},n.invalidate=function(e){var n=this._first;for(this._lock=0;n;)n.invalidate(e),n=n._next;return t.prototype.invalidate.call(this,e)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Pt(this)},n.totalDuration=function(t){var e,n,r,i=0,o=this,a=o._last,s=w;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(r=o.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>s&&o._sort&&a._ts&&!o._lock?(o._lock=1,Bt(o,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),s=0),a._end>i&&a._ts&&(i=a._end),a=e;jt(o,o===c&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(t){if(c._ts&&(bt(c,Dt(t,c)),d=we.frame),we.frame>=st){st+=x.autoSleep||120;var e=c._first;if((!e||!e._ts)&&x.autoSleep&&we._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||we.sleep()}}},e}(Ne);wt(Fe.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ge,Be,Ve=function(t,e,n,r,i,o,a){var s,c,l,u,h,f,d,p,g=new ln(this._pt,t,e,0,1,nn,null,i),m=0,v=0;for(g.b=n,g.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=ce(r)),o&&(o(p=[n,r],t,e),n=p[0],r=p[1]),c=n.match(U)||[];s=U.exec(r);)u=s[0],h=r.substring(m,s.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),u!==c[v++]&&(f=parseFloat(c[v-1])||0,g._pt={_next:g._pt,p:h||1===v?h:",",s:f,c:"="===u.charAt(1)?mt(f,u)-f:parseFloat(u)-f,m:l&&l<4?Math.round:0},m=U.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=a,(j.test(r)||d)&&(g.e=0),this._pt=g,g},ze=function(t,e,n,r,i,o,a,s,c,l){P(r)&&(r=r(i||0,t,o));var u,h=t[e],f="get"!==n?n:P(h)?c?t[e.indexOf("set")||!P(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():h,d=P(h)?c?$e:Ze:Qe;if(L(r)&&(~r.indexOf("random(")&&(r=ce(r)),"="===r.charAt(1)&&((u=mt(f,r)+(Zt(f)||0))||0===u)&&(r=u)),!l||f!==r||Be)return isNaN(f*r)||""===r?(!h&&!(e in t)&&Q(e,r),Ve.call(this,t,e,f,r,d,s||x.stringFilter,c)):(u=new ln(this._pt,t,e,+f||0,r-(f||0),"boolean"==typeof h?en:tn,0,d),c&&(u.fp=c),a&&u.modifier(a,this,t),this._pt=u)},Ue=function(t,e,n,r,i,o){var a,s,c,l;if(ot[t]&&!1!==(a=new ot[t]).init(i,a.rawVars?e[t]:function(t,e,n,r,i){if(P(t)&&(t=We(t,i,e,n,r)),!O(t)||t.style&&t.nodeType||G(t)||F(t))return L(t)?We(t,i,e,n,r):t;var o,a={};for(o in t)a[o]=We(t[o],i,e,n,r);return a}(e[t],r,i,o,n),n,r,o)&&(n._pt=s=new ln(n._pt,i,t,0,1,a.render,a,0,a.priority),n!==p))for(c=n._ptLookup[n._targets.indexOf(i)],l=a._props.length;l--;)c[a._props[l]]=s;return a},je=function t(e,n,r){var i,s,l,u,h,f,d,p,g,m,v,y,b,x=e.vars,S=x.ease,T=x.startAt,M=x.immediateRender,A=x.lazy,E=x.onUpdate,C=x.onUpdateParams,L=x.callbackScope,P=x.runBackwards,k=x.yoyoEase,R=x.keyframes,O=x.autoRevert,D=e._dur,N=e._startAt,F=e._targets,G=e.parent,B=G&&"nested"===G.data?G.vars.targets:F,V="auto"===e._overwrite&&!o,z=e.timeline;if(z&&(!R||!S)&&(S="none"),e._ease=Pe(S,_.ease),e._yEase=k?Ce(Pe(!0===k?S:k,_.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),e._from=!z&&!!x.runBackwards,!z||R&&!x.stagger){if(y=(p=F[0]?ht(F[0]).harness:0)&&x[p.prop],i=Mt(x,nt),N&&(N._zTime<0&&N.progress(1),n<0&&P&&M&&!O?N.render(-1,!0):N.revert(P&&D?tt:J),N._lazy=0),T){if(Lt(e._startAt=qe.set(F,wt({data:"isStart",overwrite:!1,parent:G,immediateRender:!0,lazy:!N&&I(A),startAt:null,delay:0,onUpdate:E,onUpdateParams:C,callbackScope:L,stagger:0},T))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(a||!M&&!O)&&e._startAt.revert(tt),M&&D&&n<=0&&r<=0)return void(n&&(e._zTime=n))}else if(P&&D&&!N)if(n&&(M=!1),l=wt({overwrite:!1,data:"isFromStart",lazy:M&&!N&&I(A),immediateRender:M,stagger:0,parent:G},i),y&&(l[p.prop]=y),Lt(e._startAt=qe.set(F,l)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(a?e._startAt.revert(tt):e._startAt.render(-1,!0)),e._zTime=n,M){if(!n)return}else t(e._startAt,1e-8,1e-8);for(e._pt=e._ptCache=0,A=D&&I(A)||A&&!D,s=0;s<F.length;s++){if(d=(h=F[s])._gsap||ut(F)[s]._gsap,e._ptLookup[s]=m={},it[d.id]&&rt.length&&yt(),v=B===F?s:B.indexOf(h),p&&!1!==(g=new p).init(h,y||i,e,v,B)&&(e._pt=u=new ln(e._pt,h,g.name,0,1,g.render,g,0,g.priority),g._props.forEach((function(t){m[t]=u})),g.priority&&(f=1)),!p||y)for(l in i)ot[l]&&(g=Ue(l,i,e,v,h,B))?g.priority&&(f=1):m[l]=u=ze.call(e,h,l,"get",i[l],v,B,0,x.stringFilter);e._op&&e._op[s]&&e.kill(h,e._op[s]),V&&e._pt&&(Ge=e,c.killTweensOf(h,m,e.globalTime(n)),b=!e.parent,Ge=0),e._pt&&A&&(it[d.id]=1)}f&&cn(e),e._onInit&&e._onInit(e)}e._onUpdate=E,e._initted=(!e._op||e._pt)&&!b,R&&n<=0&&z.render(w,!0,!0)},He=function(t,e,n,r){var i,o,a=e.ease||r||"power1.inOut";if(G(e))o=n[t]||(n[t]=[]),e.forEach((function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:a})}));else for(i in e)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(t),v:e[i],e:a})},We=function(t,e,n,r,i){return P(t)?t.call(e,n,r,i):L(t)&&~t.indexOf("random(")?ce(t):t},Xe=lt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ye={};dt(Xe+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Ye[t]=1}));var qe=function(t){function e(e,n,i,a){var s;"number"==typeof n&&(i.duration=n,n=i,i=null);var l,u,h,f,d,p,g,m,v=(s=t.call(this,a?n:At(n))||this).vars,y=v.duration,b=v.delay,_=v.immediateRender,w=v.stagger,S=v.overwrite,T=v.keyframes,M=v.defaults,A=v.scrollTrigger,E=v.yoyoEase,C=n.parent||c,L=(G(e)||F(e)?k(e[0]):"length"in n)?[e]:te(e);if(s._targets=L.length?ut(L):Z("GSAP target "+e+" not found. https://greensock.com",!x.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=S,T||w||N(y)||N(b)){if(n=s.vars,(l=s.timeline=new Fe({data:"nested",defaults:M||{},targets:C&&"nested"===C.data?C.vars.targets:L})).kill(),l.parent=l._dp=r(s),l._start=0,w||N(y)||N(b)){if(f=L.length,g=w&&re(w),O(w))for(d in w)~Xe.indexOf(d)&&(m||(m={}),m[d]=w[d]);for(u=0;u<f;u++)(h=Mt(n,Ye)).stagger=0,E&&(h.yoyoEase=E),m&&St(h,m),p=L[u],h.duration=+We(y,r(s),u,p,L),h.delay=(+We(b,r(s),u,p,L)||0)-s._delay,!w&&1===f&&h.delay&&(s._delay=b=h.delay,s._start+=b,h.delay=0),l.to(p,h,g?g(u,p,L):0),l._ease=Te.none;l.duration()?y=b=0:s.timeline=0}else if(T){At(wt(l.vars.defaults,{ease:"none"})),l._ease=Pe(T.ease||n.ease||"none");var P,R,D,B=0;if(G(T))T.forEach((function(t){return l.to(L,t,">")})),l.duration();else{for(d in h={},T)"ease"===d||"easeEach"===d||He(d,T[d],h,T.easeEach);for(d in h)for(P=h[d].sort((function(t,e){return t.t-e.t})),B=0,u=0;u<P.length;u++)(D={ease:(R=P[u]).e,duration:(R.t-(u?P[u-1].t:0))/100*y})[d]=R.v,l.to(L,D,B),B+=D.duration;l.duration()<y&&l.to({},{duration:y-l.duration()})}}y||s.duration(y=l.duration())}else s.timeline=0;return!0!==S||o||(Ge=r(s),c.killTweensOf(L),Ge=0),Bt(C,r(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(_||!y&&!T&&s._start===gt(C._time)&&I(_)&&function t(e){return!e||e._ts&&t(e.parent)}(r(s))&&"nested"!==C.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-b)||0)),A&&Vt(r(s),A),s}i(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,o,s,c,l,u,h,f,d=this._time,p=this._tDur,g=this._dur,m=t<0,v=t>p-1e-8&&!m?p:t<1e-8?0:t;if(g){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=v,h=this.timeline,this._repeat){if(s=g+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+t,e,n);if(r=gt(v%s),v===p?(o=this._repeat,r=g):((o=~~(v/s))&&o===v/s&&(r=g,o--),r>g&&(r=g)),(l=this._yoyo&&1&o)&&(f=this._yEase,r=g-r),c=It(this._tTime,s),r===d&&!n&&this._initted)return this._tTime=v,this;o!==c&&(h&&this._yEase&&Le(h,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(gt(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(zt(this,m?t:r,n,e,v))return this._tTime=0,this;if(d!==this._time)return this;if(g!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(f||this._ease)(r/g),this._from&&(this.ratio=u=1-u),r&&!d&&!e&&(he(this,"onStart"),this._tTime!==v))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(t<0?t:!r&&l?-1e-8:h._dur*h._ease(r/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(m&&Rt(this,t,0,n),he(this,"onUpdate")),this._repeat&&o!==c&&this.vars.onRepeat&&!e&&this.parent&&he(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&Rt(this,t,0,!0),(t||!g)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Lt(this,1),e||m&&!d||!(v||d||l)||(he(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,o,s,c=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)&&(t._initted||!Ut(t))||(t._ts<0||t._dp._ts<0)&&!Ut(t))?0:1,u=t._rDelay,h=0;if(u&&t._repeat&&(h=Qt(0,t._tDur,e),o=It(h,u),t._yoyo&&1&o&&(l=1-l),o!==It(t._tTime,u)&&(c=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==c||a||r||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&zt(t,e,r,n,h))return;for(s=t._zTime,t._zTime=e||(n?1e-8:0),n||(n=e&&!s),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=h,i=t._pt;i;)i.r(l,i.d),i=i._next;e<0&&Rt(t,e,0,!0),t._onUpdate&&!n&&he(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&he(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&Lt(t,1),n||a||(he(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},n.resetTo=function(t,e,n,r){g||we.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||je(this,i),function(t,e,n,r,i,o,a){var s,c,l,u,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],l=t._ptLookup,u=t._targets.length;u--;){if((s=l[u][e])&&s.d&&s.d._pt)for(s=s.d._pt;s&&s.p!==e&&s.fp!==e;)s=s._next;if(!s)return Be=1,t.vars[e]="+=0",je(t,a),Be=0,1;h.push(s)}for(u=h.length;u--;)(s=(c=h[u])._pt||c).s=!r&&0!==r||i?s.s+(r||0)+o*s.c:r,s.c=n-s.s,c.e&&(c.e=pt(n)+Zt(c.e)),c.b&&(c.b=s.s+Zt(c.b))}(this,t,e,n,r,this._ease(i/this._dur),i)?this.resetTo(t,e,n,r):(Ft(this,0),this.parent||Et(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?fe(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ge&&!0!==Ge.vars.overwrite)._first||fe(this),this.parent&&n!==this.timeline.totalDuration()&&jt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,a,s,c,l,u=this._targets,h=t?te(t):u,f=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(u,h))return"all"===e&&(this._pt=0),fe(this);for(r=this._op=this._op||[],"all"!==e&&(L(e)&&(s={},dt(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var n,r,i,o,a=t[0]?ht(t[0]).harness:0,s=a&&a.aliases;if(!s)return e;for(r in n=St({},e),s)if(r in n)for(i=(o=s[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,e)),l=u.length;l--;)if(~h.indexOf(u[l]))for(s in i=f[l],"all"===e?(r[l]=e,a=i,o={}):(o=r[l]=r[l]||{},a=e),a)(c=i&&i[s])&&("kill"in c.d&&!0!==c.d.kill(s)||Ct(this,c,"_pt"),delete i[s]),"all"!==o&&(o[s]=1);return this._initted&&!this._pt&&d&&fe(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,e){return Yt(1,arguments)},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,e,n){return Yt(2,arguments)},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return c.killTweensOf(t,e,n)},e}(Ne);wt(qe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),dt("staggerTo,staggerFrom,staggerFromTo",(function(t){qe[t]=function(){var e=new Fe,n=$t.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Qe=function(t,e,n){return t[e]=n},Ze=function(t,e,n){return t[e](n)},$e=function(t,e,n,r){return t[e](r.fp,n)},Ke=function(t,e,n){return t.setAttribute(e,n)},Je=function(t,e){return P(t[e])?Ze:R(t[e])&&t.setAttribute?Ke:Qe},tn=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},en=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},nn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},rn=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},on=function(t,e,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(t,e,n),o=i},an=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?Ct(this,r,"_pt"):r.dep||(e=1),r=n;return!e},sn=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},cn=function(t){for(var e,n,r,i,o=t._pt;o;){for(e=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=e}t._pt=r},ln=function(){function t(t,e,n,r,i,o,a,s,c){this.t=e,this.s=r,this.c=i,this.p=n,this.r=o||tn,this.d=a||this,this.set=s||Qe,this.pr=c||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=sn,this.m=t,this.mt=n,this.tween=e},t}();dt(lt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return nt[t]=1})),X.TweenMax=X.TweenLite=qe,X.TimelineLite=X.TimelineMax=Fe,c=new Fe({sortChildren:!1,defaults:_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),x.stringFilter=_e;var un=[],hn={},fn=[],dn=0,pn=function(t){return(hn[t]||fn).map((function(t){return t()}))},gn=function(){var t=Date.now(),e=[];t-dn>2&&(pn("matchMediaInit"),un.forEach((function(t){var n,r,i,o,a=t.queries,s=t.conditions;for(r in a)(n=l.matchMedia(a[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,o=1);o&&(t.revert(),i&&e.push(t))})),pn("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t)})),dn=t,pn("matchMedia"))},mn=function(){function t(t,e){this.selector=e&&ee(e),this.data=[],this._r=[],this.isReverted=!1,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,n){P(t)&&(n=e,e=t,t=P);var r=this,i=function(){var t,i=s,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ee(n)),s=r,t=e.apply(r,arguments),P(t)&&r._r.push(t),s=i,r.selector=o,r.isReverted=!1,t};return r.last=i,t===P?i(r):t?r[t]=i:i},e.ignore=function(t){var e=s;s=null,t(this),s=e},e.getTweens=function(){var e=[];return this.data.forEach((function(n){return n instanceof t?e.push.apply(e,n.getTweens()):n instanceof qe&&!(n.parent&&"nested"===n.parent.data)&&e.push(n)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var n=this;if(t){var r=this.getTweens();this.data.forEach((function(t){"isFlip"===t.data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(t){return r.splice(r.indexOf(t),1)})))})),r.map((function(t){return{g:t.globalTime(0),t:t}})).sort((function(t,e){return e.g-t.g||-1})).forEach((function(e){return e.t.revert(t)})),this.data.forEach((function(e){return!(e instanceof Ne)&&e.revert&&e.revert(t)})),this._r.forEach((function(e){return e(t,n)})),this.isReverted=!0}else this.data.forEach((function(t){return t.kill&&t.kill()}));if(this.clear(),e){var i=un.indexOf(this);~i&&un.splice(i,1)}},e.revert=function(t){this.kill(t||{})},t}(),vn=function(){function t(t){this.contexts=[],this.scope=t}var e=t.prototype;return e.add=function(t,e,n){O(t)||(t={matches:t});var r,i,o,a=new mn(0,n||this.scope),s=a.conditions={};for(i in this.contexts.push(a),e=a.add("onMatch",e),a.queries=t,t)"all"===i?o=1:(r=l.matchMedia(t[i]))&&(un.indexOf(a)<0&&un.push(a),(s[i]=r.matches)&&(o=1),r.addListener?r.addListener(gn):r.addEventListener("change",gn));return o&&e(a),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),yn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return de(t)}))},timeline:function(t){return new Fe(t)},getTweensOf:function(t,e){return c.getTweensOf(t,e)},getProperty:function(t,e,n,r){L(t)&&(t=te(t)[0]);var i=ht(t||{}).get,o=n?_t:xt;return"native"===n&&(n=""),t?e?o((ot[e]&&ot[e].get||i)(t,e,n,r)):function(e,n,r){return o((ot[e]&&ot[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=te(t)).length>1){var r=t.map((function(t){return _n.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var o=ot[e],a=ht(t),s=a.harness&&(a.harness.aliases||{})[e]||e,c=o?function(e){var r=new o;p._pt=0,r.init(t,n?e+n:e,p,0,[t]),r.render(1,r),p._pt&&rn(1,p)}:a.set(t,s);return o?c:function(e){return c(t,s,n?e+n:e,a,1)}},quickTo:function(t,e,n){var r,i=_n.to(t,St(((r={})[e]="+=0.1",r.paused=!0,r),n||{})),o=function(t,n,r){return i.resetTo(e,t,n,r)};return o.tween=i,o},isTweening:function(t){return c.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Pe(t.ease,_.ease)),Tt(_,t||{})},config:function(t){return Tt(x,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,o=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!ot[t]&&!X[t]&&Z(e+" effect requires "+t+" plugin.")})),at[e]=function(t,e,r){return n(te(t),wt(e||{},i),r)},o&&(Fe.prototype[e]=function(t,n,r){return this.add(at[e](t,O(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Te[t]=Pe(e)},parseEase:function(t,e){return arguments.length?Pe(t,e):Te},getById:function(t){return c.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new Fe(t);for(i.smoothChildTiming=I(t.smoothChildTiming),c.remove(i),i._dp=0,i._time=i._tTime=c._time,n=c._first;n;)r=n._next,!e&&!n._dur&&n instanceof qe&&n.vars.onComplete===n._targets[0]||Bt(i,n,n._start-n._delay),n=r;return Bt(c,i,0),i},context:function(t,e){return t?new mn(t,e):s},matchMedia:function(t){return new vn(t)},matchMediaRefresh:function(){return un.forEach((function(t){var e,n,r=t.conditions;for(n in r)r[n]&&(r[n]=!1,e=1);e&&t.revert()}))||gn()},addEventListener:function(t,e){var n=hn[t]||(hn[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=hn[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},utils:{wrap:function t(e,n,r){var i=n-e;return G(e)?se(e,t(0,e.length),n):qt(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,o=2*i;return G(e)?se(e,t(0,e.length-1),n):qt(r,(function(t){return e+((t=(o+(t-e)%o)%o||0)>i?o-t:t)}))},distribute:re,random:ae,snap:oe,normalize:function(t,e,n){return le(t,e,0,1,n)},getUnit:Zt,clamp:function(t,e,n){return qt(n,(function(n){return Qt(t,e,n)}))},splitColor:me,toArray:te,selector:ee,mapRange:le,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Zt(n))}},interpolate:function t(e,n,r,i){var o=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!o){var a,s,c,l,u,h=L(e),f={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(G(e)&&!G(n)){for(c=[],l=e.length,u=l-2,s=1;s<l;s++)c.push(t(e[s-1],e[s]));l--,o=function(t){t*=l;var e=Math.min(u,~~t);return c[e](t-e)},r=n}else i||(e=St(G(e)?[]:{},e));if(!c){for(a in n)ze.call(f,e,a,"get",n[a]);o=function(t){return rn(t,f)||(h?e.p:e)}}}return qt(r,o)},shuffle:ne},install:q,effects:at,ticker:we,updateRoot:Fe.updateRoot,plugins:ot,globalTimeline:c,core:{PropTween:ln,globals:$,Tween:qe,Timeline:Fe,Animation:Ne,getCache:ht,_removeLinkedListItem:Ct,reverting:function(){return a},context:function(t){return t&&s&&(s.data.push(t),t._ctx=s),s},suppressOverwrites:function(t){return o=t}}};dt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return yn[t]=qe[t]})),we.add(Fe.updateRoot),p=yn.to({},{duration:0});var bn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},xn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(L(n)&&(r={},dt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,o=t._targets;for(n in e)for(r=o.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=bn(i,n)),i&&i.modifier&&i.modifier(e[n],t,o[r],n))}(t,n)}}}},_n=yn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var o,a,s;for(o in this.tween=n,e)s=t.getAttribute(o)||"",(a=this.add(t,"setAttribute",(s||0)+"",e[o],r,i,0,0,o)).op=o,a.b=s,this._props.push(o)},render:function(t,e){for(var n=e._pt;n;)a?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},xn("roundProps",ie),xn("modifiers"),xn("snap",oe))||yn;qe.version=Fe.version=_n.version="3.11.4",f=1,D()&&Se();Te.Power0,Te.Power1,Te.Power2,Te.Power3,Te.Power4,Te.Linear,Te.Quad,Te.Cubic,Te.Quart,Te.Quint,Te.Strong,Te.Elastic,Te.Back,Te.SteppedEase,Te.Bounce,Te.Sine,Te.Expo,Te.Circ;var wn,Sn,Tn,Mn,An,En,Cn,Ln,Pn={},kn=180/Math.PI,Rn=Math.PI/180,On=Math.atan2,In=/([A-Z])/g,Dn=/(left|right|width|margin|padding|x)/i,Nn=/[\s,\(]\S/,Fn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Gn=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Bn=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Vn=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},zn=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},Un=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},jn=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},Hn=function(t,e,n){return t.style[e]=n},Wn=function(t,e,n){return t.style.setProperty(e,n)},Xn=function(t,e,n){return t._gsap[e]=n},Yn=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},qn=function(t,e,n,r,i){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},Qn=function(t,e,n,r,i){var o=t._gsap;o[e]=n,o.renderTransform(i,o)},Zn="transform",$n=Zn+"Origin",Kn=function(t,e){var n=this,r=this.target,i=r.style;if(t in Pn){if(this.tfm=this.tfm||{},"transform"!==t&&(~(t=Fn[t]||t).indexOf(",")?t.split(",").forEach((function(t){return n.tfm[t]=mr(r,t)})):this.tfm[t]=r._gsap.x?r._gsap[t]:mr(r,t)),this.props.indexOf(Zn)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push($n,e,"")),t=Zn}(i||e)&&this.props.push(t,e,i[t])},Jn=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},tr=function(){var t,e,n=this.props,r=this.target,i=r.style,o=r._gsap;for(t=0;t<n.length;t+=3)n[t+1]?r[n[t]]=n[t+2]:n[t+2]?i[n[t]]=n[t+2]:i.removeProperty(n[t].replace(In,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)o[e]=this.tfm[e];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),!(t=Cn())||t.isStart||i[Zn]||(Jn(i),o.uncache=1)}},er=function(t,e){var n={target:t,props:[],revert:tr,save:Kn};return e&&e.split(",").forEach((function(t){return n.save(t)})),n},nr=function(t,e){var n=Sn.createElementNS?Sn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Sn.createElement(t);return n.style?n:Sn.createElement(t)},rr=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(In,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,or(n)||n,1)||""},ir="O,Moz,ms,Ms,Webkit".split(","),or=function(t,e,n){var r=(e||An).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(ir[i]+t in r););return i<0?null:(3===i?"ms":i>=0?ir[i]:"")+t},ar=function(){"undefined"!=typeof window&&window.document&&(wn=window,Sn=wn.document,Tn=Sn.documentElement,An=nr("div")||{style:{}},nr("div"),Zn=or(Zn),$n=Zn+"Origin",An.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ln=!!or("perspective"),Cn=_n.core.reverting,Mn=1)},sr=function t(e){var n,r=nr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,a=this.style.cssText;if(Tn.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),Tn.removeChild(r),this.style.cssText=a,n},cr=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},lr=function(t){var e;try{e=t.getBBox()}catch(n){e=sr.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===sr||(e=sr.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+cr(t,["x","cx","x1"])||0,y:+cr(t,["y","cy","y1"])||0,width:0,height:0}},ur=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!lr(t))},hr=function(t,e){if(e){var n=t.style;e in Pn&&e!==$n&&(e=Zn),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(In,"-$1").toLowerCase())):n.removeAttribute(e)}},fr=function(t,e,n,r,i,o){var a=new ln(t._pt,e,n,0,1,o?jn:Un);return t._pt=a,a.b=r,a.e=i,t._props.push(n),a},dr={deg:1,rad:1,turn:1},pr={grid:1,flex:1},gr=function t(e,n,r,i){var o,a,s,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",h=An.style,f=Dn.test(n),d="svg"===e.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),g="px"===i,m="%"===i;return i===u||!l||dr[i]||dr[u]?l:("px"!==u&&!g&&(l=t(e,n,r,"px")),c=e.getCTM&&ur(e),!m&&"%"!==u||!Pn[n]&&!~n.indexOf("adius")?(h[f?"width":"height"]=100+(g?u:i),a=~n.indexOf("adius")||"em"===i&&e.appendChild&&!d?e:e.parentNode,c&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Sn&&a.appendChild||(a=Sn.body),(s=a._gsap)&&m&&s.width&&f&&s.time===we.time&&!s.uncache?pt(l/s.width*100):((m||"%"===u)&&!pr[rr(a,"display")]&&(h.position=rr(e,"position")),a===e&&(h.position="static"),a.appendChild(An),o=An[p],a.removeChild(An),h.position="absolute",f&&m&&((s=ht(a)).time=we.time,s.width=a[p]),pt(g?o*l/100:o&&l?100/o*l:0))):(o=c?e.getBBox()[f?"width":"height"]:e[p],pt(m?l/o*100:l/100*o)))},mr=function(t,e,n,r){var i;return Mn||ar(),e in Fn&&"transform"!==e&&~(e=Fn[e]).indexOf(",")&&(e=e.split(",")[0]),Pn[e]&&"transform"!==e?(i=Er(t,r),i="transformOrigin"!==e?i[e]:i.svg?i.origin:Cr(rr(t,$n))+" "+i.zOrigin+"px"):(!(i=t.style[e])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=xr[e]&&xr[e](t,e,n)||rr(t,e)||ft(t,e)||("opacity"===e?1:0)),n&&!~(i+"").trim().indexOf(" ")?gr(t,e,i,n)+n:i},vr=function(t,e,n,r){if(!n||"none"===n){var i=or(e,t,1),o=i&&rr(t,i,1);o&&o!==n?(e=i,n=o):"borderColor"===e&&(n=rr(t,"borderTopColor"))}var a,s,c,l,u,h,f,d,p,g,m,v=new ln(this._pt,t.style,e,0,1,nn),y=0,b=0;if(v.b=n,v.e=r,n+="","auto"===(r+="")&&(t.style[e]=r,r=rr(t,e)||r,t.style[e]=n),_e(a=[n,r]),r=a[1],c=(n=a[0]).match(z)||[],(r.match(z)||[]).length){for(;s=z.exec(r);)f=s[0],p=r.substring(y,s.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),f!==(h=c[b++]||"")&&(l=parseFloat(h)||0,m=h.substr((l+"").length),"="===f.charAt(1)&&(f=mt(l,f)+m),d=parseFloat(f),g=f.substr((d+"").length),y=z.lastIndex-g.length,g||(g=g||x.units[e]||m,y===r.length&&(r+=g,v.e+=g)),m!==g&&(l=gr(t,e,h,g)||0),v._pt={_next:v._pt,p:p||1===b?p:",",s:l,c:d-l,m:u&&u<4||"zIndex"===e?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===e&&"none"===r?jn:Un;return j.test(r)&&(v.e=0),this._pt=v,v},yr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},br=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,o=e.t,a=o.style,s=e.u,c=o._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],Pn[n]&&(r=1,n="transformOrigin"===n?$n:Zn),hr(o,n);r&&(hr(o,Zn),c&&(c.svg&&o.removeAttribute("transform"),Er(o,1),c.uncache=1,Jn(a)))}},xr={clearProps:function(t,e,n,r,i){if("isFromStart"!==i.data){var o=t._pt=new ln(t._pt,e,n,0,0,br);return o.u=r,o.pr=-10,o.tween=i,t._props.push(n),1}}},_r=[1,0,0,1,0,0],wr={},Sr=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Tr=function(t){var e=rr(t,Zn);return Sr(e)?_r:e.substr(7).match(V).map(pt)},Mr=function(t,e){var n,r,i,o,a=t._gsap||ht(t),s=t.style,c=Tr(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=t.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?_r:c:(c!==_r||t.offsetParent||t===Tn||a.svg||(i=s.display,s.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,r=t.nextElementSibling,Tn.appendChild(t)),c=Tr(t),i?s.display=i:hr(t,"display"),o&&(r?n.insertBefore(t,r):n?n.appendChild(t):Tn.removeChild(t))),e&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Ar=function(t,e,n,r,i,o){var a,s,c,l=t._gsap,u=i||Mr(t,!0),h=l.xOrigin||0,f=l.yOrigin||0,d=l.xOffset||0,p=l.yOffset||0,g=u[0],m=u[1],v=u[2],y=u[3],b=u[4],x=u[5],_=e.split(" "),w=parseFloat(_[0])||0,S=parseFloat(_[1])||0;n?u!==_r&&(s=g*y-m*v)&&(c=w*(-m/s)+S*(g/s)-(g*x-m*b)/s,w=w*(y/s)+S*(-v/s)+(v*x-y*b)/s,S=c):(w=(a=lr(t)).x+(~_[0].indexOf("%")?w/100*a.width:w),S=a.y+(~(_[1]||_[0]).indexOf("%")?S/100*a.height:S)),r||!1!==r&&l.smooth?(b=w-h,x=S-f,l.xOffset=d+(b*g+x*v)-b,l.yOffset=p+(b*m+x*y)-x):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=S,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!n,t.style[$n]="0px 0px",o&&(fr(o,l,"xOrigin",h,w),fr(o,l,"yOrigin",f,S),fr(o,l,"xOffset",d,l.xOffset),fr(o,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",w+" "+S)},Er=function(t,e){var n=t._gsap||new De(t);if("x"in n&&!e&&!n.uncache)return n;var r,i,o,a,s,c,l,u,h,f,d,p,g,m,v,y,b,_,w,S,T,M,A,E,C,L,P,k,R,O,I,D,N=t.style,F=n.scaleX<0,G=getComputedStyle(t),B=rr(t,$n)||"0";return r=i=o=c=l=u=h=f=d=0,a=s=1,n.svg=!(!t.getCTM||!ur(t)),G.translate&&("none"===G.translate&&"none"===G.scale&&"none"===G.rotate||(N[Zn]=("none"!==G.translate?"translate3d("+(G.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==G.rotate?"rotate("+G.rotate+") ":"")+("none"!==G.scale?"scale("+G.scale.split(" ").join(",")+") ":"")+("none"!==G[Zn]?G[Zn]:"")),N.scale=N.rotate=N.translate="none"),m=Mr(t,n.svg),n.svg&&(n.uncache?(C=t.getBBox(),B=n.xOrigin-C.x+"px "+(n.yOrigin-C.y)+"px",E=""):E=!e&&t.getAttribute("data-svg-origin"),Ar(t,E||B,!!E||n.originIsAbsolute,!1!==n.smooth,m)),p=n.xOrigin||0,g=n.yOrigin||0,m!==_r&&(_=m[0],w=m[1],S=m[2],T=m[3],r=M=m[4],i=A=m[5],6===m.length?(a=Math.sqrt(_*_+w*w),s=Math.sqrt(T*T+S*S),c=_||w?On(w,_)*kn:0,(h=S||T?On(S,T)*kn+c:0)&&(s*=Math.abs(Math.cos(h*Rn))),n.svg&&(r-=p-(p*_+g*S),i-=g-(p*w+g*T))):(D=m[6],O=m[7],P=m[8],k=m[9],R=m[10],I=m[11],r=m[12],i=m[13],o=m[14],l=(v=On(D,R))*kn,v&&(E=M*(y=Math.cos(-v))+P*(b=Math.sin(-v)),C=A*y+k*b,L=D*y+R*b,P=M*-b+P*y,k=A*-b+k*y,R=D*-b+R*y,I=O*-b+I*y,M=E,A=C,D=L),u=(v=On(-S,R))*kn,v&&(y=Math.cos(-v),I=T*(b=Math.sin(-v))+I*y,_=E=_*y-P*b,w=C=w*y-k*b,S=L=S*y-R*b),c=(v=On(w,_))*kn,v&&(E=_*(y=Math.cos(v))+w*(b=Math.sin(v)),C=M*y+A*b,w=w*y-_*b,A=A*y-M*b,_=E,M=C),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),a=pt(Math.sqrt(_*_+w*w+S*S)),s=pt(Math.sqrt(A*A+D*D)),v=On(M,A),h=Math.abs(v)>2e-4?v*kn:0,d=I?1/(I<0?-I:I):0),n.svg&&(E=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!Sr(rr(t,Zn)),E&&t.setAttribute("transform",E))),Math.abs(h)>90&&Math.abs(h)<270&&(F?(a*=-1,h+=c<=0?180:-180,c+=c<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=r-((n.xPercent=r&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-r)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+"px",n.y=i-((n.yPercent=i&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-i)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=pt(a),n.scaleY=pt(s),n.rotation=pt(c)+"deg",n.rotationX=pt(l)+"deg",n.rotationY=pt(u)+"deg",n.skewX=h+"deg",n.skewY=f+"deg",n.transformPerspective=d+"px",(n.zOrigin=parseFloat(B.split(" ")[2])||0)&&(N[$n]=Cr(B)),n.xOffset=n.yOffset=0,n.force3D=x.force3D,n.renderTransform=n.svg?Rr:Ln?kr:Pr,n.uncache=0,n},Cr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Lr=function(t,e,n){var r=Zt(e);return pt(parseFloat(e)+parseFloat(gr(t,"x",n+"px",r)))+r},Pr=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,kr(t,e)},kr=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,o=n.x,a=n.y,s=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,p=n.scaleY,g=n.transformPerspective,m=n.force3D,v=n.target,y=n.zOrigin,b="",x="auto"===m&&t&&1!==t||!0===m;if(y&&("0deg"!==u||"0deg"!==l)){var _,w=parseFloat(l)*Rn,S=Math.sin(w),T=Math.cos(w);w=parseFloat(u)*Rn,_=Math.cos(w),o=Lr(v,o,S*_*-y),a=Lr(v,a,-Math.sin(w)*-y),s=Lr(v,s,T*_*-y+y)}"0px"!==g&&(b+="perspective("+g+") "),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(x||"0px"!==o||"0px"!==a||"0px"!==s)&&(b+="0px"!==s||x?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+") "),"0deg"!==c&&(b+="rotate("+c+") "),"0deg"!==l&&(b+="rotateY("+l+") "),"0deg"!==u&&(b+="rotateX("+u+") "),"0deg"===h&&"0deg"===f||(b+="skew("+h+", "+f+") "),1===d&&1===p||(b+="scale("+d+", "+p+") "),v.style[Zn]=b||"translate(0, 0)"},Rr=function(t,e){var n,r,i,o,a,s=e||this,c=s.xPercent,l=s.yPercent,u=s.x,h=s.y,f=s.rotation,d=s.skewX,p=s.skewY,g=s.scaleX,m=s.scaleY,v=s.target,y=s.xOrigin,b=s.yOrigin,x=s.xOffset,_=s.yOffset,w=s.forceCSS,S=parseFloat(u),T=parseFloat(h);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=Rn,d*=Rn,n=Math.cos(f)*g,r=Math.sin(f)*g,i=Math.sin(f-d)*-m,o=Math.cos(f-d)*m,d&&(p*=Rn,a=Math.tan(d-p),i*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),n*=a=Math.sqrt(1+a*a),r*=a)),n=pt(n),r=pt(r),i=pt(i),o=pt(o)):(n=g,o=m,r=i=0),(S&&!~(u+"").indexOf("px")||T&&!~(h+"").indexOf("px"))&&(S=gr(v,"x",u,"px"),T=gr(v,"y",h,"px")),(y||b||x||_)&&(S=pt(S+y-(y*n+b*i)+x),T=pt(T+b-(y*r+b*o)+_)),(c||l)&&(a=v.getBBox(),S=pt(S+c/100*a.width),T=pt(T+l/100*a.height)),a="matrix("+n+","+r+","+i+","+o+","+S+","+T+")",v.setAttribute("transform",a),w&&(v.style[Zn]=a)},Or=function(t,e,n,r,i){var o,a,s=L(i),c=parseFloat(i)*(s&&~i.indexOf("rad")?kn:1)-r,l=r+c+"deg";return s&&("short"===(o=i.split("_")[1])&&(c%=360)!==c%180&&(c+=c<0?360:-360),"cw"===o&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===o&&c>0&&(c=(c-36e9)%360-360*~~(c/360))),t._pt=a=new ln(t._pt,e,n,r,c,Bn),a.e=l,a.u="deg",t._props.push(n),a},Ir=function(t,e){for(var n in e)t[n]=e[n];return t},Dr=function(t,e,n){var r,i,o,a,s,c,l,u=Ir({},n._gsap),h=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[Zn]=e,r=Er(n,1),hr(n,Zn),n.setAttribute("transform",o)):(o=getComputedStyle(n)[Zn],h[Zn]=e,r=Er(n,1),h[Zn]=o),Pn)(o=u[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Zt(o)!==(l=Zt(a))?gr(n,i,o,l):parseFloat(o),c=parseFloat(a),t._pt=new ln(t._pt,r,i,s,c-s,Gn),t._pt.u=l||0,t._props.push(i));Ir(r,u)};dt("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",o="Left",a=(e<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return e<2?t+n:"border"+n+t}));xr[e>1?"border"+t:t]=function(t,e,n,r,i){var o,s;if(arguments.length<4)return o=a.map((function(e){return mr(t,e,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach((function(t,e){return s[t]=o[e]=o[e]||o[(e-1)/2|0]})),t.init(e,s,i)}}));var Nr,Fr,Gr={name:"css",register:ar,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,i){var o,a,s,c,l,u,h,f,d,p,g,m,v,y,b,_,w,S,T,M,A=this._props,E=t.style,C=n.vars.startAt;for(h in Mn||ar(),this.styles=this.styles||er(t),_=this.styles.props,this.tween=n,e)if("autoRound"!==h&&(a=e[h],!ot[h]||!Ue(h,e,n,r,t,i)))if(l=typeof a,u=xr[h],"function"===l&&(l=typeof(a=a.call(n,r,t,i))),"string"===l&&~a.indexOf("random(")&&(a=ce(a)),u)u(this,t,h,a,n)&&(b=1);else if("--"===h.substr(0,2))o=(getComputedStyle(t).getPropertyValue(h)+"").trim(),a+="",be.lastIndex=0,be.test(o)||(f=Zt(o),d=Zt(a)),d?f!==d&&(o=gr(t,h,o,d)+d):f&&(a+=f),this.add(E,"setProperty",o,a,r,i,0,0,h),A.push(h),_.push(h,0,E[h]);else if("undefined"!==l){if(C&&h in C?(o="function"==typeof C[h]?C[h].call(n,r,t,i):C[h],L(o)&&~o.indexOf("random(")&&(o=ce(o)),Zt(o+"")||(o+=x.units[h]||Zt(mr(t,h))||""),"="===(o+"").charAt(1)&&(o=mr(t,h))):o=mr(t,h),c=parseFloat(o),(p="string"===l&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),s=parseFloat(a),h in Fn&&("autoAlpha"===h&&(1===c&&"hidden"===mr(t,"visibility")&&s&&(c=0),_.push("visibility",0,E.visibility),fr(this,E,"visibility",c?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=Fn[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in Pn)if(this.styles.save(h),m||((v=t._gsap).renderTransform&&!e.parseTransform||Er(t,e.parseTransform),y=!1!==e.smoothOrigin&&v.smooth,(m=this._pt=new ln(this._pt,E,Zn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new ln(this._pt,v,"scaleY",v.scaleY,(p?mt(v.scaleY,p+s):s)-v.scaleY||0,Gn),this._pt.u=0,A.push("scaleY",h),h+="X";else{if("transformOrigin"===h){_.push($n,0,E[$n]),S=void 0,T=void 0,M=void 0,S=(w=a).split(" "),T=S[0],M=S[1]||"50%","top"!==T&&"bottom"!==T&&"left"!==M&&"right"!==M||(w=T,T=M,M=w),S[0]=yr[T]||T,S[1]=yr[M]||M,a=S.join(" "),v.svg?Ar(t,a,0,y,0,this):((d=parseFloat(a.split(" ")[2])||0)!==v.zOrigin&&fr(this,v,"zOrigin",v.zOrigin,d),fr(this,E,h,Cr(o),Cr(a)));continue}if("svgOrigin"===h){Ar(t,a,1,y,0,this);continue}if(h in wr){Or(this,v,h,c,p?mt(c,p+a):a);continue}if("smoothOrigin"===h){fr(this,v,"smooth",v.smooth,a);continue}if("force3D"===h){v[h]=a;continue}if("transform"===h){Dr(this,a,t);continue}}else h in E||(h=or(h)||h);if(g||(s||0===s)&&(c||0===c)&&!Nn.test(a)&&h in E)s||(s=0),(f=(o+"").substr((c+"").length))!==(d=Zt(a)||(h in x.units?x.units[h]:f))&&(c=gr(t,h,o,d)),this._pt=new ln(this._pt,g?v:E,h,c,(p?mt(c,p+s):s)-c,g||"px"!==d&&"zIndex"!==h||!1===e.autoRound?Gn:zn),this._pt.u=d||0,f!==d&&"%"!==d&&(this._pt.b=o,this._pt.r=Vn);else if(h in E)vr.call(this,t,h,o,p?p+a:a);else if(h in t)this.add(t,h,o||t[h],p?p+a:a,r,i);else if("parseTransform"!==h){Q(h,a);continue}g||(h in E?_.push(h,0,E[h]):_.push(h,1,o||t[h])),A.push(h)}b&&cn(this)},render:function(t,e){if(e.tween._time||!Cn())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:mr,aliases:Fn,getSetter:function(t,e,n){var r=Fn[e];return r&&r.indexOf(",")<0&&(e=r),e in Pn&&e!==$n&&(t._gsap.x||mr(t,"x"))?n&&En===n?"scale"===e?Yn:Xn:(En=n||{})&&("scale"===e?qn:Qn):t.style&&!R(t.style[e])?Hn:~e.indexOf("-")?Wn:Je(t,e)},core:{_removeProperty:hr,_getMatrix:Mr}};_n.utils.checkPrefix=or,_n.core.getStyleSaver=er,Fr=dt("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+(Nr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Pn[t]=1})),dt(Nr,(function(t){x.units[t]="deg",wr[t]=1})),Fn[Fr[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Nr,dt("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Fn[e[1]]=Fr[e[0]]})),dt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){x.units[t]="px"})),_n.registerPlugin(Gr);var Br=_n.registerPlugin(Gr)||_n;Br.core.Tween},function(t,e,n){"use strict";var r=n(47),i={};i[n(10)("toStringTag")]="z",i+""!="[object z]"&&n(22)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){"use strict";var r=n(55),i=n(89),o=n(44),a=n(33);t.exports=n(70)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(14),i=n(29),o=n(18),a=n(9),s=n(22),c=n(62).KEY,l=n(16),u=n(48),h=n(42),f=n(40),d=n(10),p=n(83),g=n(84),m=n(121),v=n(87),y=n(15),b=n(17),x=n(25),_=n(33),w=n(51),S=n(41),T=n(43),M=n(123),A=n(54),E=n(67),C=n(19),L=n(37),P=A.f,k=C.f,R=M.f,O=r.Symbol,I=r.JSON,D=I&&I.stringify,N=d("_hidden"),F=d("toPrimitive"),G={}.propertyIsEnumerable,B=u("symbol-registry"),V=u("symbols"),z=u("op-symbols"),U=Object.prototype,j="function"==typeof O&&!!E.f,H=r.QObject,W=!H||!H.prototype||!H.prototype.findChild,X=o&&l((function(){return 7!=T(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=P(U,e);r&&delete U[e],k(t,e,n),r&&t!==U&&k(U,e,r)}:k,Y=function(t){var e=V[t]=T(O.prototype);return e._k=t,e},q=j&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},Q=function(t,e,n){return t===U&&Q(z,e,n),y(t),e=w(e,!0),y(n),i(V,e)?(n.enumerable?(i(t,N)&&t[N][e]&&(t[N][e]=!1),n=T(n,{enumerable:S(0,!1)})):(i(t,N)||k(t,N,S(1,{})),t[N][e]=!0),X(t,e,n)):k(t,e,n)},Z=function(t,e){y(t);for(var n,r=m(e=_(e)),i=0,o=r.length;o>i;)Q(t,n=r[i++],e[n]);return t},$=function(t){var e=G.call(this,t=w(t,!0));return!(this===U&&i(V,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(V,t)||i(this,N)&&this[N][t])||e)},K=function(t,e){if(t=_(t),e=w(e,!0),t!==U||!i(V,e)||i(z,e)){var n=P(t,e);return!n||!i(V,e)||i(t,N)&&t[N][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=R(_(t)),r=[],o=0;n.length>o;)i(V,e=n[o++])||e==N||e==c||r.push(e);return r},tt=function(t){for(var e,n=t===U,r=R(n?z:_(t)),o=[],a=0;r.length>a;)!i(V,e=r[a++])||n&&!i(U,e)||o.push(V[e]);return o};j||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(z,n),i(this,N)&&i(this[N],t)&&(this[N][t]=!1),X(this,t,S(1,n))};return o&&W&&X(U,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",(function(){return this._k})),A.f=K,C.f=Q,n(53).f=M.f=J,n(52).f=$,E.f=tt,o&&!n(39)&&s(U,"propertyIsEnumerable",$,!0),p.f=function(t){return Y(d(t))}),a(a.G+a.W+a.F*!j,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var rt=L(d.store),it=0;rt.length>it;)g(rt[it++]);a(a.S+a.F*!j,"Symbol",{for:function(t){return i(B,t+="")?B[t]:B[t]=O(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!j,"Object",{create:function(t,e){return void 0===e?T(t):Z(T(t),e)},defineProperty:Q,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:tt});var ot=l((function(){E.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return E.f(x(t))}}),I&&a(a.S+a.F*(!j||l((function(){var t=O();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!q(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),r[1]=e,D.apply(I,r)}}),O.prototype[F]||n(28)(O.prototype,F,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(81)(!0);n(70)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){for(var r=n(3),i=n(37),o=n(22),a=n(14),s=n(28),c=n(44),l=n(10),u=l("iterator"),h=l("toStringTag"),f=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),g=0;g<p.length;g++){var m,v=p[g],y=d[v],b=a[v],x=b&&b.prototype;if(x&&(x[u]||s(x,u,f),x[h]||s(x,h,v),c[v]=f,y))for(m in r)x[m]||o(x,m,r[m],!0)}},function(t,e,n){"use strict";var r=n(14),i=n(29),o=n(27),a=n(69),s=n(51),c=n(16),l=n(53).f,u=n(54).f,h=n(19).f,f=n(125).trim,d=r.Number,p=d,g=d.prototype,m="Number"==o(n(43)(g)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),l=0,u=c.length;l<u;l++)if((a=c.charCodeAt(l))<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(m?c((function(){g.valueOf.call(n)})):"Number"!=o(n))?a(new p(y(e)),n,d):y(e)};for(var b,x=n(18)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)i(p,b=x[_])&&!i(d,b)&&h(d,b,u(p,b));d.prototype=g,g.constructor=d,n(22)(r,"Number",d)}},function(t,e,n){var r=n(9);r(r.S+r.F,"Object",{assign:n(135)})},function(t,e,n){var r=n(14),i=n(32),o=n(28),a=n(22),s=n(30),c=function(t,e,n){var l,u,h,f,d=t&c.F,p=t&c.G,g=t&c.S,m=t&c.P,v=t&c.B,y=p?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,b=p?i:i[e]||(i[e]={}),x=b.prototype||(b.prototype={});for(l in p&&(n=e),n)h=((u=!d&&y&&void 0!==y[l])?y:n)[l],f=v&&u?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,y&&a(y,l,h,t&c.U),b[l]!=h&&o(b,l,f),m&&x[l]!=h&&(x[l]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(48)("wks"),i=n(40),o=n(14).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return Ne}));var i,o,a,s,c,l,u,h,f,d,p,g,m,v=function(){return i||"undefined"!=typeof window&&(i=window.gsap)&&i.registerPlugin&&i},y=1,b=[],x=[],_=[],w=Date.now,S=function(t,e){return e},T=function(t,e){return~_.indexOf(t)&&_[_.indexOf(t)+1][e]},M=function(t){return!!~d.indexOf(t)},A=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},E=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},C=function(){return p&&p.isPressed||x.cache++},L=function(t,e){var n=function n(r){if(r||0===r){y&&(a.history.scrollRestoration="manual");var i=p&&p.isPressed;r=n.v=Math.round(r)||(p&&p.iOS?1:0),t(r),n.cacheID=x.cache,i&&S("ss",r)}else(e||x.cache!==n.cacheID||S("ref"))&&(n.cacheID=x.cache,n.v=t());return n.v+n.offset};return n.offset=0,t&&n},P={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:L((function(t){return arguments.length?a.scrollTo(t,k.sc()):a.pageXOffset||s.scrollLeft||c.scrollLeft||l.scrollLeft||0}))},k={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:P,sc:L((function(t){return arguments.length?a.scrollTo(P.sc(),t):a.pageYOffset||s.scrollTop||c.scrollTop||l.scrollTop||0}))},R=function(t){return i.utils.toArray(t)[0]||("string"==typeof t&&!1!==i.config().nullTargetWarn?console.warn("Element not found:",t):null)},O=function(t,e){var n=e.s,r=e.sc;M(t)&&(t=s.scrollingElement||c);var o=x.indexOf(t),a=r===k.sc?1:2;!~o&&(o=x.push(t)-1),x[o+a]||t.addEventListener("scroll",C);var l=x[o+a],u=l||(x[o+a]=L(T(t,n),!0)||(M(t)?r:L((function(e){return arguments.length?t[n]=e:t[n]}))));return u.target=t,l||(u.smooth="smooth"===i.getProperty(t,"scrollBehavior")),u},I=function(t,e,n){var r=t,i=t,o=w(),a=o,s=e||50,c=Math.max(500,3*s),l=function(t,e){var c=w();e||c-o>s?(i=r,r=t,a=o,o=c):n?r+=t:r=i+(t-i)/(c-a)*(o-a)};return{update:l,reset:function(){i=r=n?0:r,a=o=0},getVelocity:function(t){var e=a,s=i,u=w();return(t||0===t)&&t!==r&&l(t),o===a||u-a>c?0:(r+(n?s:-s))/((n?u:o)-e)*1e3}}},D=function(t,e){return e&&!t._gsapAllow&&t.preventDefault(),t.changedTouches?t.changedTouches[0]:t},N=function(t){var e=Math.max.apply(Math,t),n=Math.min.apply(Math,t);return Math.abs(e)>=Math.abs(n)?e:n},F=function(){var t,e,n,r;(f=i.core.globals().ScrollTrigger)&&f.core&&(t=f.core,e=t.bridge||{},n=t._scrollers,r=t._proxies,n.push.apply(n,x),r.push.apply(r,_),x=n,_=r,S=function(t,n){return e[t](n)})},G=function(t){return(i=t||v())&&"undefined"!=typeof document&&document.body&&(a=window,s=document,c=s.documentElement,l=s.body,d=[a,s,c,l],i.utils.clamp,m=i.core.context||function(){},h="onpointerenter"in l?"pointer":"mouse",u=B.isTouch=a.matchMedia&&a.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in a||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,g=B.eventTypes=("ontouchstart"in c?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in c?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return y=0}),500),F(),o=1),o};P.op=k,x.cache=0;var B=function(){function t(t){this.init(t)}var e,n,d;return t.prototype.init=function(t){o||G(i)||console.warn("Please gsap.registerPlugin(Observer)"),f||F();var e=t.tolerance,n=t.dragMinimum,r=t.type,d=t.target,v=t.lineHeight,y=t.debounce,x=t.preventDefault,_=t.onStop,S=t.onStopDelay,T=t.ignore,L=t.wheelSpeed,B=t.event,V=t.onDragStart,z=t.onDragEnd,U=t.onDrag,j=t.onPress,H=t.onRelease,W=t.onRight,X=t.onLeft,Y=t.onUp,q=t.onDown,Q=t.onChangeX,Z=t.onChangeY,$=t.onChange,K=t.onToggleX,J=t.onToggleY,tt=t.onHover,et=t.onHoverEnd,nt=t.onMove,rt=t.ignoreCheck,it=t.isNormalizer,ot=t.onGestureStart,at=t.onGestureEnd,st=t.onWheel,ct=t.onEnable,lt=t.onDisable,ut=t.onClick,ht=t.scrollSpeed,ft=t.capture,dt=t.allowClicks,pt=t.lockAxis,gt=t.onLockAxis;this.target=d=R(d)||c,this.vars=t,T&&(T=i.utils.toArray(T)),e=e||1e-9,n=n||0,L=L||1,ht=ht||1,r=r||"wheel,touch,pointer",y=!1!==y,v||(v=parseFloat(a.getComputedStyle(l).lineHeight)||22);var mt,vt,yt,bt,xt,_t,wt,St=this,Tt=0,Mt=0,At=O(d,P),Et=O(d,k),Ct=At(),Lt=Et(),Pt=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===g[0],kt=M(d),Rt=d.ownerDocument||s,Ot=[0,0,0],It=[0,0,0],Dt=0,Nt=function(){return Dt=w()},Ft=function(t,e){return(St.event=t)&&T&&~T.indexOf(t.target)||e&&Pt&&"touch"!==t.pointerType||rt&&rt(t,e)},Gt=function(){var t=St.deltaX=N(Ot),n=St.deltaY=N(It),r=Math.abs(t)>=e,i=Math.abs(n)>=e;$&&(r||i)&&$(St,t,n,Ot,It),r&&(W&&St.deltaX>0&&W(St),X&&St.deltaX<0&&X(St),Q&&Q(St),K&&St.deltaX<0!=Tt<0&&K(St),Tt=St.deltaX,Ot[0]=Ot[1]=Ot[2]=0),i&&(q&&St.deltaY>0&&q(St),Y&&St.deltaY<0&&Y(St),Z&&Z(St),J&&St.deltaY<0!=Mt<0&&J(St),Mt=St.deltaY,It[0]=It[1]=It[2]=0),(bt||yt)&&(nt&&nt(St),yt&&(U(St),yt=!1),bt=!1),_t&&!(_t=!1)&&gt&&gt(St),xt&&(st(St),xt=!1),mt=0},Bt=function(t,e,n){Ot[n]+=t,It[n]+=e,St._vx.update(t),St._vy.update(e),y?mt||(mt=requestAnimationFrame(Gt)):Gt()},Vt=function(t,e){pt&&!wt&&(St.axis=wt=Math.abs(t)>Math.abs(e)?"x":"y",_t=!0),"y"!==wt&&(Ot[2]+=t,St._vx.update(t,!0)),"x"!==wt&&(It[2]+=e,St._vy.update(e,!0)),y?mt||(mt=requestAnimationFrame(Gt)):Gt()},zt=function(t){if(!Ft(t,1)){var e=(t=D(t,x)).clientX,r=t.clientY,i=e-St.x,o=r-St.y,a=St.isDragging;St.x=e,St.y=r,(a||Math.abs(St.startX-e)>=n||Math.abs(St.startY-r)>=n)&&(U&&(yt=!0),a||(St.isDragging=!0),Vt(i,o),a||V&&V(St))}},Ut=St.onPress=function(t){Ft(t,1)||(St.axis=wt=null,vt.pause(),St.isPressed=!0,t=D(t),Tt=Mt=0,St.startX=St.x=t.clientX,St.startY=St.y=t.clientY,St._vx.reset(),St._vy.reset(),A(it?d:Rt,g[1],zt,x,!0),St.deltaX=St.deltaY=0,j&&j(St))},jt=function(t){if(!Ft(t,1)){E(it?d:Rt,g[1],zt,!0);var e=!isNaN(St.y-St.startY),n=St.isDragging&&(Math.abs(St.x-St.startX)>3||Math.abs(St.y-St.startY)>3),r=D(t);!n&&e&&(St._vx.reset(),St._vy.reset(),x&&dt&&i.delayedCall(.08,(function(){if(w()-Dt>300&&!t.defaultPrevented)if(t.target.click)t.target.click();else if(Rt.createEvent){var e=Rt.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,a,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(e)}}))),St.isDragging=St.isGesturing=St.isPressed=!1,_&&!it&&vt.restart(!0),z&&n&&z(St),H&&H(St,n)}},Ht=function(t){return t.touches&&t.touches.length>1&&(St.isGesturing=!0)&&ot(t,St.isDragging)},Wt=function(){return(St.isGesturing=!1)||at(St)},Xt=function(t){if(!Ft(t)){var e=At(),n=Et();Bt((e-Ct)*ht,(n-Lt)*ht,1),Ct=e,Lt=n,_&&vt.restart(!0)}},Yt=function(t){if(!Ft(t)){t=D(t,x),st&&(xt=!0);var e=(1===t.deltaMode?v:2===t.deltaMode?a.innerHeight:1)*L;Bt(t.deltaX*e,t.deltaY*e,0),_&&!it&&vt.restart(!0)}},qt=function(t){if(!Ft(t)){var e=t.clientX,n=t.clientY,r=e-St.x,i=n-St.y;St.x=e,St.y=n,bt=!0,(r||i)&&Vt(r,i)}},Qt=function(t){St.event=t,tt(St)},Zt=function(t){St.event=t,et(St)},$t=function(t){return Ft(t)||D(t,x)&&ut(St)};vt=St._dc=i.delayedCall(S||.25,(function(){St._vx.reset(),St._vy.reset(),vt.pause(),_&&_(St)})).pause(),St.deltaX=St.deltaY=0,St._vx=I(0,50,!0),St._vy=I(0,50,!0),St.scrollX=At,St.scrollY=Et,St.isDragging=St.isGesturing=St.isPressed=!1,m(this),St.enable=function(t){return St.isEnabled||(A(kt?Rt:d,"scroll",C),r.indexOf("scroll")>=0&&A(kt?Rt:d,"scroll",Xt,x,ft),r.indexOf("wheel")>=0&&A(d,"wheel",Yt,x,ft),(r.indexOf("touch")>=0&&u||r.indexOf("pointer")>=0)&&(A(d,g[0],Ut,x,ft),A(Rt,g[2],jt),A(Rt,g[3],jt),dt&&A(d,"click",Nt,!1,!0),ut&&A(d,"click",$t),ot&&A(Rt,"gesturestart",Ht),at&&A(Rt,"gestureend",Wt),tt&&A(d,h+"enter",Qt),et&&A(d,h+"leave",Zt),nt&&A(d,h+"move",qt)),St.isEnabled=!0,t&&t.type&&Ut(t),ct&&ct(St)),St},St.disable=function(){St.isEnabled&&(b.filter((function(t){return t!==St&&M(t.target)})).length||E(kt?Rt:d,"scroll",C),St.isPressed&&(St._vx.reset(),St._vy.reset(),E(it?d:Rt,g[1],zt,!0)),E(kt?Rt:d,"scroll",Xt,ft),E(d,"wheel",Yt,ft),E(d,g[0],Ut,ft),E(Rt,g[2],jt),E(Rt,g[3],jt),E(d,"click",Nt,!0),E(d,"click",$t),E(Rt,"gesturestart",Ht),E(Rt,"gestureend",Wt),E(d,h+"enter",Qt),E(d,h+"leave",Zt),E(d,h+"move",qt),St.isEnabled=St.isPressed=St.isDragging=!1,lt&&lt(St))},St.kill=St.revert=function(){St.disable();var t=b.indexOf(St);t>=0&&b.splice(t,1),p===St&&(p=0)},b.push(St),it&&M(d)&&(p=St),St.enable(B)},e=t,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&r(e.prototype,n),d&&r(e,d),t}();B.version="3.11.4",B.create=function(t){return new B(t)},B.register=G,B.getAll=function(){return b.slice()},B.getById=function(t){return b.filter((function(e){return e.vars.id===t}))[0]},v()&&i.registerPlugin(B);var V,z,U,j,H,W,X,Y,q,Q,Z,$,K,J,tt,et,nt,rt,it,ot,at,st,ct,lt,ut,ht,ft,dt,pt,gt,mt,vt,yt,bt,xt=1,_t=Date.now,wt=_t(),St=0,Tt=0,Mt=function(){return J=1},At=function(){return J=0},Et=function(t){return t},Ct=function(t){return Math.round(1e5*t)/1e5||0},Lt=function(){return"undefined"!=typeof window},Pt=function(){return V||Lt()&&(V=window.gsap)&&V.registerPlugin&&V},kt=function(t){return!!~X.indexOf(t)},Rt=function(t){return T(t,"getBoundingClientRect")||(kt(t)?function(){return ke.width=U.innerWidth,ke.height=U.innerHeight,ke}:function(){return Xt(t)})},Ot=function(t,e){var n=e.s,r=e.d2,i=e.d,o=e.a;return(n="scroll"+r)&&(o=T(t,n))?o()-Rt(t)()[i]:kt(t)?(H[n]||W[n])-(U["inner"+r]||H["client"+r]||W["client"+r]):t[n]-t["offset"+r]},It=function(t,e){for(var n=0;n<it.length;n+=3)(!e||~e.indexOf(it[n+1]))&&t(it[n],it[n+1],it[n+2])},Dt=function(t){return"string"==typeof t},Nt=function(t){return"function"==typeof t},Ft=function(t){return"number"==typeof t},Gt=function(t){return"object"==typeof t},Bt=function(t,e,n){return t&&t.progress(e?0:1)&&n&&t.pause()},Vt=function(t,e){if(t.enabled){var n=e(t);n&&n.totalTime&&(t.callbackAnimation=n)}},zt=Math.abs,Ut="padding",jt="px",Ht=function(t){return U.getComputedStyle(t)},Wt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Xt=function(t,e){var n=e&&"matrix(1, 0, 0, 1, 0, 0)"!==Ht(t)[tt]&&V.to(t,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=t.getBoundingClientRect();return n&&n.progress(0).kill(),r},Yt=function(t,e){var n=e.d2;return t["offset"+n]||t["client"+n]||0},qt=function(t){var e,n=[],r=t.labels,i=t.duration();for(e in r)n.push(r[e]/i);return n},Qt=function(t){var e=V.utils.snap(t),n=Array.isArray(t)&&t.slice(0).sort((function(t,e){return t-e}));return n?function(t,r,i){var o;if(void 0===i&&(i=.001),!r)return e(t);if(r>0){for(t-=i,o=0;o<n.length;o++)if(n[o]>=t)return n[o];return n[o-1]}for(o=n.length,t+=i;o--;)if(n[o]<=t)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=e(n);return!r||Math.abs(o-n)<i||o-n<0==r<0?o:e(r<0?n-t:n+t)}},Zt=function(t,e,n,r){return n.split(",").forEach((function(n){return t(e,n,r)}))},$t=function(t,e,n,r,i){return t.addEventListener(e,n,{passive:!r,capture:!!i})},Kt=function(t,e,n,r){return t.removeEventListener(e,n,!!r)},Jt=function(t,e,n){return n&&n.wheelHandler&&t(e,"wheel",n)},te={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},ee={toggleActions:"play",anticipatePin:0},ne={top:0,left:0,center:.5,bottom:1,right:1},re=function(t,e){if(Dt(t)){var n=t.indexOf("="),r=~n?+(t.charAt(n-1)+1)*parseFloat(t.substr(n+1)):0;~n&&(t.indexOf("%")>n&&(r*=e/100),t=t.substr(0,n-1)),t=r+(t in ne?ne[t]*e:~t.indexOf("%")?parseFloat(t)*e/100:parseFloat(t)||0)}return t},ie=function(t,e,n,r,i,o,a,s){var c=i.startColor,l=i.endColor,u=i.fontSize,h=i.indent,f=i.fontWeight,d=j.createElement("div"),p=kt(n)||"fixed"===T(n,"pinType"),g=-1!==t.indexOf("scroller"),m=p?W:n,v=-1!==t.indexOf("start"),y=v?c:l,b="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+((g||s)&&p?"fixed;":"absolute;"),(g||s||!p)&&(b+=(r===k?"right":"bottom")+":"+(o+parseFloat(h))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),d._isStart=v,d.setAttribute("class","gsap-marker-"+t+(e?" marker-"+e:"")),d.style.cssText=b,d.innerText=e||0===e?t+"-"+e:t,m.children[0]?m.insertBefore(d,m.children[0]):m.appendChild(d),d._offset=d["offset"+r.op.d2],oe(d,0,r,v),d},oe=function(t,e,n,r){var i={display:"block"},o=n[r?"os2":"p2"],a=n[r?"p2":"os2"];t._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+o+"Width"]=1,i["border"+a+"Width"]=0,i[n.p]=e+"px",V.set(t,i)},ae=[],se={},ce=function(){return _t()-St>34&&(mt||(mt=requestAnimationFrame(Te)))},le=function(){(!ct||!ct.isPressed||ct.startX>W.clientWidth)&&(x.cache++,ct?mt||(mt=requestAnimationFrame(Te)):Te(),St||ge("scrollStart"),St=_t())},ue=function(){ht=U.innerWidth,ut=U.innerHeight},he=function(){x.cache++,!K&&!st&&!j.fullscreenElement&&!j.webkitFullscreenElement&&(!lt||ht!==U.innerWidth||Math.abs(U.innerHeight-ut)>.25*U.innerHeight)&&Y.restart(!0)},fe={},de=[],pe=function t(){return Kt(Ne,"scrollEnd",t)||_e(!0)},ge=function(t){return fe[t]&&fe[t].map((function(t){return t()}))||de},me=[],ve=function(t){for(var e=0;e<me.length;e+=5)(!t||me[e+4]&&me[e+4].query===t)&&(me[e].style.cssText=me[e+1],me[e].getBBox&&me[e].setAttribute("transform",me[e+2]||""),me[e+3].uncache=1)},ye=function(t,e){var n;for(et=0;et<ae.length;et++)!(n=ae[et])||e&&n._ctx!==e||(t?n.kill(1):n.revert(!0,!0));e&&ve(e),e||ge("revert")},be=function(t,e){x.cache++,(e||!vt)&&x.forEach((function(t){return Nt(t)&&t.cacheID++&&(t.rec=0)})),Dt(t)&&(U.history.scrollRestoration=pt=t)},xe=0,_e=function(t,e){if(!St||t){vt=Ne.isRefreshing=!0,x.forEach((function(t){return Nt(t)&&t.cacheID++&&(t.rec=t())}));var n=ge("refreshInit");ot&&Ne.sort(),e||ye(),x.forEach((function(t){Nt(t)&&(t.smooth&&(t.target.style.scrollBehavior="auto"),t(0))})),ae.slice(0).forEach((function(t){return t.refresh()})),ae.forEach((function(t,e){if(t._subPinOffset&&t.pin){var n=t.vars.horizontal?"offsetWidth":"offsetHeight",r=t.pin[n];t.revert(!0,1),t.adjustPinSpacing(t.pin[n]-r),t.revert(!1,1)}})),ae.forEach((function(t){return"max"===t.vars.end&&t.setPositions(t.start,Math.max(t.start+1,Ot(t.scroller,t._dir)))})),n.forEach((function(t){return t&&t.render&&t.render(-1)})),x.forEach((function(t){Nt(t)&&(t.smooth&&requestAnimationFrame((function(){return t.target.style.scrollBehavior="smooth"})),t.rec&&t(t.rec))})),be(pt,1),Y.pause(),xe++,Te(2),ae.forEach((function(t){return Nt(t.vars.onRefresh)&&t.vars.onRefresh(t)})),vt=Ne.isRefreshing=!1,ge("refresh")}else $t(Ne,"scrollEnd",pe)},we=0,Se=1,Te=function(t){if(!vt||2===t){Ne.isUpdating=!0,bt&&bt.update(0);var e=ae.length,n=_t(),r=n-wt>=50,i=e&&ae[0].scroll();if(Se=we>i?-1:1,we=i,r&&(St&&!J&&n-St>200&&(St=0,ge("scrollEnd")),Z=wt,wt=n),Se<0){for(et=e;et-- >0;)ae[et]&&ae[et].update(0,r);Se=1}else for(et=0;et<e;et++)ae[et]&&ae[et].update(0,r);Ne.isUpdating=!1}mt=0},Me=["left","top","bottom","right","marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Ae=Me.concat(["width","height","boxSizing","maxWidth","maxHeight","position","margin",Ut,Ut+"Top",Ut+"Right",Ut+"Bottom",Ut+"Left"]),Ee=function(t,e,n,r){if(!t._gsap.swappedIn){for(var i,o=Me.length,a=e.style,s=t.style;o--;)a[i=Me[o]]=n[i];a.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(a.display="inline-block"),s.bottom=s.right="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a.width=Yt(t,P)+jt,a.height=Yt(t,k)+jt,a[Ut]=s.margin=s.top=s.left="0",Le(r),s.width=s.maxWidth=n.width,s.height=s.maxHeight=n.height,s[Ut]=n[Ut],t.parentNode!==e&&(t.parentNode.insertBefore(e,t),e.appendChild(t)),t._gsap.swappedIn=!0}},Ce=/([A-Z])/g,Le=function(t){if(t){var e,n,r=t.t.style,i=t.length,o=0;for((t.t._gsap||V.core.getCache(t.t)).uncache=1;o<i;o+=2)n=t[o+1],e=t[o],n?r[e]=n:r[e]&&r.removeProperty(e.replace(Ce,"-$1").toLowerCase())}},Pe=function(t){for(var e=Ae.length,n=t.style,r=[],i=0;i<e;i++)r.push(Ae[i],n[Ae[i]]);return r.t=t,r},ke={left:0,top:0},Re=function(t,e,n,r,i,o,a,s,c,l,u,h,f){Nt(t)&&(t=t(s)),Dt(t)&&"max"===t.substr(0,3)&&(t=h+("="===t.charAt(4)?re("0"+t.substr(3),n):0));var d,p,g,m=f?f.time():0;if(f&&f.seek(0),Ft(t))a&&oe(a,n,r,!0);else{Nt(e)&&(e=e(s));var v,y,b,x,_=(t||"0").split(" ");g=R(e)||W,(v=Xt(g)||{})&&(v.left||v.top)||"none"!==Ht(g).display||(x=g.style.display,g.style.display="block",v=Xt(g),x?g.style.display=x:g.style.removeProperty("display")),y=re(_[0],v[r.d]),b=re(_[1]||"0",n),t=v[r.p]-c[r.p]-l+y+i-b,a&&oe(a,b,r,n-b<20||a._isStart&&b>20),n-=n-b}if(o){var w=t+n,S=o._isStart;d="scroll"+r.d2,oe(o,w,r,S&&w>20||!S&&(u?Math.max(W[d],H[d]):o.parentNode[d])<=w+1),u&&(c=Xt(a),u&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+jt))}return f&&g&&(d=Xt(g),f.seek(h),p=Xt(g),f._caScrollDist=d[r.p]-p[r.p],t=t/f._caScrollDist*h),f&&f.seek(m),f?t:Math.round(t)},Oe=/(webkit|moz|length|cssText|inset)/i,Ie=function(t,e,n,r){if(t.parentNode!==e){var i,o,a=t.style;if(e===W){for(i in t._stOrig=a.cssText,o=Ht(t))+i||Oe.test(i)||!o[i]||"string"!=typeof a[i]||"0"===i||(a[i]=o[i]);a.top=n,a.left=r}else a.cssText=t._stOrig;V.core.getCache(t).uncache=1,e.appendChild(t)}},De=function(t,e){var n,r,i=O(t,e),o="_scroll"+e.p2,a=function e(a,s,c,l,u){var h=e.tween,f=s.onComplete,d={};return c=c||i(),u=l&&u||0,l=l||a-c,h&&h.kill(),n=Math.round(c),s[o]=a,s.modifiers=d,d[o]=function(t){return(t=Math.round(i()))!==n&&t!==r&&Math.abs(t-n)>3&&Math.abs(t-r)>3?(h.kill(),e.tween=0):t=c+l*h.ratio+u*h.ratio*h.ratio,r=n,n=Math.round(t)},s.onUpdate=function(){x.cache++,Te()},s.onComplete=function(){e.tween=0,f&&f.call(h)},h=e.tween=V.to(t,s)};return t[o]=i,i.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},$t(t,"wheel",i.wheelHandler),a},Ne=function(){function t(e,n){z||t.register(V)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,n)}return t.prototype.init=function(e,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),Tt){var r,i,o,a,s,c,l,u,h,f,d,p,g,m,v,y,b,w,S,M,A,E,C,L,I,D,N,F,G,B,z,X,Y,$,tt,nt,rt,it,st,ct,lt,ut,ht=e=Wt(Dt(e)||Ft(e)||e.nodeType?{trigger:e}:e,ee),ft=ht.onUpdate,pt=ht.toggleClass,mt=ht.id,wt=ht.onToggle,Mt=ht.onRefresh,At=ht.scrub,Lt=ht.trigger,Pt=ht.pin,It=ht.pinSpacing,Zt=ht.invalidateOnRefresh,Jt=ht.anticipatePin,ne=ht.onScrubComplete,oe=ht.onSnapComplete,ce=ht.once,ue=ht.snap,fe=ht.pinReparent,de=ht.pinSpacer,ge=ht.containerAnimation,me=ht.fastScrollEnd,ve=ht.preventOverlaps,ye=e.horizontal||e.containerAnimation&&!1!==e.horizontal?P:k,be=!At&&0!==At,we=R(e.scroller||U),Te=V.core.getCache(we),Me=kt(we),Ae="fixed"===("pinType"in e?e.pinType:T(we,"pinType")||Me&&"fixed"),Ce=[e.onEnter,e.onLeave,e.onEnterBack,e.onLeaveBack],Oe=be&&e.toggleActions.split(" "),Ne="markers"in e?e.markers:ee.markers,Fe=Me?0:parseFloat(Ht(we)["border"+ye.p2+"Width"])||0,Ge=this,Be=e.onRefreshInit&&function(){return e.onRefreshInit(Ge)},Ve=function(t,e,n){var r=n.d,i=n.d2,o=n.a;return(o=T(t,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(e?U["inner"+i]:t["client"+i])||0}}(we,Me,ye),ze=function(t,e){return!e||~_.indexOf(t)?Rt(t):function(){return ke}}(we,Me),Ue=0,je=0,He=O(we,ye);if(dt(Ge),Ge._dir=ye,Jt*=45,Ge.scroller=we,Ge.scroll=ge?ge.time.bind(ge):He,a=He(),Ge.vars=e,n=n||e.animation,"refreshPriority"in e&&(ot=1,-9999===e.refreshPriority&&(bt=Ge)),Te.tweenScroll=Te.tweenScroll||{top:De(we,k),left:De(we,P)},Ge.tweenTo=r=Te.tweenScroll[ye.p],Ge.scrubDuration=function(t){(X=Ft(t)&&t)?z?z.duration(t):z=V.to(n,{ease:"expo",totalProgress:"+=0.001",duration:X,paused:!0,onComplete:function(){return ne&&ne(Ge)}}):(z&&z.progress(1).kill(),z=0)},n&&(n.vars.lazy=!1,n._initted||!1!==n.vars.immediateRender&&!1!==e.immediateRender&&n.duration()&&n.render(0,!0,!0),Ge.animation=n.pause(),n.scrollTrigger=Ge,Ge.scrubDuration(At),G=0,mt||(mt=n.vars.id)),ae.push(Ge),ue&&(Gt(ue)&&!ue.push||(ue={snapTo:ue}),"scrollBehavior"in W.style&&V.set(Me?[W,H]:we,{scrollBehavior:"auto"}),x.forEach((function(t){return Nt(t)&&t.target===(Me?j.scrollingElement||H:we)&&(t.smooth=!1)})),o=Nt(ue.snapTo)?ue.snapTo:"labels"===ue.snapTo?function(t){return function(e){return V.utils.snap(qt(t),e)}}(n):"labelsDirectional"===ue.snapTo?(ct=n,function(t,e){return Qt(qt(ct))(t,e.direction)}):!1!==ue.directional?function(t,e){return Qt(ue.snapTo)(t,_t()-je<500?0:e.direction)}:V.utils.snap(ue.snapTo),Y=ue.duration||{min:.1,max:2},Y=Gt(Y)?Q(Y.min,Y.max):Q(Y,Y),$=V.delayedCall(ue.delay||X/2||.1,(function(){var t=He(),e=_t()-je<500,i=r.tween;if(!(e||Math.abs(Ge.getVelocity())<10)||i||J||Ue===t)Ge.isActive&&Ue!==t&&$.restart(!0);else{var a=(t-c)/g,s=n&&!be?n.totalProgress():a,u=e?0:(s-B)/(_t()-Z)*1e3||0,h=V.utils.clamp(-a,1-a,zt(u/2)*u/.185),f=a+(!1===ue.inertia?0:h),d=Q(0,1,o(f,Ge)),p=Math.round(c+d*g),m=ue,v=m.onStart,y=m.onInterrupt,b=m.onComplete;if(t<=l&&t>=c&&p!==t){if(i&&!i._initted&&i.data<=zt(p-t))return;!1===ue.inertia&&(h=d-a),r(p,{duration:Y(zt(.185*Math.max(zt(f-s),zt(d-s))/u/.05||0)),ease:ue.ease||"power3",data:zt(p-t),onInterrupt:function(){return $.restart(!0)&&y&&y(Ge)},onComplete:function(){Ge.update(),Ue=He(),G=B=n&&!be?n.totalProgress():Ge.progress,oe&&oe(Ge),b&&b(Ge)}},t,h*g,p-t-h*g),v&&v(Ge,r.tween)}}})).pause()),mt&&(se[mt]=Ge),(st=(Lt=Ge.trigger=R(Lt||Pt))&&Lt._gsap&&Lt._gsap.stRevert)&&(st=st(Ge)),Pt=!0===Pt?Lt:R(Pt),Dt(pt)&&(pt={targets:Lt,className:pt}),Pt&&(!1===It||"margin"===It||(It=!(!It&&Pt.parentNode&&Pt.parentNode.style&&"flex"===Ht(Pt.parentNode).display)&&Ut),Ge.pin=Pt,(i=V.core.getCache(Pt)).spacer?m=i.pinState:(de&&((de=R(de))&&!de.nodeType&&(de=de.current||de.nativeElement),i.spacerIsNative=!!de,de&&(i.spacerState=Pe(de))),i.spacer=b=de||j.createElement("div"),b.classList.add("pin-spacer"),mt&&b.classList.add("pin-spacer-"+mt),i.pinState=m=Pe(Pt)),!1!==e.force3D&&V.set(Pt,{force3D:!0}),Ge.spacer=b=i.spacer,F=Ht(Pt),C=F[It+ye.os2],S=V.getProperty(Pt),M=V.quickSetter(Pt,ye.a,jt),Ee(Pt,b,F),y=Pe(Pt)),Ne){p=Gt(Ne)?Wt(Ne,te):te,f=ie("scroller-start",mt,we,ye,p,0),d=ie("scroller-end",mt,we,ye,p,0,f),w=f["offset"+ye.op.d2];var We=R(T(we,"content")||we);u=this.markerStart=ie("start",mt,We,ye,p,w,0,ge),h=this.markerEnd=ie("end",mt,We,ye,p,w,0,ge),ge&&(it=V.quickSetter([u,h],ye.a,jt)),Ae||_.length&&!0===T(we,"fixedMarkers")||(ut=Ht(lt=Me?W:we).position,lt.style.position="absolute"===ut||"fixed"===ut?ut:"relative",V.set([f,d],{force3D:!0}),I=V.quickSetter(f,ye.a,jt),N=V.quickSetter(d,ye.a,jt))}if(ge){var Xe=ge.vars.onUpdate,Ye=ge.vars.onUpdateParams;ge.eventCallback("onUpdate",(function(){Ge.update(0,0,1),Xe&&Xe.apply(Ye||[])}))}Ge.previous=function(){return ae[ae.indexOf(Ge)-1]},Ge.next=function(){return ae[ae.indexOf(Ge)+1]},Ge.revert=function(t,e){if(!e)return Ge.kill(!0);var r=!1!==t||!Ge.enabled,i=K;r!==Ge.isReverted&&(r&&(nt=Math.max(He(),Ge.scroll.rec||0),tt=Ge.progress,rt=n&&n.progress()),u&&[u,h,f,d].forEach((function(t){return t.style.display=r?"none":"block"})),r&&(K=1,Ge.update(r)),!Pt||fe&&Ge.isActive||(r?function(t,e,n){Le(n);var r=t._gsap;if(r.spacerIsNative)Le(r.spacerState);else if(t._gsap.swappedIn){var i=e.parentNode;i&&(i.insertBefore(t,e),i.removeChild(e))}t._gsap.swappedIn=!1}(Pt,b,m):Ee(Pt,b,Ht(Pt),L)),r||Ge.update(r),K=i,Ge.isReverted=r)},Ge.refresh=function(i,o){if(!K&&Ge.enabled||o)if(Pt&&i&&St)$t(t,"scrollEnd",pe);else{!vt&&Be&&Be(Ge),K=1,je=_t(),r.tween&&(r.tween.kill(),r.tween=0),z&&z.pause(),Zt&&n&&n.revert({kill:!1}).invalidate(),Ge.isReverted||Ge.revert(!0,!0),Ge._subPinOffset=!1;for(var p,x,_,w,T,M,C,I,N,F,G,B=Ve(),U=ze(),X=ge?ge.duration():Ot(we,ye),Y=0,q=0,Q=e.end,Z=e.endTrigger||Lt,J=e.start||(0!==e.start&&Lt?Pt?"0 0":"0 100%":0),et=Ge.pinnedContainer=e.pinnedContainer&&R(e.pinnedContainer),it=Lt&&Math.max(0,ae.indexOf(Ge))||0,ot=it;ot--;)(M=ae[ot]).end||M.refresh(0,1)||(K=1),!(C=M.pin)||C!==Lt&&C!==Pt||M.isReverted||(F||(F=[]),F.unshift(M),M.revert(!0,!0)),M!==ae[ot]&&(it--,ot--);for(Nt(J)&&(J=J(Ge)),c=Re(J,Lt,B,ye,He(),u,f,Ge,U,Fe,Ae,X,ge)||(Pt?-.001:0),Nt(Q)&&(Q=Q(Ge)),Dt(Q)&&!Q.indexOf("+=")&&(~Q.indexOf(" ")?Q=(Dt(J)?J.split(" ")[0]:"")+Q:(Y=re(Q.substr(2),B),Q=Dt(J)?J:c+Y,Z=Lt)),l=Math.max(c,Re(Q||(Z?"100% 0":X),Z,B,ye,He()+Y,h,d,Ge,U,Fe,Ae,X,ge))||-.001,g=l-c||(c-=.01)&&.001,Y=0,ot=it;ot--;)(C=(M=ae[ot]).pin)&&M.start-M._pinPush<=c&&!ge&&M.end>0&&(p=M.end-M.start,(C===Lt&&M.start-M._pinPush<c||C===et)&&!Ft(J)&&(Y+=p*(1-M.progress)),C===Pt&&(q+=p));if(c+=Y,l+=Y,Ge._pinPush=q,u&&Y&&((p={})[ye.a]="+="+Y,et&&(p[ye.p]="-="+He()),V.set([u,h],p)),Pt)p=Ht(Pt),w=ye===k,_=He(),A=parseFloat(S(ye.a))+q,!X&&l>1&&((G={style:G=(Me?j.scrollingElement||H:we).style,value:G["overflow"+ye.a.toUpperCase()]})["overflow"+ye.a.toUpperCase()]="scroll"),Ee(Pt,b,p),y=Pe(Pt),x=Xt(Pt,!0),I=Ae&&O(we,w?P:k)(),It&&((L=[It+ye.os2,g+q+jt]).t=b,(ot=It===Ut?Yt(Pt,ye)+g+q:0)&&L.push(ye.d,ot+jt),Le(L),et&&ae.forEach((function(t){t.pin===et&&!1!==t.vars.pinSpacing&&(t._subPinOffset=!0)})),Ae&&He(nt)),Ae&&((T={top:x.top+(w?_-c:I)+jt,left:x.left+(w?I:_-c)+jt,boxSizing:"border-box",position:"fixed"}).width=T.maxWidth=Math.ceil(x.width)+jt,T.height=T.maxHeight=Math.ceil(x.height)+jt,T.margin=T.marginTop=T.marginRight=T.marginBottom=T.marginLeft="0",T[Ut]=p[Ut],T[Ut+"Top"]=p[Ut+"Top"],T[Ut+"Right"]=p[Ut+"Right"],T[Ut+"Bottom"]=p[Ut+"Bottom"],T[Ut+"Left"]=p[Ut+"Left"],v=function(t,e,n){for(var r,i=[],o=t.length,a=n?8:0;a<o;a+=2)r=t[a],i.push(r,r in e?e[r]:t[a+1]);return i.t=t.t,i}(m,T,fe),vt&&He(0)),n?(N=n._initted,at(1),n.render(n.duration(),!0,!0),E=S(ye.a)-A+g+q,D=Math.abs(g-E)>1,Ae&&D&&v.splice(v.length-2,2),n.render(0,!0,!0),N||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),at(0)):E=g,G&&(G.value?G.style["overflow"+ye.a.toUpperCase()]=G.value:G.style.removeProperty("overflow-"+ye.a));else if(Lt&&He()&&!ge)for(x=Lt.parentNode;x&&x!==W;)x._pinOffset&&(c-=x._pinOffset,l-=x._pinOffset),x=x.parentNode;F&&F.forEach((function(t){return t.revert(!1,!0)})),Ge.start=c,Ge.end=l,a=s=vt?nt:He(),ge||vt||(a<nt&&He(nt),Ge.scroll.rec=0),Ge.revert(!1,!0),$&&(Ue=-1,Ge.isActive&&He(c+g*tt),$.restart(!0)),K=0,n&&be&&(n._initted||rt)&&n.progress()!==rt&&n.progress(rt,!0).render(n.time(),!0,!0),(tt!==Ge.progress||ge)&&(n&&!be&&n.totalProgress(tt,!0),Ge.progress=(a-c)/g===tt?0:tt),Pt&&It&&(b._pinOffset=Math.round(Ge.progress*E)),Mt&&!vt&&Mt(Ge)}},Ge.getVelocity=function(){return(He()-s)/(_t()-Z)*1e3||0},Ge.endAnimation=function(){Bt(Ge.callbackAnimation),n&&(z?z.progress(1):n.paused()?be||Bt(n,Ge.direction<0,1):Bt(n,n.reversed()))},Ge.labelToScroll=function(t){return n&&n.labels&&(c||Ge.refresh()||c)+n.labels[t]/n.duration()*g||0},Ge.getTrailing=function(t){var e=ae.indexOf(Ge),n=Ge.direction>0?ae.slice(0,e).reverse():ae.slice(e+1);return(Dt(t)?n.filter((function(e){return e.vars.preventOverlaps===t})):n).filter((function(t){return Ge.direction>0?t.end<=c:t.start>=l}))},Ge.update=function(t,e,i){if(!ge||i||t){var o,u,h,d,p,m,x,_=vt?nt:Ge.scroll(),w=t?0:(_-c)/g,S=w<0?0:w>1?1:w||0,T=Ge.progress;if(e&&(s=a,a=ge?He():_,ue&&(B=G,G=n&&!be?n.totalProgress():S)),Jt&&!S&&Pt&&!K&&!xt&&St&&c<_+(_-s)/(_t()-Z)*Jt&&(S=1e-4),S!==T&&Ge.enabled){if(d=(p=(o=Ge.isActive=!!S&&S<1)!==(!!T&&T<1))||!!S!=!!T,Ge.direction=S>T?1:-1,Ge.progress=S,d&&!K&&(u=S&&!T?0:1===S?1:1===T?2:3,be&&(h=!p&&"none"!==Oe[u+1]&&Oe[u+1]||Oe[u],x=n&&("complete"===h||"reset"===h||h in n))),ve&&(p||x)&&(x||At||!n)&&(Nt(ve)?ve(Ge):Ge.getTrailing(ve).forEach((function(t){return t.endAnimation()}))),be||(!z||K||xt?n&&n.totalProgress(S,!!K):(z._dp._time-z._start!==z._time&&z.render(z._dp._time-z._start),z.resetTo?z.resetTo("totalProgress",S,n._tTime/n._tDur):(z.vars.totalProgress=S,z.invalidate().restart()))),Pt)if(t&&It&&(b.style[It+ye.os2]=C),Ae){if(d){if(m=!t&&S>T&&l+1>_&&_+1>=Ot(we,ye),fe)if(t||!o&&!m)Ie(Pt,b);else{var L=Xt(Pt,!0),P=_-c;Ie(Pt,W,L.top+(ye===k?P:0)+jt,L.left+(ye===k?0:P)+jt)}Le(o||m?v:y),D&&S<1&&o||M(A+(1!==S||m?0:E))}}else M(Ct(A+E*S));ue&&!r.tween&&!K&&!xt&&$.restart(!0),pt&&(p||ce&&S&&(S<1||!gt))&&q(pt.targets).forEach((function(t){return t.classList[o||ce?"add":"remove"](pt.className)})),ft&&!be&&!t&&ft(Ge),d&&!K?(be&&(x&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),ft&&ft(Ge)),!p&&gt||(wt&&p&&Vt(Ge,wt),Ce[u]&&Vt(Ge,Ce[u]),ce&&(1===S?Ge.kill(!1,1):Ce[u]=0),p||Ce[u=1===S?1:3]&&Vt(Ge,Ce[u])),me&&!o&&Math.abs(Ge.getVelocity())>(Ft(me)?me:2500)&&(Bt(Ge.callbackAnimation),z?z.progress(1):Bt(n,"reverse"===h?1:!S,1))):be&&ft&&!K&&ft(Ge)}if(N){var R=ge?_/ge.duration()*(ge._caScrollDist||0):_;I(R+(f._isFlipped?1:0)),N(R)}it&&it(-_/ge.duration()*(ge._caScrollDist||0))}},Ge.enable=function(e,n){Ge.enabled||(Ge.enabled=!0,$t(we,"resize",he),$t(Me?j:we,"scroll",le),Be&&$t(t,"refreshInit",Be),!1!==e&&(Ge.progress=tt=0,a=s=Ue=He()),!1!==n&&Ge.refresh())},Ge.getTween=function(t){return t&&r?r.tween:z},Ge.setPositions=function(t,e){Pt&&(A+=t-c,E+=e-t-g,It===Ut&&Ge.adjustPinSpacing(e-t-g)),Ge.start=c=t,Ge.end=l=e,g=e-t,Ge.update()},Ge.adjustPinSpacing=function(t){if(L){var e=L.indexOf(ye.d)+1;L[e]=parseFloat(L[e])+t+jt,L[1]=parseFloat(L[1])+t+jt,Le(L)}},Ge.disable=function(e,n){if(Ge.enabled&&(!1!==e&&Ge.revert(!0,!0),Ge.enabled=Ge.isActive=!1,n||z&&z.pause(),nt=0,i&&(i.uncache=1),Be&&Kt(t,"refreshInit",Be),$&&($.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!Me)){for(var o=ae.length;o--;)if(ae[o].scroller===we&&ae[o]!==Ge)return;Kt(we,"resize",he),Kt(we,"scroll",le)}},Ge.kill=function(t,r){Ge.disable(t,r),z&&!r&&z.kill(),mt&&delete se[mt];var o=ae.indexOf(Ge);o>=0&&ae.splice(o,1),o===et&&Se>0&&et--,o=0,ae.forEach((function(t){return t.scroller===Ge.scroller&&(o=1)})),o||vt||(Ge.scroll.rec=0),n&&(n.scrollTrigger=null,t&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,f,d].forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),bt===Ge&&(bt=0),Pt&&(i&&(i.uncache=1),o=0,ae.forEach((function(t){return t.pin===Pt&&o++})),o||(i.spacer=0)),e.onKill&&e.onKill(Ge)},Ge.enable(!1,!1),st&&st(Ge),n&&n.add&&!g?V.delayedCall(.01,(function(){return c||l||Ge.refresh()}))&&(g=.01)&&(c=l=0):Ge.refresh(),Pt&&function(){if(yt!==xe){var t=yt=xe;requestAnimationFrame((function(){return t===xe&&_e(!0)}))}}()}else this.update=this.refresh=this.kill=Et},t.register=function(e){return z||(V=e||Pt(),Lt()&&window.document&&t.enable(),z=Tt),z},t.defaults=function(t){if(t)for(var e in t)ee[e]=t[e];return ee},t.disable=function(t,e){Tt=0,ae.forEach((function(n){return n[e?"kill":"disable"](t)})),Kt(U,"wheel",le),Kt(j,"scroll",le),clearInterval($),Kt(j,"touchcancel",Et),Kt(W,"touchstart",Et),Zt(Kt,j,"pointerdown,touchstart,mousedown",Mt),Zt(Kt,j,"pointerup,touchend,mouseup",At),Y.kill(),It(Kt);for(var n=0;n<x.length;n+=3)Jt(Kt,x[n],x[n+1]),Jt(Kt,x[n],x[n+2])},t.enable=function(){if(U=window,j=document,H=j.documentElement,W=j.body,V&&(q=V.utils.toArray,Q=V.utils.clamp,dt=V.core.context||Et,at=V.core.suppressOverwrites||Et,pt=U.history.scrollRestoration||"auto",V.core.globals("ScrollTrigger",t),W)){Tt=1,B.register(V),t.isTouch=B.isTouch,ft=B.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),$t(U,"wheel",le),X=[U,j,H,W],V.matchMedia?(t.matchMedia=function(t){var e,n=V.matchMedia();for(e in t)n.add(e,t[e]);return n},V.addEventListener("matchMediaInit",(function(){return ye()})),V.addEventListener("matchMediaRevert",(function(){return ve()})),V.addEventListener("matchMedia",(function(){_e(0,1),ge("matchMedia")})),V.matchMedia("(orientation: portrait)",(function(){return ue(),ue}))):console.warn("Requires GSAP 3.11.0 or later"),ue(),$t(j,"scroll",le);var e,n,r=W.style,i=r.borderTopStyle,o=V.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",e=Xt(W),k.m=Math.round(e.top+k.sc())||0,P.m=Math.round(e.left+P.sc())||0,i?r.borderTopStyle=i:r.removeProperty("border-top-style"),$=setInterval(ce,250),V.delayedCall(.5,(function(){return xt=0})),$t(j,"touchcancel",Et),$t(W,"touchstart",Et),Zt($t,j,"pointerdown,touchstart,mousedown",Mt),Zt($t,j,"pointerup,touchend,mouseup",At),tt=V.utils.checkPrefix("transform"),Ae.push(tt),z=_t(),Y=V.delayedCall(.2,_e).pause(),it=[j,"visibilitychange",function(){var t=U.innerWidth,e=U.innerHeight;j.hidden?(nt=t,rt=e):nt===t&&rt===e||he()},j,"DOMContentLoaded",_e,U,"load",_e,U,"resize",he],It($t),ae.forEach((function(t){return t.enable(0,1)})),n=0;n<x.length;n+=3)Jt(Kt,x[n],x[n+1]),Jt(Kt,x[n],x[n+2])}},t.config=function(e){"limitCallbacks"in e&&(gt=!!e.limitCallbacks);var n=e.syncInterval;n&&clearInterval($)||($=n)&&setInterval(ce,n),"ignoreMobileResize"in e&&(lt=1===t.isTouch&&e.ignoreMobileResize),"autoRefreshEvents"in e&&(It(Kt)||It($t,e.autoRefreshEvents||"none"),st=-1===(e.autoRefreshEvents+"").indexOf("resize"))},t.scrollerProxy=function(t,e){var n=R(t),r=x.indexOf(n),i=kt(n);~r&&x.splice(r,i?6:2),e&&(i?_.unshift(U,e,W,e,H,e):_.unshift(n,e))},t.clearMatchMedia=function(t){ae.forEach((function(e){return e._ctx&&e._ctx.query===t&&e._ctx.kill(!0,!0)}))},t.isInViewport=function(t,e,n){var r=(Dt(t)?R(t):t).getBoundingClientRect(),i=r[n?"width":"height"]*e||0;return n?r.right-i>0&&r.left+i<U.innerWidth:r.bottom-i>0&&r.top+i<U.innerHeight},t.positionInViewport=function(t,e,n){Dt(t)&&(t=R(t));var r=t.getBoundingClientRect(),i=r[n?"width":"height"],o=null==e?i/2:e in ne?ne[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0;return n?(r.left+o)/U.innerWidth:(r.top+o)/U.innerHeight},t.killAll=function(t){if(ae.slice(0).forEach((function(t){return"ScrollSmoother"!==t.vars.id&&t.kill()})),!0!==t){var e=fe.killAll||[];fe={},e.forEach((function(t){return t()}))}},t}();Ne.version="3.11.4",Ne.saveStyles=function(t){return t?q(t).forEach((function(t){if(t&&t.style){var e=me.indexOf(t);e>=0&&me.splice(e,5),me.push(t,t.style.cssText,t.getBBox&&t.getAttribute("transform"),V.core.getCache(t),dt())}})):me},Ne.revert=function(t,e){return ye(!t,e)},Ne.create=function(t,e){return new Ne(t,e)},Ne.refresh=function(t){return t?he():(z||Ne.register())&&_e(!0)},Ne.update=function(t){return++x.cache&&Te(!0===t?2:0)},Ne.clearScrollMemory=be,Ne.maxScroll=function(t,e){return Ot(t,e?P:k)},Ne.getScrollFunc=function(t,e){return O(R(t),e?P:k)},Ne.getById=function(t){return se[t]},Ne.getAll=function(){return ae.filter((function(t){return"ScrollSmoother"!==t.vars.id}))},Ne.isScrolling=function(){return!!St},Ne.snapDirectional=Qt,Ne.addEventListener=function(t,e){var n=fe[t]||(fe[t]=[]);~n.indexOf(e)||n.push(e)},Ne.removeEventListener=function(t,e){var n=fe[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)},Ne.batch=function(t,e){var n,r=[],i={},o=e.interval||.016,a=e.batchMax||1e9,s=function(t,e){var n=[],r=[],i=V.delayedCall(o,(function(){e(n,r),n=[],r=[]})).pause();return function(t){n.length||i.restart(!0),n.push(t.trigger),r.push(t),a<=n.length&&i.progress(1)}};for(n in e)i[n]="on"===n.substr(0,2)&&Nt(e[n])&&"onRefreshInit"!==n?s(0,e[n]):e[n];return Nt(a)&&(a=a(),$t(Ne,"refresh",(function(){return a=e.batchMax()}))),q(t).forEach((function(t){var e={};for(n in i)e[n]=i[n];e.trigger=t,r.push(Ne.create(e))})),r};var Fe,Ge=function(t,e,n,r){return e>r?t(r):e<0&&t(0),n>r?(r-e)/(n-e):n<0?e/(e-n):1},Be=function t(e,n){!0===n?e.style.removeProperty("touch-action"):e.style.touchAction=!0===n?"auto":n?"pan-"+n+(B.isTouch?" pinch-zoom":""):"none",e===H&&t(W,n)},Ve={auto:1,scroll:1},ze=function(t){var e,n=t.event,r=t.target,i=t.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,a=o._gsap||V.core.getCache(o),s=_t();if(!a._isScrollT||s-a._isScrollT>2e3){for(;o&&o!==W&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!Ve[(e=Ht(o)).overflowY]&&!Ve[e.overflowX]);)o=o.parentNode;a._isScroll=o&&o!==r&&!kt(o)&&(Ve[(e=Ht(o)).overflowY]||Ve[e.overflowX]),a._isScrollT=s}(a._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},Ue=function(t,e,n,r){return B.create({target:t,capture:!0,debounce:!1,lockAxis:!0,type:e,onWheel:r=r&&ze,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&$t(j,B.eventTypes[0],He,!1,!0)},onDisable:function(){return Kt(j,B.eventTypes[0],He,!0)}})},je=/(input|label|select|textarea)/i,He=function(t){var e=je.test(t.target.tagName);(e||Fe)&&(t._gsapAllow=!0,Fe=e)},We=function(t){Gt(t)||(t={}),t.preventDefault=t.isNormalizer=t.allowClicks=!0,t.type||(t.type="wheel,touch"),t.debounce=!!t.debounce,t.id=t.id||"normalizer";var e,n,r,i,o,a,s,c,l=t,u=l.normalizeScrollX,h=l.momentum,f=l.allowNestedScroll,d=R(t.target)||H,p=V.core.globals().ScrollSmoother,g=p&&p.get(),m=ft&&(t.content&&R(t.content)||g&&!1!==t.content&&!g.smooth()&&g.content()),v=O(d,k),y=O(d,P),b=1,_=(B.isTouch&&U.visualViewport?U.visualViewport.scale*U.visualViewport.width:U.outerWidth)/U.innerWidth,w=0,S=Nt(h)?function(){return h(e)}:function(){return h||2.8},T=Ue(d,t.type,!0,f),M=function(){return i=!1},A=Et,E=Et,C=function(){n=Ot(d,k),E=Q(ft?1:0,n),u&&(A=Q(0,Ot(d,P))),r=xe},L=function(){m._gsap.y=Ct(parseFloat(m._gsap.y)+v.offset)+"px",m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(m._gsap.y)+", 0, 1)",v.offset=v.cacheID=0},I=function(){C(),o.isActive()&&o.vars.scrollY>n&&(v()>n?o.progress(1)&&v(n):o.resetTo("scrollY",n))};return m&&V.set(m,{y:"+=0"}),t.ignoreCheck=function(t){return ft&&"touchmove"===t.type&&function(){if(i){requestAnimationFrame(M);var t=Ct(e.deltaY/2),n=E(v.v-t);if(m&&n!==v.v+v.offset){v.offset=n-v.v;var r=Ct((parseFloat(m&&m._gsap.y)||0)-v.offset);m.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",m._gsap.y=r+"px",v.cacheID=x.cache,Te()}return!0}v.offset&&L(),i=!0}()||b>1.05&&"touchstart"!==t.type||e.isGesturing||t.touches&&t.touches.length>1},t.onPress=function(){var t=b;b=Ct((U.visualViewport&&U.visualViewport.scale||1)/_),o.pause(),t!==b&&Be(d,b>1.01||!u&&"x"),a=y(),s=v(),C(),r=xe},t.onRelease=t.onGestureStart=function(t,e){if(v.offset&&L(),e){x.cache++;var r,i,a=S();u&&(i=(r=y())+.05*a*-t.velocityX/.227,a*=Ge(y,r,i,Ot(d,P)),o.vars.scrollX=A(i)),i=(r=v())+.05*a*-t.velocityY/.227,a*=Ge(v,r,i,Ot(d,k)),o.vars.scrollY=E(i),o.invalidate().duration(a).play(.01),(ft&&o.vars.scrollY>=n||r>=n-1)&&V.to({},{onUpdate:I,duration:a})}else c.restart(!0)},t.onWheel=function(){o._ts&&o.pause(),_t()-w>1e3&&(r=0,w=_t())},t.onChange=function(t,e,n,i,o){if(xe!==r&&C(),e&&u&&y(A(i[2]===e?a+(t.startX-t.x):y()+e-i[1])),n){v.offset&&L();var c=o[2]===n,l=c?s+t.startY-t.y:v()+n-o[1],h=E(l);c&&l!==h&&(s+=h-l),v(h)}(n||e)&&Te()},t.onEnable=function(){Be(d,!u&&"x"),Ne.addEventListener("refresh",I),$t(U,"resize",I),v.smooth&&(v.target.style.scrollBehavior="auto",v.smooth=y.smooth=!1),T.enable()},t.onDisable=function(){Be(d,!0),Kt(U,"resize",I),Ne.removeEventListener("refresh",I),T.kill()},t.lockAxis=!1!==t.lockAxis,(e=new B(t)).iOS=ft,ft&&!v()&&v(1),ft&&V.ticker.add(Et),c=e._dc,o=V.to(e,{ease:"power4",paused:!0,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:c.vars.onComplete}),e};Ne.sort=function(t){return ae.sort(t||function(t,e){return-1e6*(t.vars.refreshPriority||0)+t.start-(e.start+-1e6*(e.vars.refreshPriority||0))})},Ne.observe=function(t){return new B(t)},Ne.normalizeScroll=function(t){if(void 0===t)return ct;if(!0===t&&ct)return ct.enable();if(!1===t)return ct&&ct.kill();var e=t instanceof B?t:We(t);return ct&&ct.target===e.target&&ct.kill(),kt(e.target)&&(ct=e),e},Ne.core={_getVelocityProp:I,_inputObserver:Ue,_scrollers:x,_proxies:_,bridge:{ss:function(){St||ge("scrollStart"),St=_t()},ref:function(){return K}}},Pt()&&V.registerPlugin(Ne)},function(t,e,n){"use strict";var r=n(9),i=n(73)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(55)("find")},function(t,e,n){var r,i,o,a,s,c,l,u,h,f,d,p,g,m,v,y,b,x,_,w,S,T,M,A,E,C,L,P,k,R,O,I,D,N,F,G,B,V,z,U,j,H,W,X,Y,q,Q={REVISION:"77"};void 0===(i="function"==typeof(r=Q)?r.call(e,n,e,t):r)||(t.exports=i),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(Q,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:Q.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201}),Q.Color=function(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)},Q.Color.prototype={constructor:Q.Color,r:1,g:1,b:1,set:function(t){return t instanceof Q.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){this.r=t,this.g=t,this.b=t},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=Q.Math.euclideanModulo(e,1),n=Q.Math.clamp(n,0,1),r=Q.Math.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=t(o,i,e+1/3),this.g=t(o,i,e),this.b=t(o,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(a,s,c)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,u=(l=n[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(l=Q.ColorKeywords[t])?this.setHex(l):console.warn("THREE.Color: Unknown color "+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),c=Math.min(i,o,a),l=(c+s)/2;if(c===s)e=0,n=0;else{var u=s-c;switch(n=l<=.5?u/(s+c):u/(2-s-c),s){case i:e=(o-a)/u+(o<a?6:0);break;case o:e=(a-i)/u+2;break;case a:e=(i-o)/u+4}e/=6}return r.h=e,r.s=n,r.l=l,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},Q.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Q.Quaternion=function(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1},Q.Quaternion.prototype={constructor:Q.Quaternion,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof Q.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),o=Math.sin(t._x/2),a=Math.sin(t._y/2),s=Math.sin(t._z/2),c=t.order;return"XYZ"===c?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"YXZ"===c?(this._x=o*r*i+n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"ZXY"===c?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i-o*a*s):"ZYX"===c?(this._x=o*r*i-n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i+o*a*s):"YZX"===c?(this._x=o*r*i+n*a*s,this._y=n*a*i+o*r*s,this._z=n*r*s-o*a*i,this._w=n*r*i-o*a*s):"XZY"===c&&(this._x=o*r*i-n*a*s,this._y=n*a*i-o*r*s,this._z=n*r*s+o*a*i,this._w=n*r*i+o*a*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],l=n[2],u=n[6],h=n[10],f=r+s+h;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(u-c)*e,this._y=(o-l)*e,this._z=(a-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(u-c)/e,this._x=.25*e,this._y=(i+a)/e,this._z=(o+l)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(o-l)/e,this._x=(i+a)/e,this._y=.25*e,this._z=(c+u)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(a-i)/e,this._x=(o+l)/e,this._y=(c+u)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){return void 0===o&&(o=new Q.Vector3),(a=t.dot(e)+1)<1e-6?(a=0,Math.abs(t.x)>Math.abs(t.z)?o.set(-t.y,t.x,0):o.set(0,-t.z,t.y)):o.crossVectors(t,e),this._x=o.x,this._y=o.y,this._z=o.z,this._w=a,this.normalize()},inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,o=t._w,a=e._x,s=e._y,c=e._z,l=e._w;return this._x=n*l+o*a+r*c-i*s,this._y=r*l+o*s+i*a-n*c,this._z=i*l+o*c+n*s-r*a,this._w=o*l-n*a-r*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*t._w+n*t._x+r*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-a*a);if(Math.abs(s)<.001)return this._w=.5*(o+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var c=Math.atan2(s,a),l=Math.sin((1-e)*c)/s,u=Math.sin(e*c)/s;return this._w=o*l+this._w*u,this._x=n*l+this._x*u,this._y=r*l+this._y*u,this._z=i*l+this._z*u,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(Q.Quaternion,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,o,a){var s=n[r+0],c=n[r+1],l=n[r+2],u=n[r+3],h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(u!==p||s!==h||c!==f||l!==d){var g=1-a,m=s*h+c*f+l*d+u*p,v=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,m*v);g=Math.sin(g*x)/b,a=Math.sin(a*x)/b}var _=a*v;if(s=s*g+h*_,c=c*g+f*_,l=l*g+d*_,u=u*g+p*_,g===1-a){var w=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=w,c*=w,l*=w,u*=w}}t[e]=s,t[e+1]=c,t[e+2]=l,t[e+3]=u}}),Q.Vector2=function(t,e){this.x=t||0,this.y=e||0},Q.Vector2.prototype={constructor:Q.Vector2,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return void 0===s&&(s=new Q.Vector2,c=new Q.Vector2),s.set(t,t),c.set(e,e),this.clamp(s,c)},clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,o=this.y-t.y;return this.x=i*n-o*r+t.x,this.y=i*r+o*n+t.y,this}},Q.Vector3=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0},Q.Vector3.prototype={constructor:Q.Vector3,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t instanceof Q.Euler==0&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===u&&(u=new Q.Quaternion),this.applyQuaternion(u.setFromEuler(t))},applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new Q.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14],this},applyProjection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,o=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,a=t.z,s=t.w,c=s*e+o*r-a*n,l=s*n+a*e-i*r,u=s*r+i*n-o*e,h=-i*e-o*n-a*r;return this.x=c*s+h*-i+l*-a-u*-o,this.y=l*s+h*-o+u*-i-c*-a,this.z=u*s+h*-a+c*-o-l*-i,this},project:function(t){return void 0===l&&(l=new Q.Matrix4),l.multiplyMatrices(t.projectionMatrix,l.getInverse(t.matrixWorld)),this.applyProjection(l)},unproject:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new Q.Vector3,e=new Q.Vector3),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,o=e.x,a=e.y,s=e.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(){var t,e;return function(n){return void 0===t&&(t=new Q.Vector3),t.copy(n).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new Q.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new Q.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Q.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},Q.Vector4=function(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1},Q.Vector4.prototype={constructor:Q.Vector4,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*e+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*e+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*e+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,o=t.elements,a=o[0],s=o[4],c=o[8],l=o[1],u=o[5],h=o[9],f=o[2],d=o[6],p=o[10];if(Math.abs(s-l)<.01&&Math.abs(c-f)<.01&&Math.abs(h-d)<.01){if(Math.abs(s+l)<.1&&Math.abs(c+f)<.1&&Math.abs(h+d)<.1&&Math.abs(a+u+p-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var g=(a+1)/2,m=(u+1)/2,v=(p+1)/2,y=(s+l)/4,b=(c+f)/4,x=(h+d)/4;return g>m&&g>v?g<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(g)),i=b/n):m>v?m<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(m)),i=x/r):v<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(v)),r=x/i),this.set(n,r,i,e),this}var _=Math.sqrt((d-h)*(d-h)+(c-f)*(c-f)+(l-s)*(l-s));return Math.abs(_)<.001&&(_=1),this.x=(d-h)/_,this.y=(c-f)/_,this.z=(l-s)/_,this.w=Math.acos((a+u+p-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new Q.Vector4,e=new Q.Vector4),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},Q.Euler=function(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||Q.Euler.DefaultOrder},Q.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Q.Euler.DefaultOrder="XYZ",Q.Euler.prototype={constructor:Q.Euler,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=Q.Math.clamp,i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],l=i[5],u=i[9],h=i[2],f=i[6],d=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(c,o))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,l))):"YZX"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,l),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new Q.Matrix4),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(h=new Q.Quaternion,function(t){return h.setFromEuler(this),this.setFromQuaternion(h,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Q.Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Q.Line3=function(t,e){this.start=void 0!==t?t:new Q.Vector3,this.end=void 0!==e?e:new Q.Vector3},Q.Line3.prototype={constructor:Q.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){return(t||new Q.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new Q.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new Q.Vector3;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(f=new Q.Vector3,d=new Q.Vector3,function(t,e){f.subVectors(t,this.start),d.subVectors(this.end,this.start);var n=d.dot(d),r=d.dot(f)/n;return e&&(r=Q.Math.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new Q.Vector3;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},Q.Box2=function(t,e){this.min=void 0!==t?t:new Q.Vector2(1/0,1/0),this.max=void 0!==e?e:new Q.Vector2(-1/0,-1/0)},Q.Box2.prototype={constructor:Q.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Q.Vector2;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){return(t||new Q.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new Q.Vector2).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new Q.Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new Q.Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Q.Vector2;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},Q.Box3=function(t,e){this.min=void 0!==t?t:new Q.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new Q.Vector3(-1/0,-1/0,-1/0)},Q.Box3.prototype={constructor:Q.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,c=t.length;s<c;s+=3){var l=t[s],u=t[s+1],h=t[s+2];l<e&&(e=l),u<n&&(n=u),h<r&&(r=h),l>i&&(i=l),u>o&&(o=u),h>a&&(a=h)}this.min.set(e,n,r),this.max.set(i,o,a)},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Q.Vector3;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(){var t=new Q.Vector3;return function(e){var n=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse((function(e){var r=e.geometry;if(void 0!==r)if(r instanceof Q.Geometry)for(var i=r.vertices,o=0,a=i.length;o<a;o++)t.copy(i[o]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t);else if(r instanceof Q.BufferGeometry&&void 0!==r.attributes.position){var s=r.attributes.position.array;for(o=0,a=s.length;o<a;o+=3)t.fromArray(s,o),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}})),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){return(t||new Q.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new Q.Vector3).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new Q.Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return void 0===g&&(g=new Q.Vector3),this.clampPoint(t.center,g),g.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new Q.Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Q.Vector3;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Q.Vector3;return function(e){var n=e||new Q.Sphere;return n.center=this.center(),n.radius=.5*this.size(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(p=[new Q.Vector3,new Q.Vector3,new Q.Vector3,new Q.Vector3,new Q.Vector3,new Q.Vector3,new Q.Vector3,new Q.Vector3],function(t){return this.isEmpty()||(p[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),p[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),p[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),p[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),p[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),p[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),p[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),p[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(p)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},Q.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},Q.Matrix3.prototype={constructor:Q.Matrix3,set:function(t,e,n,r,i,o,a,s,c){var l=this.elements;return l[0]=t,l[1]=r,l[2]=a,l[3]=e,l[4]=i,l[5]=s,l[6]=n,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,n,r){void 0===t&&(t=new Q.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length);for(var i=0,o=n;i<r;i+=3,o+=3)t.fromArray(e,o),t.applyMatrix3(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,n,r){void 0===t&&(t=new Q.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length/e.itemSize);for(var i=0,o=n;i<r;i++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix3(this),e.setXYZ(t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],c=t[7],l=t[8];return e*o*l-e*a*c-n*i*l+n*a*s+r*i*c-r*o*s},getInverse:function(t,e){t instanceof Q.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=t.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],l=n[5],u=n[6],h=n[7],f=n[8],d=f*c-l*h,p=l*u-f*s,g=h*s-c*u,m=i*d+o*p+a*g;if(0===m){var v="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(v);return console.warn(v),this.identity()}var y=1/m;return r[0]=d*y,r[1]=(a*h-f*o)*y,r[2]=(l*o-a*c)*y,r[3]=p*y,r[4]=(f*i-a*u)*y,r[5]=(a*s-l*i)*y,r[6]=g*y,r[7]=(o*u-h*i)*y,r[8]=(c*i-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},Q.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},Q.Matrix4.prototype={constructor:Q.Matrix4,set:function(t,e,n,r,i,o,a,s,c,l,u,h,f,d,p,g){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=r,m[1]=i,m[5]=o,m[9]=a,m[13]=s,m[2]=c,m[6]=l,m[10]=u,m[14]=h,m[3]=f,m[7]=d,m[11]=p,m[15]=g,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Q.Matrix4).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new Q.Vector3);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,this}}(),makeRotationFromEuler:function(t){t instanceof Q.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),c=Math.sin(r),l=Math.cos(i),u=Math.sin(i);if("XYZ"===t.order){var h=o*l,f=o*u,d=a*l,p=a*u;e[0]=s*l,e[4]=-s*u,e[8]=c,e[1]=f+d*c,e[5]=h-p*c,e[9]=-a*s,e[2]=p-h*c,e[6]=d+f*c,e[10]=o*s}else if("YXZ"===t.order){var g=s*l,m=s*u,v=c*l,y=c*u;e[0]=g+y*a,e[4]=v*a-m,e[8]=o*c,e[1]=o*u,e[5]=o*l,e[9]=-a,e[2]=m*a-v,e[6]=y+g*a,e[10]=o*s}else if("ZXY"===t.order){g=s*l,m=s*u,v=c*l,y=c*u;e[0]=g-y*a,e[4]=-o*u,e[8]=v+m*a,e[1]=m+v*a,e[5]=o*l,e[9]=y-g*a,e[2]=-o*c,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){h=o*l,f=o*u,d=a*l,p=a*u;e[0]=s*l,e[4]=d*c-f,e[8]=h*c+p,e[1]=s*u,e[5]=p*c+h,e[9]=f*c-d,e[2]=-c,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var b=o*s,x=o*c,_=a*s,w=a*c;e[0]=s*l,e[4]=w-b*u,e[8]=_*u+x,e[1]=u,e[5]=o*l,e[9]=-a*l,e[2]=-c*l,e[6]=x*u+_,e[10]=b-w*u}else if("XZY"===t.order){b=o*s,x=o*c,_=a*s,w=a*c;e[0]=s*l,e[4]=-u,e[8]=c*l,e[1]=b*u+w,e[5]=o*l,e[9]=x*u-_,e[2]=_*u-x,e[6]=a*l,e[10]=w*u+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,o=t.w,a=n+n,s=r+r,c=i+i,l=n*a,u=n*s,h=n*c,f=r*s,d=r*c,p=i*c,g=o*a,m=o*s,v=o*c;return e[0]=1-(f+p),e[4]=u-v,e[8]=h+m,e[1]=u+v,e[5]=1-(l+p),e[9]=d-g,e[2]=h-m,e[6]=d+g,e[10]=1-(l+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(t,e,n){void 0===m&&(m=new Q.Vector3,v=new Q.Vector3,y=new Q.Vector3);var r=this.elements;return y.subVectors(t,e).normalize(),0===y.lengthSq()&&(y.z=1),m.crossVectors(n,y).normalize(),0===m.lengthSq()&&(y.z+=1e-4,m.crossVectors(n,y).normalize()),v.crossVectors(y,m),r[0]=m.x,r[4]=v.x,r[8]=y.x,r[1]=m.y,r[5]=v.y,r[9]=y.y,r[2]=m.z,r[6]=v.z,r[10]=y.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,o=n[0],a=n[4],s=n[8],c=n[12],l=n[1],u=n[5],h=n[9],f=n[13],d=n[2],p=n[6],g=n[10],m=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],S=r[8],T=r[12],M=r[1],A=r[5],E=r[9],C=r[13],L=r[2],P=r[6],k=r[10],R=r[14],O=r[3],I=r[7],D=r[11],N=r[15];return i[0]=o*_+a*M+s*L+c*O,i[4]=o*w+a*A+s*P+c*I,i[8]=o*S+a*E+s*k+c*D,i[12]=o*T+a*C+s*R+c*N,i[1]=l*_+u*M+h*L+f*O,i[5]=l*w+u*A+h*P+f*I,i[9]=l*S+u*E+h*k+f*D,i[13]=l*T+u*C+h*R+f*N,i[2]=d*_+p*M+g*L+m*O,i[6]=d*w+p*A+g*P+m*I,i[10]=d*S+p*E+g*k+m*D,i[14]=d*T+p*C+g*R+m*N,i[3]=v*_+y*M+b*L+x*O,i[7]=v*w+y*A+b*P+x*I,i[11]=v*S+y*E+b*k+x*D,i[15]=v*T+y*C+b*R+x*N,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,n,r){void 0===t&&(t=new Q.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length);for(var i=0,o=n;i<r;i+=3,o+=3)t.fromArray(e,o),t.applyMatrix4(this),t.toArray(e,o);return e}}(),applyToBuffer:function(){var t;return function(e,n,r){void 0===t&&(t=new Q.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length/e.itemSize);for(var i=0,o=n;i<r;i++,o++)t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.applyMatrix4(this),e.setXYZ(t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],o=t[1],a=t[5],s=t[9],c=t[13],l=t[2],u=t[6],h=t[10],f=t[14];return t[3]*(+i*s*u-r*c*u-i*a*h+n*c*h+r*a*f-n*s*f)+t[7]*(+e*s*f-e*c*h+i*o*h-r*o*f+r*c*l-i*s*l)+t[11]*(+e*c*u-e*a*f-i*o*u+n*o*f+i*a*l-n*c*l)+t[15]*(-r*a*l-e*s*u+e*a*h+r*o*u-n*o*h+n*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Q.Vector3),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],l=r[5],u=r[6],h=r[7],f=r[8],d=r[9],p=r[10],g=r[11],m=r[12],v=r[13],y=r[14],b=r[15],x=d*y*h-v*p*h+v*u*g-l*y*g-d*u*b+l*p*b,_=m*p*h-f*y*h-m*u*g+c*y*g+f*u*b-c*p*b,w=f*v*h-m*d*h+m*l*g-c*v*g-f*l*b+c*d*b,S=m*d*u-f*v*u-m*l*p+c*v*p+f*l*y-c*d*y,T=i*x+o*_+a*w+s*S;if(0===T){var M="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(e)throw new Error(M);return console.warn(M),this.identity()}var A=1/T;return n[0]=x*A,n[1]=(v*p*s-d*y*s-v*a*g+o*y*g+d*a*b-o*p*b)*A,n[2]=(l*y*s-v*u*s+v*a*h-o*y*h-l*a*b+o*u*b)*A,n[3]=(d*u*s-l*p*s-d*a*h+o*p*h+l*a*g-o*u*g)*A,n[4]=_*A,n[5]=(f*y*s-m*p*s+m*a*g-i*y*g-f*a*b+i*p*b)*A,n[6]=(m*u*s-c*y*s-m*a*h+i*y*h+c*a*b-i*u*b)*A,n[7]=(c*p*s-f*u*s+f*a*h-i*p*h-c*a*g+i*u*g)*A,n[8]=w*A,n[9]=(m*d*s-f*v*s-m*o*g+i*v*g+f*o*b-i*d*b)*A,n[10]=(c*v*s-m*l*s+m*o*h-i*v*h-c*o*b+i*l*b)*A,n[11]=(f*l*s-c*d*s-f*o*h+i*d*h+c*o*g-i*l*g)*A,n[12]=S*A,n[13]=(f*v*a-m*d*a+m*o*p-i*v*p-f*o*y+i*d*y)*A,n[14]=(m*l*a-c*v*a-m*o*u+i*v*u+c*o*y-i*l*y)*A,n[15]=(c*d*a-f*l*a+f*o*u-i*d*u-c*o*p+i*l*p)*A,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,o=t.x,a=t.y,s=t.z,c=i*o,l=i*a;return this.set(c*o+n,c*a-r*s,c*s+r*a,0,c*a+r*s,l*a+n,l*s-r*o,0,c*s-r*a,l*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new Q.Vector3,e=new Q.Matrix4);var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),c=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.elements.set(this.elements);var l=1/a,u=1/s,h=1/c;return e.elements[0]*=l,e.elements[1]*=l,e.elements[2]*=l,e.elements[4]*=u,e.elements[5]*=u,e.elements[6]*=u,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,r.setFromRotationMatrix(e),i.x=a,i.y=s,i.z=c,this}}(),makeFrustum:function(t,e,n,r,i,o){var a=this.elements,s=2*i/(e-t),c=2*i/(r-n),l=(e+t)/(e-t),u=(r+n)/(r-n),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=l,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(t,e,n,r){var i=n*Math.tan(Q.Math.DEG2RAD*t*.5),o=-i,a=o*e,s=i*e;return this.makeFrustum(a,s,o,i,n,r)},makeOrthographic:function(t,e,n,r,i,o){var a=this.elements,s=1/(e-t),c=1/(n-r),l=1/(o-i),u=(e+t)*s,h=(n+r)*c,f=(o+i)*l;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*l,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t){return this.elements.set(t),this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},Q.Ray=function(t,e){this.origin=void 0!==t?t:new Q.Vector3,this.direction=void 0!==e?e:new Q.Vector3},Q.Ray.prototype={constructor:Q.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new Q.Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Q.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new Q.Vector3;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Q.Vector3;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(x=new Q.Vector3,_=new Q.Vector3,w=new Q.Vector3,function(t,e,n,r){x.copy(t).add(e).multiplyScalar(.5),_.copy(e).sub(t).normalize(),w.copy(this.origin).sub(x);var i,o,a,s,c=.5*t.distanceTo(e),l=-this.direction.dot(_),u=w.dot(this.direction),h=-w.dot(_),f=w.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(o=l*u-h,s=c*d,(i=l*h-u)>=0)if(o>=-s)if(o<=s){var p=1/d;a=(i*=p)*(i+l*(o*=p)+2*u)+o*(l*i+o+2*h)+f}else o=c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+f;else o=-c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+f;else o<=-s?a=-(i=Math.max(0,-(-l*c+u)))*i+(o=i>0?-c:Math.min(Math.max(-c,-h),c))*(o+2*h)+f:o<=s?(i=0,a=(o=Math.min(Math.max(-c,-h),c))*(o+2*h)+f):a=-(i=Math.max(0,-(l*c+u)))*i+(o=i>0?c:Math.min(Math.max(-c,-h),c))*(o+2*h)+f;else o=l>0?-c:c,a=-(i=Math.max(0,-(l*o+u)))*i+o*(o+2*h)+f;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(_).multiplyScalar(o).add(x),a}),intersectSphere:function(){var t=new Q.Vector3;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,o=e.radius*e.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=r-a,c=r+a;return s<0&&c<0?null:s<0?this.at(c,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,o,a,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,r=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,r=(t.min.x-h.x)*c),l>=0?(i=(t.min.y-h.y)*l,o=(t.max.y-h.y)*l):(i=(t.max.y-h.y)*l,o=(t.min.y-h.y)*l),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:(b=new Q.Vector3,function(t){return null!==this.intersectBox(t,b)}),intersectTriangle:function(){var t=new Q.Vector3,e=new Q.Vector3,n=new Q.Vector3,r=new Q.Vector3;return function(i,o,a,s,c){e.subVectors(o,i),n.subVectors(a,i),r.crossVectors(e,n);var l,u=this.direction.dot(r);if(u>0){if(s)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}t.subVectors(this.origin,i);var h=l*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var f=l*this.direction.dot(e.cross(t));if(f<0)return null;if(h+f>u)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/u,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},Q.Sphere=function(t,e){this.center=void 0!==t?t:new Q.Vector3,this.radius=void 0!==e?e:0},Q.Sphere.prototype={constructor:Q.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(S=new Q.Box3,function(t,e){var n=this.center;void 0!==e?n.copy(e):S.setFromPoints(t).center(n);for(var r=0,i=0,o=t.length;i<o;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new Q.Vector3;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new Q.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},Q.Frustum=function(t,e,n,r,i,o){this.planes=[void 0!==t?t:new Q.Plane,void 0!==e?e:new Q.Plane,void 0!==n?n:new Q.Plane,void 0!==r?r:new Q.Plane,void 0!==i?i:new Q.Plane,void 0!==o?o:new Q.Plane]},Q.Frustum.prototype={constructor:Q.Frustum,set:function(t,e,n,r,i,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],l=n[6],u=n[7],h=n[8],f=n[9],d=n[10],p=n[11],g=n[12],m=n[13],v=n[14],y=n[15];return e[0].setComponents(a-r,u-s,p-h,y-g).normalize(),e[1].setComponents(a+r,u+s,p+h,y+g).normalize(),e[2].setComponents(a+i,u+c,p+f,y+m).normalize(),e[3].setComponents(a-i,u-c,p-f,y-m).normalize(),e[4].setComponents(a-o,u-l,p-d,y-v).normalize(),e[5].setComponents(a+o,u+l,p+d,y+v).normalize(),this},intersectsObject:(A=new Q.Sphere,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),A.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(A)}),intersectsSprite:function(){var t=new Q.Sphere;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(T=new Q.Vector3,M=new Q.Vector3,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];T.x=r.normal.x>0?t.min.x:t.max.x,M.x=r.normal.x>0?t.max.x:t.min.x,T.y=r.normal.y>0?t.min.y:t.max.y,M.y=r.normal.y>0?t.max.y:t.min.y,T.z=r.normal.z>0?t.min.z:t.max.z,M.z=r.normal.z>0?t.max.z:t.min.z;var i=r.distanceToPoint(T),o=r.distanceToPoint(M);if(i<0&&o<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},Q.Plane=function(t,e){this.normal=void 0!==t?t:new Q.Vector3(1,0,0),this.constant=void 0!==e?e:0},Q.Plane.prototype={constructor:Q.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Q.Vector3,e=new Q.Vector3;return function(n,r,i){var o=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new Q.Vector3).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new Q.Vector3;return function(e,n){var r=n||new Q.Vector3,i=e.delta(t),o=this.normal.dot(i);if(0===o)return 0===this.distanceToPoint(e.start)?r.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/o;return a<0||a>1?void 0:r.copy(i).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new Q.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Q.Vector3,e=new Q.Matrix3;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),o=r||e.getNormalMatrix(n),a=this.normal.applyMatrix3(o).normalize();return this.constant=-i.dot(a),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},Q.Spherical=function(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this},Q.Spherical.prototype={constructor:Q.Spherical,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius.copy(t.radius),this.phi.copy(t.phi),this.theta.copy(t.theta),this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Q.Math.clamp(t.y/this.radius,-1,1))),this}},Q.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},random16:function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Q.Math.DEG2RAD},radToDeg:function(t){return t*Q.Math.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}},Q.Spline=function(t){this.points=t;var e,n,r,i,o,a,s,c,l,u=[],h={x:0,y:0,z:0};function f(t,e,n,r,i,o,a){var s=.5*(n-t),c=.5*(r-e);return(2*(e-n)+s+c)*a+(-3*(e-n)-2*s-c)*o+s*i+e}this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return e=(this.points.length-1)*t,n=Math.floor(e),r=e-n,u[0]=0===n?n:n-1,u[1]=n,u[2]=n>this.points.length-2?this.points.length-1:n+1,u[3]=n>this.points.length-3?this.points.length-1:n+2,a=this.points[u[0]],s=this.points[u[1]],c=this.points[u[2]],l=this.points[u[3]],o=r*(i=r*r),h.x=f(a.x,s.x,c.x,l.x,r,i,o),h.y=f(a.y,s.y,c.y,l.y,r,i,o),h.z=f(a.z,s.z,c.z,l.z,r,i,o),h},this.getControlPointsArray=function(){var t,e,n=this.points.length,r=[];for(t=0;t<n;t++)e=this.points[t],r[t]=[e.x,e.y,e.z];return r},this.getLength=function(t){var e,n,r,i,o=0,a=0,s=0,c=new Q.Vector3,l=new Q.Vector3,u=[],h=0;for(u[0]=0,t||(t=100),r=this.points.length*t,c.copy(this.points[0]),e=1;e<r;e++)n=e/r,i=this.getPoint(n),l.copy(i),h+=l.distanceTo(c),c.copy(i),o=(this.points.length-1)*n,(a=Math.floor(o))!==s&&(u[a]=h,s=a);return u[u.length]=h,{chunks:u,total:h}},this.reparametrizeByArcLength=function(t){var e,n,r,i,o,a,s,c,l=[],u=new Q.Vector3,h=this.getLength();for(l.push(u.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(a=h.chunks[e]-h.chunks[e-1],s=Math.ceil(t*a/h.total),i=(e-1)/(this.points.length-1),o=e/(this.points.length-1),n=1;n<s-1;n++)r=i+n*(1/s)*(o-i),c=this.getPoint(r),l.push(u.copy(c).clone());l.push(u.copy(this.points[e]).clone())}this.points=l}},Q.Triangle=function(t,e,n){this.a=void 0!==t?t:new Q.Vector3,this.b=void 0!==e?e:new Q.Vector3,this.c=void 0!==n?n:new Q.Vector3},Q.Triangle.normal=(E=new Q.Vector3,function(t,e,n,r){var i=r||new Q.Vector3;i.subVectors(n,e),E.subVectors(t,e),i.cross(E);var o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}),Q.Triangle.barycoordFromPoint=function(){var t=new Q.Vector3,e=new Q.Vector3,n=new Q.Vector3;return function(r,i,o,a,s){t.subVectors(a,i),e.subVectors(o,i),n.subVectors(r,i);var c=t.dot(t),l=t.dot(e),u=t.dot(n),h=e.dot(e),f=e.dot(n),d=c*h-l*l,p=s||new Q.Vector3;if(0===d)return p.set(-2,-1,-1);var g=1/d,m=(h*u-l*f)*g,v=(c*f-l*u)*g;return p.set(1-m-v,v,m)}}(),Q.Triangle.containsPoint=function(){var t=new Q.Vector3;return function(e,n,r,i){var o=Q.Triangle.barycoordFromPoint(e,n,r,i,t);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),Q.Triangle.prototype={constructor:Q.Triangle,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new Q.Vector3,e=new Q.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new Q.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return Q.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new Q.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return Q.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Q.Triangle.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,o){void 0===t&&(t=new Q.Plane,e=[new Q.Line3,new Q.Line3,new Q.Line3],n=new Q.Vector3,r=new Q.Vector3);var a=o||new Q.Vector3,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))a.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var c=0;c<e.length;c++){e[c].closestPointToPoint(n,!0,r);var l=n.distanceToSquared(r);l<s&&(s=l,a.copy(r))}}return a}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},Q.Interpolant=function(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n},Q.Interpolant.prototype={constructor:Q.Interpolant,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var o;n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,t<(r=e[++n]))break e}o=e.length;break n}if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,t>=(i=e[--n-1]))break e}o=n,n=0}for(;n<o;){var c=n+o>>>1;t<e[c]?o=c:n=c+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,o=0;o!==r;++o)e[o]=n[i+o];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(Q.Interpolant.prototype,{beforeStart_:Q.Interpolant.prototype.copySampleValue_,afterEnd_:Q.Interpolant.prototype.copySampleValue_}),Q.CubicInterpolant=function(t,e,n,r){Q.Interpolant.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},Q.CubicInterpolant.prototype=Object.assign(Object.create(Q.Interpolant.prototype),{constructor:Q.CubicInterpolant,DefaultSettings_:{endingStart:Q.ZeroCurvatureEnding,endingEnd:Q.ZeroCurvatureEnding},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,o=t+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Q.ZeroSlopeEnding:i=t,a=2*e-n;break;case Q.WrapAroundEnding:a=e+r[i=r.length-2]-r[i+1];break;default:i=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Q.ZeroSlopeEnding:o=t,s=2*n-e;break;case Q.WrapAroundEnding:o=1,s=n+r[1]-r[0];break;default:o=t-1,s=e}var c=.5*(n-e),l=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(s-n),this._offsetPrev=i*l,this._offsetNext=o*l},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-e)/(r-e),p=d*d,g=p*d,m=-h*g+2*h*p-h*d,v=(1+h)*g+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*g+(1.5+f)*p+.5*d,b=f*g-f*p,x=0;x!==a;++x)i[x]=m*o[l+x]+v*o[c+x]+y*o[s+x]+b*o[u+x];return i}}),Q.DiscreteInterpolant=function(t,e,n,r){Q.Interpolant.call(this,t,e,n,r)},Q.DiscreteInterpolant.prototype=Object.assign(Object.create(Q.Interpolant.prototype),{constructor:Q.DiscreteInterpolant,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}}),Q.LinearInterpolant=function(t,e,n,r){Q.Interpolant.call(this,t,e,n,r)},Q.LinearInterpolant.prototype=Object.assign(Object.create(Q.Interpolant.prototype),{constructor:Q.LinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=s-a,l=(n-e)/(r-e),u=1-l,h=0;h!==a;++h)i[h]=o[c+h]*u+o[s+h]*l;return i}}),Q.QuaternionLinearInterpolant=function(t,e,n,r){Q.Interpolant.call(this,t,e,n,r)},Q.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Q.Interpolant.prototype),{constructor:Q.QuaternionLinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,c=(n-e)/(r-e),l=s+a;s!==l;s+=4)Q.Quaternion.slerpFlat(i,0,o,s-a,o,s,c);return i}}),Q.Clock=function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},Q.Clock.prototype={constructor:Q.Clock,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Q.EventDispatcher=function(){},Object.assign(Q.EventDispatcher.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],r=0,i=e.length;for(r=0;r<i;r++)n[r]=e[r];for(r=0;r<i;r++)n[r].call(this,t)}}}}),Q.Layers=function(){this.mask=1},Q.Layers.prototype={constructor:Q.Layers,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}},function(t){function e(t,e){return t.distance-e.distance}function n(t,e,r,i){if(!1!==t.visible&&(t.raycast(e,r),!0===i))for(var o=t.children,a=0,s=o.length;a<s;a++)n(o[a],e,r,!0)}t.Raycaster=function(e,n,r,i){this.ray=new t.Ray(e,n),this.near=r||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})},t.Raycaster.prototype={constructor:t.Raycaster,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(e,n){n instanceof t.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize()):n instanceof t.OrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,r){var i=[];return n(t,this,i,r),i.sort(e),i},intersectObjects:function(t,r){var i=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=t.length;o<a;o++)n(t[o],this,i,r);return i.sort(e),i}}}(Q),Q.Object3D=function(){Object.defineProperty(this,"id",{value:Q.Object3DIdCount++}),this.uuid=Q.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Q.Object3D.DefaultUp.clone();var t=new Q.Vector3,e=new Q.Euler,n=new Q.Quaternion,r=new Q.Vector3(1,1,1);e.onChange((function(){n.setFromEuler(e,!1)})),n.onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new Q.Matrix4},normalMatrix:{value:new Q.Matrix3}}),this.matrix=new Q.Matrix4,this.matrixWorld=new Q.Matrix4,this.matrixAutoUpdate=Q.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Q.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},Q.Object3D.DefaultUp=new Q.Vector3(0,1,0),Q.Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(Q.Object3D.prototype,Q.EventDispatcher.prototype,{applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(k=new Q.Quaternion,function(t,e){return k.setFromAxisAngle(t,e),this.quaternion.multiply(k),this}),rotateX:function(){var t=new Q.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Q.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Q.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Q.Vector3;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new Q.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Q.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Q.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(P=new Q.Matrix4,function(t){return t.applyMatrix4(P.getInverse(this.matrixWorld))}),lookAt:function(){var t=new Q.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t instanceof Q.Object3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){var e=t||new Q.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(C=new Q.Vector3,L=new Q.Vector3,function(t){var e=t||new Q.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(C,e,L),e}),getWorldRotation:function(){var t=new Q.Quaternion;return function(e){var n=e||new Q.Euler;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new Q.Vector3,e=new Q.Quaternion;return function(n){var r=n||new Q.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new Q.Quaternion;return function(e){var n=e||new Q.Vector3;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,n=this.children.length;e<n;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||""===t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(t).object)}if(e){var o=l(t.geometries),a=l(t.materials),s=l(t.textures),c=l(t.images);o.length>0&&(n.geometries=o),a.length>0&&(n.materials=a),s.length>0&&(n.textures=s),c.length>0&&(n.images=c)}return n.object=r,n;function l(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),Q.Object3DIdCount=0,Q.Face3=function(t,e,n,r,i,o){this.a=t,this.b=e,this.c=n,this.normal=r instanceof Q.Vector3?r:new Q.Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=i instanceof Q.Color?i:new Q.Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0},Q.Face3.prototype={constructor:Q.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},Q.BufferAttribute=function(t,e,n){this.uuid=Q.Math.generateUUID(),this.array=t,this.itemSize=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0,this.normalized=!0===n},Q.BufferAttribute.prototype={constructor:Q.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new Q.Color),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];e[n++]=o.a,e[n++]=o.b,e[n++]=o.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new Q.Vector2),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new Q.Vector3),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var o=t[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Q.Vector4),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},clone:function(){return(new this.constructor).copy(this)}},Q.Int8Attribute=function(t,e){return new Q.BufferAttribute(new Int8Array(t),e)},Q.Uint8Attribute=function(t,e){return new Q.BufferAttribute(new Uint8Array(t),e)},Q.Uint8ClampedAttribute=function(t,e){return new Q.BufferAttribute(new Uint8ClampedArray(t),e)},Q.Int16Attribute=function(t,e){return new Q.BufferAttribute(new Int16Array(t),e)},Q.Uint16Attribute=function(t,e){return new Q.BufferAttribute(new Uint16Array(t),e)},Q.Int32Attribute=function(t,e){return new Q.BufferAttribute(new Int32Array(t),e)},Q.Uint32Attribute=function(t,e){return new Q.BufferAttribute(new Uint32Array(t),e)},Q.Float32Attribute=function(t,e){return new Q.BufferAttribute(new Float32Array(t),e)},Q.Float64Attribute=function(t,e){return new Q.BufferAttribute(new Float64Array(t),e)},Q.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new Q.BufferAttribute(t,e).setDynamic(!0)},Q.InstancedBufferAttribute=function(t,e,n){Q.BufferAttribute.call(this,t,e),this.meshPerAttribute=n||1},Q.InstancedBufferAttribute.prototype=Object.create(Q.BufferAttribute.prototype),Q.InstancedBufferAttribute.prototype.constructor=Q.InstancedBufferAttribute,Q.InstancedBufferAttribute.prototype.copy=function(t){return Q.BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Q.InterleavedBuffer=function(t,e){this.uuid=Q.Math.generateUUID(),this.array=t,this.stride=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},Q.InterleavedBuffer.prototype={constructor:Q.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},Q.InstancedInterleavedBuffer=function(t,e,n){Q.InterleavedBuffer.call(this,t,e),this.meshPerAttribute=n||1},Q.InstancedInterleavedBuffer.prototype=Object.create(Q.InterleavedBuffer.prototype),Q.InstancedInterleavedBuffer.prototype.constructor=Q.InstancedInterleavedBuffer,Q.InstancedInterleavedBuffer.prototype.copy=function(t){return Q.InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Q.InterleavedBufferAttribute=function(t,e,n){this.uuid=Q.Math.generateUUID(),this.data=t,this.itemSize=e,this.offset=n},Q.InterleavedBufferAttribute.prototype={constructor:Q.InterleavedBufferAttribute,get length(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length},get count(){return this.data.count},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},Q.Geometry=function(){Object.defineProperty(this,"id",{value:Q.GeometryIdCount++}),this.uuid=Q.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(Q.Geometry.prototype,Q.EventDispatcher.prototype,{applyMatrix:function(t){for(var e=(new Q.Matrix3).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var o=0,a=i.vertexNormals.length;o<a;o++)i.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new Q.Matrix4),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new Q.Matrix4),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(t){void 0===R&&(R=new Q.Object3D),R.lookAt(t),R.updateMatrix(),this.applyMatrix(R.matrix)},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,c=void 0!==r.uv2?r.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=[],u=[],h=[],f=0,d=0;f<i.length;f+=3,d+=2)e.vertices.push(new Q.Vector3(i[f],i[f+1],i[f+2])),void 0!==o&&l.push(new Q.Vector3(o[f],o[f+1],o[f+2])),void 0!==a&&e.colors.push(new Q.Color(a[f],a[f+1],a[f+2])),void 0!==s&&u.push(new Q.Vector2(s[d],s[d+1])),void 0!==c&&h.push(new Q.Vector2(c[d],c[d+1]));function p(t,n,r,i){var f=void 0!==o?[l[t].clone(),l[n].clone(),l[r].clone()]:[],d=void 0!==a?[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()]:[],p=new Q.Face3(t,n,r,f,d,i);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([u[t].clone(),u[n].clone(),u[r].clone()]),void 0!==c&&e.faceVertexUvs[1].push([h[t].clone(),h[n].clone(),h[r].clone()])}if(void 0!==n){var g=t.groups;if(g.length>0)for(f=0;f<g.length;f++)for(var m=g[f],v=m.start,y=(d=v,v+m.count);d<y;d+=3)p(n[d],n[d+1],n[d+2],m.materialIndex);else for(f=0;f<n.length;f+=3)p(n[f],n[f+1],n[f+2])}else for(f=0;f<i.length/3;f+=3)p(f,f+1,f+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Q.Matrix4;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Q.Vector3,e=new Q.Vector3,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Q.Vector3;if(t){var s,c,l,u=new Q.Vector3,h=new Q.Vector3;for(r=0,i=this.faces.length;r<i;r++)o=this.faces[r],s=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],u.subVectors(l,c),h.subVectors(s,c),u.cross(h),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(r=0,i=this.faces.length;r<i;r++)a[(o=this.faces[r]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var f=(o=this.faces[r]).vertexNormals;3===f.length?(f[0].copy(a[o.a]),f[1].copy(a[o.b]),f[2].copy(a[o.c])):(f[0]=a[o.a].clone(),f[1]=a[o.b].clone(),f[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var o=new Q.Geometry;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new Q.Vector3,l={a:new Q.Vector3,b:new Q.Vector3,c:new Q.Vector3},a.push(c),s.push(l)}var c,l,u=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=u.faceNormals[n],l=u.vertexNormals[n],c.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Q.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Q.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t instanceof Q.Geometry!=!1){var r,i=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,c=t.faces,l=this.faceVertexUvs[0],u=t.faceVertexUvs[0];void 0===n&&(n=0),void 0!==e&&(r=(new Q.Matrix3).getNormalMatrix(e));for(var h=0,f=a.length;h<f;h++){var d=a[h].clone();void 0!==e&&d.applyMatrix4(e),o.push(d)}for(h=0,f=c.length;h<f;h++){var p,g,m,v=c[h],y=v.vertexNormals,b=v.vertexColors;(p=new Q.Face3(v.a+i,v.b+i,v.c+i)).normal.copy(v.normal),void 0!==r&&p.normal.applyMatrix3(r).normalize();for(var x=0,_=y.length;x<_;x++)g=y[x].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),p.vertexNormals.push(g);p.color.copy(v.color);for(x=0,_=b.length;x<_;x++)m=b[x],p.vertexColors.push(m.clone());p.materialIndex=v.materialIndex+n,s.push(p)}for(h=0,f=u.length;h<f;h++){var w=u[h],S=[];if(void 0!==w){for(x=0,_=w.length;x<_;x++)S.push(w[x].clone());l.push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t instanceof Q.Mesh!=!1?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,r,i,o,a,s,c={},l=[],u=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===c[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(c[e]=n,l.push(this.vertices[n]),u[n]=l.length-1):u[n]=u[c[e]];var f=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=u[i.a],i.b=u[i.b],i.c=u[i.c],o=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){d,f.push(n);break}}for(n=f.length-1;n>=0;n--){var p=f[n];for(this.faces.splice(p,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(p,1)}var g=this.vertices.length-l.length;return this.vertices=l,g},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),a&&a.length===e&&(i=[]);for(n=0;n<e;n++){var s=t[n]._id;r&&r.push(o[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}var a=[],s=[],c={},l=[],u={},h=[],f={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],g=d.normal.length()>0,m=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=S(b,0,0),b=S(b,1,!0),b=S(b,2,!1),b=S(b,3,p),b=S(b,4,g),b=S(b,5,m),b=S(b,6,v),b=S(b,7,y),a.push(b),a.push(d.a,d.b,d.c),a.push(d.materialIndex),p){var x=this.faceVertexUvs[0][i];a.push(A(x[0]),A(x[1]),A(x[2]))}if(g&&a.push(T(d.normal)),m){var _=d.vertexNormals;a.push(T(_[0]),T(_[1]),T(_[2]))}if(v&&a.push(M(d.color)),y){var w=d.vertexColors;a.push(M(w[0]),M(w[1]),M(w[2]))}}function S(t,e,n){return n?t|1<<e:t&~(1<<e)}function T(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function M(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=l.length,l.push(t.getHex())),u[e]}function A(t){var e=t.x.toString()+t.y.toString();return void 0!==f[e]||(f[e]=h.length/2,h.push(t.x,t.y)),f[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),h.length>0&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new Q.Geometry).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var e=t.vertices,n=0,r=e.length;n<r;n++)this.vertices.push(e[n].clone());var i=t.faces;for(n=0,r=i.length;n<r;n++)this.faces.push(i[n].clone());for(n=0,r=t.faceVertexUvs.length;n<r;n++){var o=t.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(var a=0,s=o.length;a<s;a++){for(var c=o[a],l=[],u=0,h=c.length;u<h;u++){var f=c[u];l.push(f.clone())}this.faceVertexUvs[n].push(l)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Q.GeometryIdCount=0,Q.DirectGeometry=function(){Object.defineProperty(this,"id",{value:Q.GeometryIdCount++}),this.uuid=Q.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(Q.DirectGeometry.prototype,Q.EventDispatcher.prototype,{computeBoundingBox:Q.Geometry.prototype.computeBoundingBox,computeBoundingSphere:Q.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(t){for(var e,n,r=[],i=t.faces,o=0;o<i.length;o++){var a=i[o];a.materialIndex!==n&&(n=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,r.push(e)),e={start:3*o,materialIndex:n})}void 0!==e&&(e.count=3*o-e.start,r.push(e)),this.groups=r},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]=[];this.morphTargets.position=e}var u,h=t.morphNormals,f=h.length;if(f>0){u=[];for(l=0;l<f;l++)u[l]=[];this.morphTargets.normal=u}var d=t.skinIndices,p=t.skinWeights,g=d.length===r.length,m=p.length===r.length;for(l=0;l<n.length;l++){var v=n[l];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=v.normal;this.normals.push(b,b,b)}var x,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===o)void 0!==(x=i[0][l])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new Q.Vector2,new Q.Vector2,new Q.Vector2));if(!0===a)void 0!==(x=i[1][l])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new Q.Vector2,new Q.Vector2,new Q.Vector2));for(var S=0;S<c;S++){var T=s[S].vertices;e[S].push(T[v.a],T[v.b],T[v.c])}for(S=0;S<f;S++){var M=h[S].vertexNormals[l];u[S].push(M.a,M.b,M.c)}g&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),m&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Q.BufferGeometry=function(){Object.defineProperty(this,"id",{value:Q.GeometryIdCount++}),this.uuid=Q.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},Object.assign(Q.BufferGeometry.prototype,Q.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return e instanceof Q.BufferAttribute==!1&&e instanceof Q.InterleavedBufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new Q.BufferAttribute(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new Q.Matrix3).getNormalMatrix(t).applyToVector3Array(n.array),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new Q.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new Q.Matrix4),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new Q.Matrix4),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new Q.Object3D),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t instanceof Q.Points||t instanceof Q.Line){var n=new Q.Float32Attribute(3*e.vertices.length,3),r=new Q.Float32Attribute(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new Q.Float32Attribute(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t instanceof Q.Mesh&&e instanceof Q.Geometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,n=t.geometry;if(t instanceof Q.Mesh){var r=n.__directGeometry;if(void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1);!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1);!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1);n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1);n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1);return n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Q.DirectGeometry).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new Q.BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new Q.BufferAttribute(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new Q.BufferAttribute(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new Q.BufferAttribute(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new Q.BufferAttribute(o,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=new(t.vertices.length>65535?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new Q.BufferAttribute(a,1).copyIndicesArray(t.indices))}for(var s in this.groups=t.groups,t.morphTargets){for(var c=[],l=t.morphTargets[s],u=0,h=l.length;u<h;u++){var f=l[u],d=new Q.Float32Attribute(3*f.length,3);c.push(d.copyVector3sArray(f))}this.morphAttributes[s]=c}if(t.skinIndices.length>0){var p=new Q.Float32Attribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var g=new Q.Float32Attribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",g.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Q.Box3);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Q.Box3,e=new Q.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new Q.Sphere);var n=this.attributes.position.array;if(n){var r=this.boundingSphere.center;t.setFromArray(n),t.center(r);for(var i=0,o=0,a=n.length;o<a;o+=3)e.fromArray(n,o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Q.BufferAttribute(new Float32Array(r.length),3));else for(var i=e.normal.array,o=0,a=i.length;o<a;o++)i[o]=0;var s,c,l,u=e.normal.array,h=new Q.Vector3,f=new Q.Vector3,d=new Q.Vector3,p=new Q.Vector3,g=new Q.Vector3;if(t){var m=t.array;0===n.length&&this.addGroup(0,m.length);for(var v=0,y=n.length;v<y;++v){var b=n[v],x=b.start;for(o=x,a=x+b.count;o<a;o+=3)s=3*m[o+0],c=3*m[o+1],l=3*m[o+2],h.fromArray(r,s),f.fromArray(r,c),d.fromArray(r,l),p.subVectors(d,f),g.subVectors(h,f),p.cross(g),u[s]+=p.x,u[s+1]+=p.y,u[s+2]+=p.z,u[c]+=p.x,u[c+1]+=p.y,u[c+2]+=p.z,u[l]+=p.x,u[l+1]+=p.y,u[l+2]+=p.z}}else for(o=0,a=r.length;o<a;o+=9)h.fromArray(r,o),f.fromArray(r,o+3),d.fromArray(r,o+6),p.subVectors(d,f),g.subVectors(h,f),p.cross(g),u[o]=p.x,u[o+1]=p.y,u[o+2]=p.z,u[o+3]=p.x,u[o+4]=p.y,u[o+5]=p.z,u[o+6]=p.x,u[o+7]=p.y,u[o+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t instanceof Q.BufferGeometry!=!1){void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,o=t.attributes[r],a=o.array,s=0,c=o.itemSize*e;s<a.length;s++,c++)i[c]=a[s];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,o=0,a=i.length;o<a;o+=3)t=i[o],e=i[o+1],n=i[o+2],r=1/Math.sqrt(t*t+e*e+n*n),i[o]*=r,i[o+1]*=r,i[o+2]*=r},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Q.BufferGeometry,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],o=i.array,a=i.itemSize,s=new o.constructor(e.length*a),c=0,l=0,u=0,h=e.length;u<h;u++){c=e[u]*a;for(var f=0;f<a;f++)s[l++]=o[c++]}t.addAttribute(r,new Q.BufferAttribute(s,a))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var o=this.attributes;for(var n in o){var a=o[n];i=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new Q.BufferGeometry).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var c=o[a];this.addGroup(c.start,c.count,c.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Q.BufferGeometry.MaxIndex=65535,Q.InstancedBufferGeometry=function(){Q.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},Q.InstancedBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.InstancedBufferGeometry.prototype.constructor=Q.InstancedBufferGeometry,Q.InstancedBufferGeometry.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,instances:n})},Q.InstancedBufferGeometry.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var o=t.groups,a=0,s=o.length;a<s;a++){var c=o[a];this.addGroup(c.start,c.count,c.instances)}return this},Q.Uniform=function(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t,this.dynamic=!1},Q.Uniform.prototype={constructor:Q.Uniform,onUpdate:function(t){return this.dynamic=!0,this.onUpdateCallback=t,this}},Q.AnimationAction=function(){throw new Error("THREE.AnimationAction: Use mixer.clipAction for construction.")},Q.AnimationAction._new=function(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,o=new Array(i),a={endingStart:Q.ZeroCurvatureEnding,endingEnd:Q.ZeroCurvatureEnding},s=0;s!==i;++s){var c=r[s].createInterpolant(null);o[s]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Q.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},Q.AnimationAction._new.prototype={constructor:Q.AnimationAction._new,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){this._startTime;return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){this._mixer;if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,o=i/r,a=r/i;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,c=o.sampleValues;return s[0]=i,s[1]=i+n,c[0]=t/a,c[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var o=(t-i)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,h=c.length;u!==h;++u)c[u].evaluate(a),l[u].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===Q.LoopOnce){-1===i&&(this.loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var o=r===Q.LoopPingPong;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=Q.ZeroSlopeEnding,r.endingEnd=Q.ZeroSlopeEnding):(r.endingStart=t?this.zeroSlopeAtStart?Q.ZeroSlopeEnding:Q.ZeroCurvatureEnding:Q.WrapAroundEnding,r.endingEnd=e?this.zeroSlopeAtEnd?Q.ZeroSlopeEnding:Q.ZeroCurvatureEnding:Q.WrapAroundEnding)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=e,a[1]=i+t,s[1]=n,this}},Q.AnimationClip=function(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Q.Math.generateUUID(),this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},Q.AnimationClip.prototype={constructor:Q.AnimationClip,resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Q.AnimationClip,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,o=n.length;i!==o;++i)e.push(Q.KeyframeTrack.parse(n[i]).scale(r));return new Q.AnimationClip(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,o=n.length;i!==o;++i)e.push(Q.KeyframeTrack.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,o=[],a=0;a<i;a++){var s=[],c=[];s.push((a+i-1)%i,a,(a+1)%i),c.push(0,1,0);var l=Q.AnimationUtils.getKeyframeOrder(s);s=Q.AnimationUtils.sortedArray(s,1,l),c=Q.AnimationUtils.sortedArray(c,1,l),r||0!==s[0]||(s.push(i),c.push(c[0])),o.push(new Q.NumberKeyframeTrack(".morphTargetInfluences["+e[a].name+"]",s,c).scale(1/n))}return new Q.AnimationClip(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],c=s.name.match(i);if(c&&c.length>1){var l=r[h=c[1]];l||(r[h]=l=[]),l.push(s)}}var u=[];for(var h in r)u.push(Q.AnimationClip.CreateFromMorphTargetSequence(h,r[h],e,n));return u},parseAnimation:function(t,e,n){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var r=function(t,e,n,r,i){if(0!==n.length){var o=[],a=[];Q.AnimationUtils.flattenJSON(n,o,a,r),0!==o.length&&i.push(new t(e,o,a))}},i=[],o=t.name||"default",a=t.length||-1,s=t.fps||30,c=t.hierarchy||[],l=0;l<c.length;l++){var u=c[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},f=0;f<u.length;f++)if(u[f].morphTargets)for(var d=0;d<u[f].morphTargets.length;d++)h[u[f].morphTargets[d]]=-1;for(var p in h){var g=[],m=[];for(d=0;d!==u[f].morphTargets.length;++d){var v=u[f];g.push(v.time),m.push(v.morphTarget===p?1:0)}i.push(new Q.NumberKeyframeTrack(".morphTargetInfluence["+p+"]",g,m))}a=h.length*(s||1)}else{var y=".bones["+e[l].name+"]";r(Q.VectorKeyframeTrack,y+".position",u,"pos",i),r(Q.QuaternionKeyframeTrack,y+".quaternion",u,"rot",i),r(Q.VectorKeyframeTrack,y+".scale",u,"scl",i)}}return 0===i.length?null:new Q.AnimationClip(o,a,i)}}),Q.AnimationMixer=function(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},Object.assign(Q.AnimationMixer.prototype,Q.EventDispatcher.prototype,{clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?Q.AnimationClip.findByName(n,t):t,o=null!==i?i.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var c=a.actionByRoot[r];if(void 0!==c)return c;s=a.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new Q.AnimationMixer._Action(this,i,e);return this._bindAction(l,s),this._addInactiveAction(l,o,r),l},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?Q.AnimationClip.findByName(n,t):t,o=i?i.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){var s=e[a];s.enabled&&s._update(r,t,i,o)}var c=this._bindings,l=this._nActiveBindings;for(a=0;a!==l;++a)c[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var c=o[a];this._deactivateAction(c);var l=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,e[l]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Q.AnimationMixer._Action=Q.AnimationAction._new,Object.assign(Q.AnimationMixer.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==i;++u){var h=r[u],f=h.name,d=l[f];if(void 0!==d)o[u]=d;else{if(void 0!==(d=o[u])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,f));continue}var p=e&&e._propertyBindings[u].binding.parsedPath;++(d=new Q.PropertyMixer(Q.PropertyBinding.create(n,f,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,f),o[u]=d}a[u].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,o=i[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=r.length,r.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,c=s[s.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],o=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete a[i];t:{for(var l in a)break t;delete o[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Q.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Q.AnimationObjectGroup=function(t){this.uuid=Q.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}},Q.AnimationObjectGroup.prototype={constructor:Q.AnimationObjectGroup,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._paths,a=this._parsedPaths,s=this._bindings,c=s.length,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],f=h.uuid,d=i[f];if(void 0===d){d=n++,i[f]=d,e.push(h);for(var p=0,g=c;p!==g;++p)s[p].push(new Q.PropertyBinding(h,o[p],a[p]))}else if(d<r){var m=e[d],v=--r,y=e[v];i[y.uuid]=d,e[d]=y,i[f]=v,e[v]=h;for(p=0,g=c;p!==g;++p){var b=s[p],x=b[v],_=b[d];b[d]=x,void 0===_&&(_=new Q.PropertyBinding(h,o[p],a[p])),b[v]=_}}else e[d]!==m&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=(e.length,this.nCachedObjects_),r=this._indicesByUUID,i=this._bindings,o=i.length,a=0,s=arguments.length;a!==s;++a){var c=arguments[a],l=c.uuid,u=r[l];if(void 0!==u&&u>=n){var h=n++,f=e[h];r[f.uuid]=u,e[u]=f,r[l]=h,e[h]=c;for(var d=0,p=o;d!==p;++d){var g=i[d],m=g[h],v=g[u];g[u]=m,g[h]=v}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,o=this._bindings,a=o.length,s=0,c=arguments.length;s!==c;++s){var l=arguments[s],u=l.uuid,h=i[u];if(void 0!==h)if(delete i[u],h<r){var f=--r,d=e[f],p=e[b=--n];i[d.uuid]=h,e[h]=d,i[p.uuid]=f,e[f]=p,e.pop();for(var g=0,m=a;g!==m;++g){var v=(x=o[g])[f],y=x[b];x[h]=v,x[f]=y,x.pop()}}else{var b;i[(p=e[b=--n]).uuid]=h,e[h]=p,e.pop();for(g=0,m=a;g!==m;++g){var x;(x=o[g])[h]=x[b],x.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);r=i.length,n[t]=r,o.push(t),a.push(e),i.push(u);for(var h=l,f=s.length;h!==f;++h){var d=s[h];u[h]=new Q.PropertyBinding(d,t,e)}return u},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},Q.AnimationUtils={arraySlice:function(t,e,n){return Q.AnimationUtils.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*e,c=0;c!==e;++c)i[a++]=t[s+c];return i},flattenJSON:function(t,e,n,r){for(var i=1,o=t[0];void 0!==o&&void 0===o[r];)o=t[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(e.push(o.time),n.push.apply(n,a)),o=t[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(e.push(o.time),n.push(a)),o=t[i++]}while(void 0!==o)}}},Q.KeyframeTrack=function(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=Q.AnimationUtils.convertArray(e,this.TimeBufferType),this.values=Q.AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()},Q.KeyframeTrack.prototype={constructor:Q.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Q.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(t){return new Q.DiscreteInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Q.LinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Q.CubicInterpolant(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Q.InterpolateDiscrete:e=this.InterpolantFactoryMethodDiscrete;break;case Q.InterpolateLinear:e=this.InterpolantFactoryMethodLinear;break;case Q.InterpolateSmooth:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}console.warn(n)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Q.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return Q.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return Q.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<t;)++i;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=Q.AnimationUtils.arraySlice(n,i,o),this.values=Q.AnimationUtils.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("invalid value size in track",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("track is empty",this),t=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("time is not a valid number",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("out of order keys",this,a,s,o),t=!1;break}o=s}if(void 0!==r&&Q.AnimationUtils.isTypedArray(r)){a=0;for(var c=r.length;a!==c;++a){var l=r[a];if(isNaN(l)){console.error("value is not a valid number",this,a,l),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=1,i=1,o=t.length-1;i<=o;++i){var a=!1,s=t[i];if(s!==t[i+1]&&(1!==i||s!==s[0]))for(var c=i*n,l=c-n,u=c+n,h=0;h!==n;++h){var f=e[c+h];if(f!==e[l+h]||f!==e[u+h]){a=!0;break}}if(a){if(i!==r){t[r]=t[i];var d=i*n,p=r*n;for(h=0;h!==n;++h)e[p+h]=e[d+h]}++r}}return r!==t.length&&(this.times=Q.AnimationUtils.arraySlice(t,0,r),this.values=Q.AnimationUtils.arraySlice(e,0,r*n)),this}},Object.assign(Q.KeyframeTrack,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=Q.KeyframeTrack._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];Q.AnimationUtils.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Q.AnimationUtils.convertArray(t.times,Array),values:Q.AnimationUtils.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Q.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return Q.VectorKeyframeTrack;case"color":return Q.ColorKeyframeTrack;case"quaternion":return Q.QuaternionKeyframeTrack;case"bool":case"boolean":return Q.BooleanKeyframeTrack;case"string":return Q.StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)}}),Q.PropertyBinding=function(t,e,n){this.path=e,this.parsedPath=n||Q.PropertyBinding.parseTrackName(e),this.node=Q.PropertyBinding.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t},Q.PropertyBinding.prototype={constructor:Q.PropertyBinding,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=Q.PropertyBinding.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("  can not bind to objectName of node, undefined",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[o]}}var s=t[r];if(s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===i){i=a;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=e.nodeName;console.error("  trying to update property for track: "+u+"."+r+" but it wasn't found.",t)}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Q.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Q.PropertyBinding.prototype.getValue,_setValue_unbound:Q.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Q.PropertyBinding.Composite=function(t,e,n){var r=n||Q.PropertyBinding.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},Q.PropertyBinding.Composite.prototype={constructor:Q.PropertyBinding.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},Q.PropertyBinding.create=function(t,e,n){return t instanceof Q.AnimationObjectGroup?new Q.PropertyBinding.Composite(t,e,n):new Q.PropertyBinding(t,e,n)},Q.PropertyBinding.parseTrackName=function(t){var e=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);n.index===e.lastIndex&&e.lastIndex++;var r={nodeName:n[3],objectName:n[5],objectIndex:n[7],propertyName:n[9],propertyIndex:n[11]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return r},Q.PropertyBinding.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.name===e||i.uuid===e)return i;var o=r(i.children);if(o)return o}return null},i=r(t.children);if(i)return i}return null},Q.PropertyMixer=function(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},Q.PropertyMixer.prototype={constructor:Q.PropertyMixer,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,i<1){var a=3*e;this._mixBufferRegion(n,r,a,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(n[s]!==n[s+e]){o.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,o=r;i!==o;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,r,i){Q.Quaternion.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*r}}},Q.BooleanKeyframeTrack=function(t,e,n){Q.KeyframeTrack.call(this,t,e,n)},Q.BooleanKeyframeTrack.prototype=Object.assign(Object.create(Q.KeyframeTrack.prototype),{constructor:Q.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Q.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Q.ColorKeyframeTrack=function(t,e,n,r){Q.KeyframeTrack.call(this,t,e,n,r)},Q.ColorKeyframeTrack.prototype=Object.assign(Object.create(Q.KeyframeTrack.prototype),{constructor:Q.ColorKeyframeTrack,ValueTypeName:"color"}),Q.NumberKeyframeTrack=function(t,e,n,r){Q.KeyframeTrack.call(this,t,e,n,r)},Q.NumberKeyframeTrack.prototype=Object.assign(Object.create(Q.KeyframeTrack.prototype),{constructor:Q.NumberKeyframeTrack,ValueTypeName:"number"}),Q.QuaternionKeyframeTrack=function(t,e,n,r){Q.KeyframeTrack.call(this,t,e,n,r)},Q.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(Q.KeyframeTrack.prototype),{constructor:Q.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:Q.InterpolateLinear,InterpolantFactoryMethodLinear:function(t){return new Q.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Q.StringKeyframeTrack=function(t,e,n,r){Q.KeyframeTrack.call(this,t,e,n,r)},Q.StringKeyframeTrack.prototype=Object.assign(Object.create(Q.KeyframeTrack.prototype),{constructor:Q.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Q.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Q.VectorKeyframeTrack=function(t,e,n,r){Q.KeyframeTrack.call(this,t,e,n,r)},Q.VectorKeyframeTrack.prototype=Object.assign(Object.create(Q.KeyframeTrack.prototype),{constructor:Q.VectorKeyframeTrack,ValueTypeName:"vector"}),Q.Audio=function(t){Q.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]},Q.Audio.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Audio,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(t){!1!==this.hasPlaybackControl?this.source.loop=t:console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),Q.AudioAnalyser=function(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)},Object.assign(Q.AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.defineProperty(Q,"AudioContext",{get:function(){return void 0===O&&(O=new(window.AudioContext||window.webkitAudioContext)),O}}),Q.PositionalAudio=function(t){Q.Audio.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},Q.PositionalAudio.prototype=Object.assign(Object.create(Q.Audio.prototype),{constructor:Q.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new Q.Vector3;return function(e){Q.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Q.AudioListener=function(){Q.Object3D.call(this),this.type="AudioListener",this.context=Q.AudioContext,this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},Q.AudioListener.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new Q.Vector3,e=new Q.Quaternion,n=new Q.Vector3,r=new Q.Vector3;return function(i){Q.Object3D.prototype.updateMatrixWorld.call(this,i);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z)}}()}),Q.Camera=function(){Q.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Q.Matrix4,this.projectionMatrix=new Q.Matrix4},Q.Camera.prototype=Object.create(Q.Object3D.prototype),Q.Camera.prototype.constructor=Q.Camera,Q.Camera.prototype.getWorldDirection=function(){var t=new Q.Quaternion;return function(e){var n=e||new Q.Vector3;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),Q.Camera.prototype.lookAt=function(){var t=new Q.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),Q.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},Q.Camera.prototype.copy=function(t){return Q.Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},Q.CubeCamera=function(t,e,n){Q.Object3D.call(this),this.type="CubeCamera";var r=new Q.PerspectiveCamera(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new Q.Vector3(1,0,0)),this.add(r);var i=new Q.PerspectiveCamera(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Q.Vector3(-1,0,0)),this.add(i);var o=new Q.PerspectiveCamera(90,1,t,e);o.up.set(0,0,1),o.lookAt(new Q.Vector3(0,1,0)),this.add(o);var a=new Q.PerspectiveCamera(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new Q.Vector3(0,-1,0)),this.add(a);var s=new Q.PerspectiveCamera(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Q.Vector3(0,0,1)),this.add(s);var c=new Q.PerspectiveCamera(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Q.Vector3(0,0,-1)),this.add(c);var l={format:Q.RGBFormat,magFilter:Q.LinearFilter,minFilter:Q.LinearFilter};this.renderTarget=new Q.WebGLRenderTargetCube(n,n,l),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,l=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=l,n.activeCubeFace=5,t.render(e,c,n),t.setRenderTarget(null)}},Q.CubeCamera.prototype=Object.create(Q.Object3D.prototype),Q.CubeCamera.prototype.constructor=Q.CubeCamera,Q.OrthographicCamera=function(t,e,n,r,i,o){Q.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},Q.OrthographicCamera.prototype=Object.assign(Object.create(Q.Camera.prototype),{constructor:Q.OrthographicCamera,copy:function(t){return Q.Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(n-t,n+t,r+e,r-e,this.near,this.far)},toJSON:function(t){var e=Q.Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,e}}),Q.PerspectiveCamera=function(t,e,n,r){Q.Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()},Q.PerspectiveCamera.prototype=Object.assign(Object.create(Q.Camera.prototype),{constructor:Q.PerspectiveCamera,copy:function(t){return Q.Camera.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Q.Math.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Q.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Q.Math.RAD2DEG*Math.atan(Math.tan(.5*Q.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,o){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:o},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Q.Math.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==o){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,e-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makeFrustum(i,i+r,e-n,e,t,this.far)},toJSON:function(t){var e=Q.Object3D.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Q.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new Q.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Q.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},Object.assign(Q.StereoCamera.prototype,{update:(B=new Q.Matrix4,V=new Q.Matrix4,function(t){if(I!==t.focus||D!==t.fov||N!==t.aspect*this.aspect||F!==t.near||G!==t.far){I=t.focus,D=t.fov,N=t.aspect*this.aspect,F=t.near,G=t.far;var e,n,r=t.projectionMatrix.clone(),i=.032*F/I,o=F*Math.tan(Q.Math.DEG2RAD*D*.5);V.elements[12]=-.032,B.elements[12]=.032,e=-o*N+i,n=o*N+i,r.elements[0]=2*F/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraL.projectionMatrix.copy(r),e=-o*N-i,n=o*N-i,r.elements[0]=2*F/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(V),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(B)})}),Q.Light=function(t,e){Q.Object3D.call(this),this.type="Light",this.color=new Q.Color(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0},Q.Light.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Light,copy:function(t){return Q.Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Q.Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),e}}),Q.LightShadow=function(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Q.Vector2(512,512),this.map=null,this.matrix=new Q.Matrix4},Object.assign(Q.LightShadow.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)}}),Q.AmbientLight=function(t,e){Q.Light.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0},Q.AmbientLight.prototype=Object.assign(Object.create(Q.Light.prototype),{constructor:Q.AmbientLight}),Q.DirectionalLight=function(t,e){Q.Light.call(this,t,e),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new Q.Object3D,this.shadow=new Q.DirectionalLightShadow},Q.DirectionalLight.prototype=Object.assign(Object.create(Q.Light.prototype),{constructor:Q.DirectionalLight,copy:function(t){return Q.Light.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Q.DirectionalLightShadow=function(t){Q.LightShadow.call(this,new Q.OrthographicCamera(-5,5,5,-5,.5,500))},Q.DirectionalLightShadow.prototype=Object.assign(Object.create(Q.LightShadow.prototype),{constructor:Q.DirectionalLightShadow}),Q.HemisphereLight=function(t,e,n){Q.Light.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new Q.Color(e)},Q.HemisphereLight.prototype=Object.assign(Object.create(Q.Light.prototype),{constructor:Q.HemisphereLight,copy:function(t){return Q.Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Q.PointLight=function(t,e,n,r){Q.Light.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Q.LightShadow(new Q.PerspectiveCamera(90,1,.5,500))},Q.PointLight.prototype=Object.assign(Object.create(Q.Light.prototype),{constructor:Q.PointLight,copy:function(t){return Q.Light.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Q.SpotLight=function(t,e,n,r,i,o){Q.Light.call(this,t,e),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new Q.Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Q.SpotLightShadow},Q.SpotLight.prototype=Object.assign(Object.create(Q.Light.prototype),{constructor:Q.SpotLight,copy:function(t){return Q.Light.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Q.SpotLightShadow=function(){Q.LightShadow.call(this,new Q.PerspectiveCamera(50,1,.5,500))},Q.SpotLightShadow.prototype=Object.assign(Object.create(Q.LightShadow.prototype),{constructor:Q.SpotLightShadow,update:function(t){var e=2*Q.Math.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),Q.AudioLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.AudioLoader.prototype={constructor:Q.AudioLoader,load:function(t,e,n,r){var i=new Q.XHRLoader(this.manager);i.setResponseType("arraybuffer"),i.load(t,(function(t){Q.AudioContext.decodeAudioData(t,(function(t){e(t)}))}),n,r)}},Q.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Q.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},Q.Loader.prototype={constructor:Q.Loader,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(t,e,n){void 0===z&&(z=new Q.Color),void 0===U&&(U=new Q.TextureLoader),void 0===j&&(j=new Q.MaterialLoader);var r={};function i(t,i,o,a,s){var c,l=e+t,u=Q.Loader.Handlers.get(l);null!==u?c=u.load(l):(U.setCrossOrigin(n),c=U.load(l)),void 0!==i&&(c.repeat.fromArray(i),1!==i[0]&&(c.wrapS=Q.RepeatWrapping),1!==i[1]&&(c.wrapT=Q.RepeatWrapping)),void 0!==o&&c.offset.fromArray(o),void 0!==a&&("repeat"===a[0]&&(c.wrapS=Q.RepeatWrapping),"mirror"===a[0]&&(c.wrapS=Q.MirroredRepeatWrapping),"repeat"===a[1]&&(c.wrapT=Q.RepeatWrapping),"mirror"===a[1]&&(c.wrapT=Q.MirroredRepeatWrapping)),void 0!==s&&(c.anisotropy=s);var h=Q.Math.generateUUID();return r[h]=c,h}var o={uuid:Q.Math.generateUUID(),type:"MeshLambertMaterial"};for(var a in t){var s=t[a];switch(a){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":o.name=s;break;case"blending":o.blending=Q[s];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",a,"is no longer supported.");break;case"colorDiffuse":o.color=z.fromArray(s).getHex();break;case"colorSpecular":o.specular=z.fromArray(s).getHex();break;case"colorEmissive":o.emissive=z.fromArray(s).getHex();break;case"specularCoef":o.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(o.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(o.type="MeshPhongMaterial");break;case"mapDiffuse":o.map=i(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":o.lightMap=i(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":o.aoMap=i(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":o.bumpMap=i(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":o.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":o.normalMap=i(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":o.normalScale=[s,s];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":o.specularMap=i(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":o.alphaMap=i(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":o.side=Q.BackSide;break;case"doubleSided":o.side=Q.DoubleSide;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),o.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":o[a]=s;break;case"vertexColors":!0===s&&(o.vertexColors=Q.VertexColors),"face"===s&&(o.vertexColors=Q.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",a,s)}}return"MeshBasicMaterial"===o.type&&delete o.emissive,"MeshPhongMaterial"!==o.type&&delete o.specular,o.opacity<1&&(o.transparent=!0),j.setTextures(r),j.parse(o)}},Q.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],o=e[n+1];if(i.test(t))return o}return null}},Q.XHRLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.XHRLoader.prototype={constructor:Q.XHRLoader,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t);var i=this,o=Q.Cache.get(t);if(void 0!==o)return e&&setTimeout((function(){e(o)}),0),o;var a=new XMLHttpRequest;return a.overrideMimeType("text/plain"),a.open("GET",t,!0),a.addEventListener("load",(function(n){var o=n.target.response;Q.Cache.add(t,o),200===this.status?(e&&e(o),i.manager.itemEnd(t)):0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),e&&e(o),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))}),!1),void 0!==n&&a.addEventListener("progress",(function(t){n(t)}),!1),a.addEventListener("error",(function(e){r&&r(e),i.manager.itemError(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.send(null),i.manager.itemStart(t),a},setPath:function(t){this.path=t},setResponseType:function(t){this.responseType=t},setWithCredentials:function(t){this.withCredentials=t}},Q.FontLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.FontLoader.prototype={constructor:Q.FontLoader,load:function(t,e,n,r){var i=this;new Q.XHRLoader(this.manager).load(t,(function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)}),n,r)},parse:function(t){return new Q.Font(t)}},Q.ImageLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.ImageLoader.prototype={constructor:Q.ImageLoader,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t);var i=this,o=Q.Cache.get(t);if(void 0!==o)return i.manager.itemStart(t),e?setTimeout((function(){e(o),i.manager.itemEnd(t)}),0):i.manager.itemEnd(t),o;var a=document.createElement("img");return a.addEventListener("load",(function(n){Q.Cache.add(t,this),e&&e(this),i.manager.itemEnd(t)}),!1),void 0!==n&&a.addEventListener("progress",(function(t){n(t)}),!1),a.addEventListener("error",(function(e){r&&r(e),i.manager.itemError(t)}),!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(t),a.src=t,a},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},Q.JSONLoader=function(t){"boolean"==typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:Q.DefaultLoadingManager,this.withCredentials=!1},Q.JSONLoader.prototype={constructor:Q.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),console.warn("THREE.JSONLoader: .statusDomElement has been removed."),this._statusDomElement},load:function(t,e,n,r){var i=this,o=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Q.Loader.prototype.extractUrlBase(t),a=new Q.XHRLoader(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,(function(n){var r=JSON.parse(n),a=r.metadata;if(void 0!==a){var s=a.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var c=i.parse(r,o);e(c.geometry,c.materials)}),n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new Q.Geometry,r=void 0!==t.scale?1/t.scale:1;if(function(e){function r(t,e){return t&1<<e}var i,o,a,s,c,l,u,h,f,d,p,g,m,v,y,b,x,_,w,S,T,M,A,E,C,L,P,k=t.faces,R=t.vertices,O=t.normals,I=t.colors,D=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&D++;for(i=0;i<D;i++)n.faceVertexUvs[i]=[]}s=0,c=R.length;for(;s<c;)(_=new Q.Vector3).x=R[s++]*e,_.y=R[s++]*e,_.z=R[s++]*e,n.vertices.push(_);s=0,c=k.length;for(;s<c;)if(d=k[s++],p=r(d,0),g=r(d,1),m=r(d,3),v=r(d,4),y=r(d,5),b=r(d,6),x=r(d,7),p){if((S=new Q.Face3).a=k[s],S.b=k[s+1],S.c=k[s+3],(T=new Q.Face3).a=k[s+1],T.b=k[s+2],T.c=k[s+3],s+=4,g&&(f=k[s++],S.materialIndex=f,T.materialIndex=f),a=n.faces.length,m)for(i=0;i<D;i++)for(E=t.uvs[i],n.faceVertexUvs[i][a]=[],n.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)h=k[s++],L=E[2*h],P=E[2*h+1],C=new Q.Vector2(L,P),2!==o&&n.faceVertexUvs[i][a].push(C),0!==o&&n.faceVertexUvs[i][a+1].push(C);if(v&&(u=3*k[s++],S.normal.set(O[u++],O[u++],O[u]),T.normal.copy(S.normal)),y)for(i=0;i<4;i++)u=3*k[s++],A=new Q.Vector3(O[u++],O[u++],O[u]),2!==i&&S.vertexNormals.push(A),0!==i&&T.vertexNormals.push(A);if(b&&(l=k[s++],M=I[l],S.color.setHex(M),T.color.setHex(M)),x)for(i=0;i<4;i++)l=k[s++],M=I[l],2!==i&&S.vertexColors.push(new Q.Color(M)),0!==i&&T.vertexColors.push(new Q.Color(M));n.faces.push(S),n.faces.push(T)}else{if((w=new Q.Face3).a=k[s++],w.b=k[s++],w.c=k[s++],g&&(f=k[s++],w.materialIndex=f),a=n.faces.length,m)for(i=0;i<D;i++)for(E=t.uvs[i],n.faceVertexUvs[i][a]=[],o=0;o<3;o++)h=k[s++],L=E[2*h],P=E[2*h+1],C=new Q.Vector2(L,P),n.faceVertexUvs[i][a].push(C);if(v&&(u=3*k[s++],w.normal.set(O[u++],O[u++],O[u])),y)for(i=0;i<3;i++)u=3*k[s++],A=new Q.Vector3(O[u++],O[u++],O[u]),w.vertexNormals.push(A);if(b&&(l=k[s++],w.color.setHex(I[l])),x)for(i=0;i<3;i++)l=k[s++],w.vertexColors.push(new Q.Color(I[l]));n.faces.push(w)}}(r),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=e){var o=t.skinWeights[r],a=e>1?t.skinWeights[r+1]:0,s=e>2?t.skinWeights[r+2]:0,c=e>3?t.skinWeights[r+3]:0;n.skinWeights.push(new Q.Vector4(o,a,s,c))}if(t.skinIndices)for(r=0,i=t.skinIndices.length;r<i;r+=e){var l=t.skinIndices[r],u=e>1?t.skinIndices[r+1]:0,h=e>2?t.skinIndices[r+2]:0,f=e>3?t.skinIndices[r+3]:0;n.skinIndices.push(new Q.Vector4(l,u,h,f))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||n.skinIndices.length!==n.vertices.length)&&console.warn("When skinning, number of vertices ("+n.vertices.length+"), skinIndices ("+n.skinIndices.length+"), and skinWeights ("+n.skinWeights.length+") should match.")}(),function(e){if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=t.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var o=n.morphTargets[r].vertices,a=t.morphTargets[r].vertices,s=0,c=a.length;s<c;s+=3){var l=new Q.Vector3;l.x=a[s]*e,l.y=a[s+1]*e,l.z=a[s+2]*e,o.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=n.faces,h=t.morphColors[0].colors;for(r=0,i=u.length;r<i;r++)u[r].color.fromArray(h,3*r)}}(r),function(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation);void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var o=Q.AnimationClip.parseAnimation(r[i],n.bones);o&&e.push(o)}if(n.morphTargets){var a=Q.AnimationClip.CreateClipsFromMorphTargetSequences(n.morphTargets,10);e=e.concat(a)}e.length>0&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var i=Q.Loader.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:n,materials:i}}},Q.LoadingManager=function(t,e,n){var r=this,i=!1,o=0,a=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===i&&void 0!==r.onStart&&r.onStart(t,o,a),i=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}},Q.DefaultLoadingManager=new Q.LoadingManager,Q.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.BufferGeometryLoader.prototype={constructor:Q.BufferGeometryLoader,load:function(t,e,n,r){var i=this;new Q.XHRLoader(i.manager).load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=new Q.BufferGeometry,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new Q.BufferAttribute(i,1))}var o=t.data.attributes;for(var a in o){var s=o[a];i=new r[s.type](s.array);e.addAttribute(a,new Q.BufferAttribute(i,s.itemSize,s.normalized))}var c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(var l=0,u=c.length;l!==u;++l){var h=c[l];e.addGroup(h.start,h.count,h.materialIndex)}var f=t.data.boundingSphere;if(void 0!==f){var d=new Q.Vector3;void 0!==f.center&&d.fromArray(f.center),e.boundingSphere=new Q.Sphere(d,f.radius)}return e}},Q.MaterialLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager,this.textures={}},Q.MaterialLoader.prototype={constructor:Q.MaterialLoader,load:function(t,e,n,r){var i=this;new Q.XHRLoader(i.manager).load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},setTextures:function(t){this.textures=t},getTexture:function(t){var e=this.textures;return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]},parse:function(t){var e=new Q[t.type];if(void 0!==t.uuid&&(e.uuid=t.uuid),void 0!==t.name&&(e.name=t.name),void 0!==t.color&&e.color.setHex(t.color),void 0!==t.roughness&&(e.roughness=t.roughness),void 0!==t.metalness&&(e.metalness=t.metalness),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.alphaTest&&(e.alphaTest=t.alphaTest),void 0!==t.depthTest&&(e.depthTest=t.depthTest),void 0!==t.depthWrite&&(e.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(e.colorWrite=t.colorWrite),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(e.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.size&&(e.size=t.size),void 0!==t.sizeAttenuation&&(e.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(e.map=this.getTexture(t.map)),void 0!==t.alphaMap&&(e.alphaMap=this.getTexture(t.alphaMap),e.transparent=!0),void 0!==t.bumpMap&&(e.bumpMap=this.getTexture(t.bumpMap)),void 0!==t.bumpScale&&(e.bumpScale=t.bumpScale),void 0!==t.normalMap&&(e.normalMap=this.getTexture(t.normalMap)),void 0!==t.normalScale){var n=t.normalScale;!1===Array.isArray(n)&&(n=[n,n]),e.normalScale=(new Q.Vector2).fromArray(n)}if(void 0!==t.displacementMap&&(e.displacementMap=this.getTexture(t.displacementMap)),void 0!==t.displacementScale&&(e.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(e.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(e.roughnessMap=this.getTexture(t.roughnessMap)),void 0!==t.metalnessMap&&(e.metalnessMap=this.getTexture(t.metalnessMap)),void 0!==t.emissiveMap&&(e.emissiveMap=this.getTexture(t.emissiveMap)),void 0!==t.emissiveIntensity&&(e.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(e.specularMap=this.getTexture(t.specularMap)),void 0!==t.envMap&&(e.envMap=this.getTexture(t.envMap),e.combine=Q.MultiplyOperation),t.reflectivity&&(e.reflectivity=t.reflectivity),void 0!==t.lightMap&&(e.lightMap=this.getTexture(t.lightMap)),void 0!==t.lightMapIntensity&&(e.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(e.aoMap=this.getTexture(t.aoMap)),void 0!==t.aoMapIntensity&&(e.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var r=0,i=t.materials.length;r<i;r++)e.materials.push(this.parse(t.materials[r]));return e}},Q.ObjectLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager,this.texturePath=""},Q.ObjectLoader.prototype={constructor:Q.ObjectLoader,load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new Q.XHRLoader(i.manager).load(t,(function(t){i.parse(JSON.parse(t),e)}),n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,(function(){void 0!==e&&e(a)})),i=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,i),a=this.parseObject(t.object,n,o);return t.animations&&(a.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(a),a},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new Q.JSONLoader,r=new Q.BufferGeometryLoader,i=0,o=t.length;i<o;i++){var a,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new Q[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new Q[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new Q[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new Q[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new Q[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new Q[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":a=new Q[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new Q[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new Q[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new Q[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":a=new Q[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":a=r.parse(s);break;case"Geometry":a=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),e[s.uuid]=a}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new Q.MaterialLoader;r.setTextures(e);for(var i=0,o=t.length;i<o;i++){var a=r.parse(t[i]);n[a.uuid]=a}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=Q.AnimationClip.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),a.load(t,(function(){n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var o=new Q.LoadingManager(e),a=new Q.ImageLoader(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var l=t[s],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.texturePath+l.url;r[l.uuid]=i(u)}}return r},parseTextures:function(t,e){function n(t){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),Q[t])}var r={};if(void 0!==t)for(var i=0,o=t.length;i<o;i++){var a=t[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=new Q.Texture(e[a.image]);s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping)),void 0!==a.offset&&(s.offset=new Q.Vector2(a.offset[0],a.offset[1])),void 0!==a.repeat&&(s.repeat=new Q.Vector2(a.repeat[0],a.repeat[1])),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),Array.isArray(a.wrap)&&(s.wrapS=n(a.wrap[0]),s.wrapT=n(a.wrap[1])),r[a.uuid]=s}return r},parseObject:function(){var t=new Q.Matrix4;return function(e,n,r){var i;function o(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),n[t]}function a(t){if(void 0!==t)return void 0===r[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),r[t]}switch(e.type){case"Scene":i=new Q.Scene;break;case"PerspectiveCamera":i=new Q.PerspectiveCamera(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new Q.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":i=new Q.AmbientLight(e.color,e.intensity);break;case"DirectionalLight":i=new Q.DirectionalLight(e.color,e.intensity);break;case"PointLight":i=new Q.PointLight(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":i=new Q.SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Q.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=o(e.geometry),c=a(e.material);i=s.bones&&s.bones.length>0?new Q.SkinnedMesh(s,c):new Q.Mesh(s,c);break;case"LOD":i=new Q.LOD;break;case"Line":i=new Q.Line(o(e.geometry),a(e.material),e.mode);break;case"PointCloud":case"Points":i=new Q.Points(o(e.geometry),a(e.material));break;case"Sprite":i=new Q.Sprite(a(e.material));break;case"Group":i=new Q.Group;break;default:i=new Q.Object3D}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.children)for(var l in e.children)i.add(this.parseObject(e.children[l],n,r));if("LOD"===e.type)for(var u=e.levels,h=0;h<u.length;h++){var f=u[h];void 0!==(l=i.getObjectByProperty("uuid",f.object))&&i.addLevel(l,f.distance)}return i}}()},Q.TextureLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.TextureLoader.prototype={constructor:Q.TextureLoader,load:function(t,e,n,r){var i=new Q.Texture,o=new Q.ImageLoader(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},Q.CubeTextureLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager},Q.CubeTextureLoader.prototype={constructor:Q.CubeTextureLoader,load:function(t,e,n,r){var i=new Q.CubeTexture,o=new Q.ImageLoader(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(t[n],(function(t){i.images[n]=t,6===++a&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(var c=0;c<t.length;++c)s(c);return i},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},Q.DataTextureLoader=Q.BinaryTextureLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager,this._parser=null},Q.BinaryTextureLoader.prototype={constructor:Q.BinaryTextureLoader,load:function(t,e,n,r){var i=this,o=new Q.DataTexture,a=new Q.XHRLoader(this.manager);return a.setResponseType("arraybuffer"),a.load(t,(function(t){var n=i._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Q.ClampToEdgeWrapping,o.wrapT=void 0!==n.wrapT?n.wrapT:Q.ClampToEdgeWrapping,o.magFilter=void 0!==n.magFilter?n.magFilter:Q.LinearFilter,o.minFilter=void 0!==n.minFilter?n.minFilter:Q.LinearMipMapLinearFilter,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=Q.LinearFilter),o.needsUpdate=!0,e&&e(o,n))}),n,r),o}},Q.CompressedTextureLoader=function(t){this.manager=void 0!==t?t:Q.DefaultLoadingManager,this._parser=null},Q.CompressedTextureLoader.prototype={constructor:Q.CompressedTextureLoader,load:function(t,e,n,r){var i=this,o=[],a=new Q.CompressedTexture;a.image=o;var s=new Q.XHRLoader(this.manager);function c(c){s.load(t[c],(function(t){var n=i._parser(t,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=Q.LinearFilter),a.format=n.format,a.needsUpdate=!0,e&&e(a))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,u=0,h=t.length;u<h;++u)c(u);else s.load(t,(function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Q.LinearFilter),a.format=n.format,a.needsUpdate=!0,e&&e(a)}),n,r);return a},setPath:function(t){this.path=t}},Q.Material=function(){Object.defineProperty(this,"id",{value:Q.MaterialIdCount++}),this.uuid=Q.Math.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Q.NormalBlending,this.side=Q.FrontSide,this.shading=Q.SmoothShading,this.vertexColors=Q.NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=Q.SrcAlphaFactor,this.blendDst=Q.OneMinusSrcAlphaFactor,this.blendEquation=Q.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Q.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},Q.Material.prototype={constructor:Q.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r?r instanceof Q.Color?r.set(n):r instanceof Q.Vector3&&n instanceof Q.Vector3?r.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color instanceof Q.Color&&(n.color=this.color.getHex()),.5!==this.roughness&&(n.roughness=this.roughness),.5!==this.metalness&&(n.metalness=this.metalness),this.emissive instanceof Q.Color&&(n.emissive=this.emissive.getHex()),this.specular instanceof Q.Color&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map instanceof Q.Texture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap instanceof Q.Texture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap instanceof Q.Texture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap instanceof Q.Texture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap instanceof Q.Texture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap instanceof Q.Texture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap instanceof Q.Texture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap instanceof Q.Texture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap instanceof Q.Texture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap instanceof Q.Texture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap instanceof Q.Texture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Q.NormalBlending&&(n.blending=this.blending),this.shading!==Q.SmoothShading&&(n.shading=this.shading),this.side!==Q.FrontSide&&(n.side=this.side),this.vertexColors!==Q.NoColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),e){var i=r(t.textures),o=r(t.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Q.Material.prototype,Q.EventDispatcher.prototype),Q.MaterialIdCount=0,Q.LineBasicMaterial=function(t){Q.Material.call(this),this.type="LineBasicMaterial",this.color=new Q.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)},Q.LineBasicMaterial.prototype=Object.create(Q.Material.prototype),Q.LineBasicMaterial.prototype.constructor=Q.LineBasicMaterial,Q.LineBasicMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Q.LineDashedMaterial=function(t){Q.Material.call(this),this.type="LineDashedMaterial",this.color=new Q.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)},Q.LineDashedMaterial.prototype=Object.create(Q.Material.prototype),Q.LineDashedMaterial.prototype.constructor=Q.LineDashedMaterial,Q.LineDashedMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this},Q.MeshBasicMaterial=function(t){Q.Material.call(this),this.type="MeshBasicMaterial",this.color=new Q.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)},Q.MeshBasicMaterial.prototype=Object.create(Q.Material.prototype),Q.MeshBasicMaterial.prototype.constructor=Q.MeshBasicMaterial,Q.MeshBasicMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Q.MeshDepthMaterial=function(t){Q.Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=Q.BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)},Q.MeshDepthMaterial.prototype=Object.create(Q.Material.prototype),Q.MeshDepthMaterial.prototype.constructor=Q.MeshDepthMaterial,Q.MeshDepthMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Q.MeshLambertMaterial=function(t){Q.Material.call(this),this.type="MeshLambertMaterial",this.color=new Q.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Q.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},Q.MeshLambertMaterial.prototype=Object.create(Q.Material.prototype),Q.MeshLambertMaterial.prototype.constructor=Q.MeshLambertMaterial,Q.MeshLambertMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Q.MeshNormalMaterial=function(t){Q.Material.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(t)},Q.MeshNormalMaterial.prototype=Object.create(Q.Material.prototype),Q.MeshNormalMaterial.prototype.constructor=Q.MeshNormalMaterial,Q.MeshNormalMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Q.MeshPhongMaterial=function(t){Q.Material.call(this),this.type="MeshPhongMaterial",this.color=new Q.Color(16777215),this.specular=new Q.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Q.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Q.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Q.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},Q.MeshPhongMaterial.prototype=Object.create(Q.Material.prototype),Q.MeshPhongMaterial.prototype.constructor=Q.MeshPhongMaterial,Q.MeshPhongMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Q.MeshStandardMaterial=function(t){Q.Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Q.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Q.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Q.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},Q.MeshStandardMaterial.prototype=Object.create(Q.Material.prototype),Q.MeshStandardMaterial.prototype.constructor=Q.MeshStandardMaterial,Q.MeshStandardMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Q.MeshPhysicalMaterial=function(t){Q.MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.setValues(t)},Q.MeshPhysicalMaterial.prototype=Object.create(Q.MeshStandardMaterial.prototype),Q.MeshPhysicalMaterial.prototype.constructor=Q.MeshPhysicalMaterial,Q.MeshPhysicalMaterial.prototype.copy=function(t){return Q.MeshStandardMaterial.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this},Q.MultiMaterial=function(t){this.uuid=Q.Math.generateUUID(),this.type="MultiMaterial",this.materials=t instanceof Array?t:[],this.visible=!0},Q.MultiMaterial.prototype={constructor:Q.MultiMaterial,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var o=n[r].toJSON(t);delete o.metadata,e.materials.push(o)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},Q.PointsMaterial=function(t){Q.Material.call(this),this.type="PointsMaterial",this.color=new Q.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)},Q.PointsMaterial.prototype=Object.create(Q.Material.prototype),Q.PointsMaterial.prototype.constructor=Q.PointsMaterial,Q.PointsMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},Q.ShaderMaterial=function(t){Q.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))},Q.ShaderMaterial.prototype=Object.create(Q.Material.prototype),Q.ShaderMaterial.prototype.constructor=Q.ShaderMaterial,Q.ShaderMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Q.UniformsUtils.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Q.ShaderMaterial.prototype.toJSON=function(t){var e=Q.Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Q.RawShaderMaterial=function(t){Q.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},Q.RawShaderMaterial.prototype=Object.create(Q.ShaderMaterial.prototype),Q.RawShaderMaterial.prototype.constructor=Q.RawShaderMaterial,Q.SpriteMaterial=function(t){Q.Material.call(this),this.type="SpriteMaterial",this.color=new Q.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)},Q.SpriteMaterial.prototype=Object.create(Q.Material.prototype),Q.SpriteMaterial.prototype.constructor=Q.SpriteMaterial,Q.SpriteMaterial.prototype.copy=function(t){return Q.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},Q.ShadowMaterial=function(){Q.ShaderMaterial.call(this,{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:Q.ShaderChunk.shadow_vert,fragmentShader:Q.ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})},Q.ShadowMaterial.prototype=Object.create(Q.ShaderMaterial.prototype),Q.ShadowMaterial.prototype.constructor=Q.ShadowMaterial,Q.Texture=function(t,e,n,r,i,o,a,s,c,l){Object.defineProperty(this,"id",{value:Q.TextureIdCount++}),this.uuid=Q.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:Q.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Q.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:Q.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:Q.ClampToEdgeWrapping,this.magFilter=void 0!==i?i:Q.LinearFilter,this.minFilter=void 0!==o?o:Q.LinearMipMapLinearFilter,this.anisotropy=void 0!==c?c:1,this.format=void 0!==a?a:Q.RGBAFormat,this.type=void 0!==s?s:Q.UnsignedByteType,this.offset=new Q.Vector2(0,0),this.repeat=new Q.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Q.LinearEncoding,this.version=0,this.onUpdate=null},Q.Texture.DEFAULT_IMAGE=void 0,Q.Texture.DEFAULT_MAPPING=Q.UVMapping,Q.Texture.prototype={constructor:Q.Texture,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Q.Math.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===Q.UVMapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case Q.RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case Q.ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case Q.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Q.RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case Q.ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case Q.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(Q.Texture.prototype,Q.EventDispatcher.prototype),Q.TextureIdCount=0,Q.DepthTexture=function(t,e,n,r,i,o,a,s,c){Q.Texture.call(this,null,r,i,o,a,s,Q.DepthFormat,n,c),this.image={width:t,height:e},this.type=void 0!==n?n:Q.UnsignedShortType,this.magFilter=void 0!==a?a:Q.NearestFilter,this.minFilter=void 0!==s?s:Q.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},Q.DepthTexture.prototype=Object.create(Q.Texture.prototype),Q.DepthTexture.prototype.constructor=Q.DepthTexture,Q.CanvasTexture=function(t,e,n,r,i,o,a,s,c){Q.Texture.call(this,t,e,n,r,i,o,a,s,c),this.needsUpdate=!0},Q.CanvasTexture.prototype=Object.create(Q.Texture.prototype),Q.CanvasTexture.prototype.constructor=Q.CanvasTexture,Q.CubeTexture=function(t,e,n,r,i,o,a,s,c,l){t=void 0!==t?t:[],e=void 0!==e?e:Q.CubeReflectionMapping,Q.Texture.call(this,t,e,n,r,i,o,a,s,c,l),this.flipY=!1},Q.CubeTexture.prototype=Object.create(Q.Texture.prototype),Q.CubeTexture.prototype.constructor=Q.CubeTexture,Object.defineProperty(Q.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Q.CompressedTexture=function(t,e,n,r,i,o,a,s,c,l,u,h){Q.Texture.call(this,null,o,a,s,c,l,r,i,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},Q.CompressedTexture.prototype=Object.create(Q.Texture.prototype),Q.CompressedTexture.prototype.constructor=Q.CompressedTexture,Q.DataTexture=function(t,e,n,r,i,o,a,s,c,l,u,h){Q.Texture.call(this,null,o,a,s,c,l,r,i,u,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:Q.NearestFilter,this.minFilter=void 0!==l?l:Q.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},Q.DataTexture.prototype=Object.create(Q.Texture.prototype),Q.DataTexture.prototype.constructor=Q.DataTexture,Q.VideoTexture=function(t,e,n,r,i,o,a,s,c){Q.Texture.call(this,t,e,n,r,i,o,a,s,c),this.generateMipmaps=!1;var l=this;!function e(){requestAnimationFrame(e),t.readyState>=t.HAVE_CURRENT_DATA&&(l.needsUpdate=!0)}()},Q.VideoTexture.prototype=Object.create(Q.Texture.prototype),Q.VideoTexture.prototype.constructor=Q.VideoTexture,Q.Group=function(){Q.Object3D.call(this),this.type="Group"},Q.Group.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Group}),Q.Points=function(t,e){Q.Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new Q.BufferGeometry,this.material=void 0!==e?e:new Q.PointsMaterial({color:16777215*Math.random()})},Q.Points.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Points,raycast:function(){var t=new Q.Matrix4,e=new Q.Ray,n=new Q.Sphere;return function(r,i){var o=this,a=this.geometry,s=this.matrixWorld,c=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),n.copy(a.boundingSphere),n.applyMatrix4(s),!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=c/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=new Q.Vector3;if(a instanceof Q.BufferGeometry){var f=a.index,d=a.attributes.position.array;if(null!==f)for(var p=f.array,g=0,m=p.length;g<m;g++){var v=p[g];h.fromArray(d,3*v),x(h,v)}else{g=0;for(var y=d.length/3;g<y;g++)h.fromArray(d,3*g),x(h,g)}}else{var b=a.vertices;for(g=0,y=b.length;g<y;g++)x(b[g],g)}}function x(t,n){var a=e.distanceSqToPoint(t);if(a<u){var c=e.closestPointToPoint(t);c.applyMatrix4(s);var l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;i.push({distance:l,distanceToRay:Math.sqrt(a),point:c.clone(),index:n,face:null,object:o})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Q.Line=function(t,e,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new Q.LineSegments(t,e);Q.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new Q.BufferGeometry,this.material=void 0!==e?e:new Q.LineBasicMaterial({color:16777215*Math.random()})},Q.Line.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Line,raycast:function(){var t=new Q.Matrix4,e=new Q.Ray,n=new Q.Sphere;return function(r,i){var o=r.linePrecision,a=o*o,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(c),!1!==r.ray.intersectsSphere(n)){t.getInverse(c),e.copy(r.ray).applyMatrix4(t);var l=new Q.Vector3,u=new Q.Vector3,h=new Q.Vector3,f=new Q.Vector3,d=this instanceof Q.LineSegments?2:1;if(s instanceof Q.BufferGeometry){var p=s.index,g=s.attributes.position.array;if(null!==p)for(var m=p.array,v=0,y=m.length-1;v<y;v+=d){var b=m[v],x=m[v+1];if(l.fromArray(g,3*b),u.fromArray(g,3*x),!(e.distanceSqToSegment(l,u,f,h)>a))f.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(f))<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(v=0,y=g.length/3-1;v<y;v+=d){if(l.fromArray(g,3*v),u.fromArray(g,3*v+3),!(e.distanceSqToSegment(l,u,f,h)>a))f.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(f))<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(s instanceof Q.Geometry){var _=s.vertices,w=_.length;for(v=0;v<w-1;v+=d){var S;if(!(e.distanceSqToSegment(_[v],_[v+1],f,h)>a))f.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(f))<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Q.LineSegments=function(t,e){Q.Line.call(this,t,e),this.type="LineSegments"},Q.LineSegments.prototype=Object.assign(Object.create(Q.Line.prototype),{constructor:Q.LineSegments}),Q.Mesh=function(t,e){Q.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Q.BufferGeometry,this.material=void 0!==e?e:new Q.MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=Q.TrianglesDrawMode,this.updateMorphTargets()},Q.Mesh.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Mesh,setDrawMode:function(t){this.drawMode=t},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;t<e;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},getMorphTargetIndexByName:function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:(console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+t+" does not exist. Returning 0."),0)},raycast:function(){var t=new Q.Matrix4,e=new Q.Ray,n=new Q.Sphere,r=new Q.Vector3,i=new Q.Vector3,o=new Q.Vector3,a=new Q.Vector3,s=new Q.Vector3,c=new Q.Vector3,l=new Q.Vector2,u=new Q.Vector2,h=new Q.Vector2,f=new Q.Vector3,d=new Q.Vector3,p=new Q.Vector3;function g(t,e,n,r,i,o,a){return Q.Triangle.barycoordFromPoint(t,e,n,r,f),i.multiplyScalar(f.x),o.multiplyScalar(f.y),a.multiplyScalar(f.z),i.add(o).add(a),i.clone()}function m(t,e,n,r,i,o,a){var s=t.material;if(null===(s.side===Q.BackSide?n.intersectTriangle(o,i,r,!0,a):n.intersectTriangle(r,i,o,s.side!==Q.DoubleSide,a)))return null;p.copy(a),p.applyMatrix4(t.matrixWorld);var c=e.ray.origin.distanceTo(p);return c<e.near||c>e.far?null:{distance:c,point:p.clone(),object:t}}function v(t,e,n,a,s,c,f,p){r.fromArray(a,3*c),i.fromArray(a,3*f),o.fromArray(a,3*p);var v=m(t,e,n,r,i,o,d);return v&&(s&&(l.fromArray(s,2*c),u.fromArray(s,2*f),h.fromArray(s,2*p),v.uv=g(d,r,i,o,l,u,h)),v.face=new Q.Face3(c,f,p,Q.Triangle.normal(r,i,o)),v.faceIndex=c),v}return function(f,p){var y,b,x=this.geometry,_=this.material,w=this.matrixWorld;if(void 0!==_&&(null===x.boundingSphere&&x.computeBoundingSphere(),n.copy(x.boundingSphere),n.applyMatrix4(w),!1!==f.ray.intersectsSphere(n)&&(t.getInverse(w),e.copy(f.ray).applyMatrix4(t),null===x.boundingBox||!1!==e.intersectsBox(x.boundingBox))))if(x instanceof Q.BufferGeometry){var S,T,M,A=x.index,E=x.attributes,C=E.position.array;if(void 0!==E.uv&&(y=E.uv.array),null!==A)for(var L=A.array,P=0,k=L.length;P<k;P+=3)S=L[P],T=L[P+1],M=L[P+2],(b=v(this,f,e,C,y,S,T,M))&&(b.faceIndex=Math.floor(P/3),p.push(b));else for(P=0,k=C.length;P<k;P+=9)(b=v(this,f,e,C,y,S=P/3,T=S+1,M=S+2))&&(b.index=S,p.push(b))}else if(x instanceof Q.Geometry){var R,O,I,D=_ instanceof Q.MultiMaterial,N=!0===D?_.materials:null,F=x.vertices,G=x.faces,B=x.faceVertexUvs[0];B.length>0&&(y=B);for(var V=0,z=G.length;V<z;V++){var U=G[V],j=!0===D?N[U.materialIndex]:_;if(void 0!==j){if(R=F[U.a],O=F[U.b],I=F[U.c],!0===j.morphTargets){var H=x.morphTargets,W=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var X=0,Y=H.length;X<Y;X++){var q=W[X];if(0!==q){var Z=H[X].vertices;r.addScaledVector(a.subVectors(Z[U.a],R),q),i.addScaledVector(s.subVectors(Z[U.b],O),q),o.addScaledVector(c.subVectors(Z[U.c],I),q)}}r.add(R),i.add(O),o.add(I),R=r,O=i,I=o}if(b=m(this,f,e,R,O,I,d)){if(y){var $=y[V];l.copy($[0]),u.copy($[1]),h.copy($[2]),b.uv=g(d,R,O,I,l,u,h)}b.face=U,b.faceIndex=V,p.push(b)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Q.Bone=function(t){Q.Object3D.call(this),this.type="Bone",this.skin=t},Q.Bone.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Bone,copy:function(t){return Q.Object3D.prototype.copy.call(this,t),this.skin=t.skin,this}}),Q.Skeleton=function(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new Q.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=Q.Math.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Q.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Q.RGBAFormat,Q.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;i<o;i++)this.boneInverses.push(new Q.Matrix4)}},Object.assign(Q.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Q.Matrix4;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(H=new Q.Matrix4,function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;H.multiplyMatrices(n,this.boneInverses[t]),H.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),clone:function(){return new Q.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}}),Q.SkinnedMesh=function(t,e,n){Q.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Q.Matrix4,this.bindMatrixInverse=new Q.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a=0,s=this.geometry.bones.length;a<s;++a)o=this.geometry.bones[a],i=new Q.Bone(this),r.push(i),i.name=o.name,i.position.fromArray(o.pos),i.quaternion.fromArray(o.rotq),void 0!==o.scl&&i.scale.fromArray(o.scl);for(a=0,s=this.geometry.bones.length;a<s;++a)-1!==(o=this.geometry.bones[a]).parent&&null!==o.parent&&void 0!==r[o.parent]?r[o.parent].add(r[a]):this.add(r[a])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new Q.Skeleton(r,void 0,n),this.matrixWorld)},Q.SkinnedMesh.prototype=Object.assign(Object.create(Q.Mesh.prototype),{constructor:Q.SkinnedMesh,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof Q.Geometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t];(i=1/e.lengthManhattan())!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry instanceof Q.BufferGeometry){var n=new Q.Vector4,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){var i;n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t),(i=1/n.lengthManhattan())!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(t){Q.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)}}),Q.LOD=function(){Q.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})},Q.LOD.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.LOD,copy:function(t){Q.Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:(W=new Q.Vector3,function(t,e){W.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(W);this.getObjectForDistance(n).raycast(t,e)}),update:function(){var t=new Q.Vector3,e=new Q.Vector3;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var o=1,a=r.length;o<a&&i>=r[o].distance;o++)r[o-1].object.visible=!1,r[o].object.visible=!0;for(;o<a;o++)r[o].object.visible=!1}}}(),toJSON:function(t){var e=Q.Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Q.Sprite=function(t){Q.Object3D.call(this),this.type="Sprite",this.material=void 0!==t?t:new Q.SpriteMaterial},Q.Sprite.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.Sprite,raycast:function(){var t=new Q.Vector3;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Q.LensFlare=function(t,e,n,r,i){Q.Object3D.call(this),this.lensFlares=[],this.positionScreen=new Q.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)},Q.LensFlare.prototype=Object.assign(Object.create(Q.Object3D.prototype),{constructor:Q.LensFlare,copy:function(t){Q.Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,o){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===o&&(o=1),void 0===i&&(i=new Q.Color(16777215)),void 0===r&&(r=Q.NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:o,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),Q.Scene=function(){Q.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},Q.Scene.prototype=Object.create(Q.Object3D.prototype),Q.Scene.prototype.constructor=Q.Scene,Q.Scene.prototype.copy=function(t,e){return Q.Object3D.prototype.copy.call(this,t,e),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},Q.Fog=function(t,e,n){this.name="",this.color=new Q.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3},Q.Fog.prototype.clone=function(){return new Q.Fog(this.color.getHex(),this.near,this.far)},Q.FogExp2=function(t,e){this.name="",this.color=new Q.Color(t),this.density=void 0!==e?e:25e-5},Q.FogExp2.prototype.clone=function(){return new Q.FogExp2(this.color.getHex(),this.density)},Q.ShaderChunk={},Q.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Q.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Q.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Q.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Q.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Q.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",Q.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",Q.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Q.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",Q.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n",Q.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",Q.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",Q.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",Q.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",Q.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",Q.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Q.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",Q.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",Q.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",Q.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",Q.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",Q.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",Q.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Q.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",Q.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",Q.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",Q.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Q.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Q.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Q.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Q.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Q.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Q.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Q.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Q.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Q.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Q.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Q.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Q.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n",Q.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Q.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n",Q.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",Q.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Q.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Q.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Q.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Q.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Q.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Q.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",Q.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",Q.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Q.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Q.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Q.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Q.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Q.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",Q.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Q.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Q.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",Q.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",Q.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Q.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",Q.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",Q.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",Q.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",Q.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Q.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",Q.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",Q.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Q.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Q.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Q.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",Q.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Q.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Q.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Q.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Q.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Q.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",Q.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",Q.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",Q.UniformsUtils={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i instanceof Q.Color||i instanceof Q.Vector2||i instanceof Q.Vector3||i instanceof Q.Vector4||i instanceof Q.Matrix3||i instanceof Q.Matrix4||i instanceof Q.Texture?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}},Q.UniformsLib={common:{diffuse:{type:"c",value:new Q.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Q.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new Q.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:25e-5},fogNear:{type:"1f",value:1},fogFar:{type:"1f",value:2e3},fogColor:{type:"c",value:new Q.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new Q.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Q.Vector4(0,0,1,1)}}},Q.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n",Q.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Q.ShaderChunk.depth_frag="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",Q.ShaderChunk.depth_vert="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Q.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",Q.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",Q.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n",Q.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Q.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Q.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Q.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Q.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",Q.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Q.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",Q.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Q.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",Q.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Q.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Q.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",Q.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",Q.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Q.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Q.ShaderChunk.shadow_frag="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",Q.ShaderChunk.shadow_vert="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Q.ShaderLib={basic:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.common,Q.UniformsLib.aomap,Q.UniformsLib.fog]),vertexShader:Q.ShaderChunk.meshbasic_vert,fragmentShader:Q.ShaderChunk.meshbasic_frag},lambert:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.common,Q.UniformsLib.aomap,Q.UniformsLib.lightmap,Q.UniformsLib.emissivemap,Q.UniformsLib.fog,Q.UniformsLib.lights,{emissive:{type:"c",value:new Q.Color(0)}}]),vertexShader:Q.ShaderChunk.meshlambert_vert,fragmentShader:Q.ShaderChunk.meshlambert_frag},phong:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.common,Q.UniformsLib.aomap,Q.UniformsLib.lightmap,Q.UniformsLib.emissivemap,Q.UniformsLib.bumpmap,Q.UniformsLib.normalmap,Q.UniformsLib.displacementmap,Q.UniformsLib.fog,Q.UniformsLib.lights,{emissive:{type:"c",value:new Q.Color(0)},specular:{type:"c",value:new Q.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:Q.ShaderChunk.meshphong_vert,fragmentShader:Q.ShaderChunk.meshphong_frag},standard:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.common,Q.UniformsLib.aomap,Q.UniformsLib.lightmap,Q.UniformsLib.emissivemap,Q.UniformsLib.bumpmap,Q.UniformsLib.normalmap,Q.UniformsLib.displacementmap,Q.UniformsLib.roughnessmap,Q.UniformsLib.metalnessmap,Q.UniformsLib.fog,Q.UniformsLib.lights,{emissive:{type:"c",value:new Q.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:Q.ShaderChunk.meshphysical_vert,fragmentShader:Q.ShaderChunk.meshphysical_frag},points:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.points,Q.UniformsLib.fog]),vertexShader:Q.ShaderChunk.points_vert,fragmentShader:Q.ShaderChunk.points_frag},dashed:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.common,Q.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:Q.ShaderChunk.linedashed_vert,fragmentShader:Q.ShaderChunk.linedashed_frag},depth:{uniforms:Q.UniformsUtils.merge([Q.UniformsLib.common,Q.UniformsLib.displacementmap]),vertexShader:Q.ShaderChunk.depth_vert,fragmentShader:Q.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:Q.ShaderChunk.normal_vert,fragmentShader:Q.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:Q.ShaderChunk.cube_vert,fragmentShader:Q.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:Q.ShaderChunk.equirect_vert,fragmentShader:Q.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new Q.Vector3}},vertexShader:Q.ShaderChunk.distanceRGBA_vert,fragmentShader:Q.ShaderChunk.distanceRGBA_frag}},Q.ShaderLib.physical={uniforms:Q.UniformsUtils.merge([Q.ShaderLib.standard.uniforms,{}]),vertexShader:Q.ShaderChunk.meshphysical_vert,fragmentShader:Q.ShaderChunk.meshphysical_frag},Q.WebGLRenderer=function(t){console.log("THREE.WebGLRenderer",Q.REVISION);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElement("canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=[],u=[],h=-1,f=[],d=-1,p=new Float32Array(8),g=[],m=[];this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Q.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var v,y=this,b=null,x=null,_=null,w=-1,S="",T=null,M=new Q.Vector4,A=null,E=new Q.Vector4,C=0,L=new Q.Color(0),P=0,k=e.width,R=e.height,O=1,I=new Q.Vector4(0,0,k,R),D=!1,N=new Q.Vector4(0,0,k,R),F=new Q.Frustum,G=new Q.WebGLClipping,B=!1,V=!1,z=new Q.Sphere,U=new Q.Matrix4,j=new Q.Vector3,H={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},W={geometries:0,textures:0},X={calls:0,vertices:0,faces:0,points:0};this.info={render:X,memory:W,programs:null};try{var Y={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:c};if(null===(v=n||e.getContext("webgl",Y)||e.getContext("experimental-webgl",Y)))throw null!==e.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===v.getShaderPrecisionFormat&&(v.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),e.addEventListener("webglcontextlost",pt,!1)}catch(t){console.error("THREE.WebGLRenderer: "+t)}var q="undefined"!=typeof WebGL2RenderingContext&&v instanceof WebGL2RenderingContext,Z=new Q.WebGLExtensions(v);Z.get("WEBGL_depth_texture"),Z.get("OES_texture_float"),Z.get("OES_texture_float_linear"),Z.get("OES_texture_half_float"),Z.get("OES_texture_half_float_linear"),Z.get("OES_standard_derivatives"),Z.get("ANGLE_instanced_arrays"),Z.get("OES_element_index_uint")&&(Q.BufferGeometry.MaxIndex=4294967296);var $=new Q.WebGLCapabilities(v,Z,t),K=new Q.WebGLState(v,Z,Ft),J=new Q.WebGLProperties,tt=new Q.WebGLObjects(v,J,this.info),et=new Q.WebGLPrograms(this,$),nt=new Q.WebGLLights;this.info.programs=et.programs;var rt=new Q.WebGLBufferRenderer(v,Z,X),it=new Q.WebGLIndexedBufferRenderer(v,Z,X);function ot(){return null===x?O:1}function at(t,e,n,r){!0===s&&(t*=r,e*=r,n*=r),K.clearColor(t,e,n,r)}function st(){K.init(),K.scissor(M.copy(I).multiplyScalar(O)),K.viewport(E.copy(N).multiplyScalar(O)),at(L.r,L.g,L.b,P)}function ct(){b=null,T=null,S="",w=-1,K.reset()}st(),this.context=v,this.capabilities=$,this.extensions=Z,this.properties=J,this.state=K;var lt=new Q.WebGLShadowMap(this,H,tt);this.shadowMap=lt;var ut,ht,ft=new Q.SpritePlugin(this,g),dt=new Q.LensFlarePlugin(this,m);function pt(t){t.preventDefault(),ct(),st(),J.clear()}function gt(t){var e=t.target;e.removeEventListener("dispose",gt),function(t){var e=J.get(t);if(t.image&&e.__image__webglTextureCube)v.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;v.deleteTexture(e.__webglTexture)}J.delete(t)}(e),W.textures--}function mt(t){var e=t.target;e.removeEventListener("dispose",mt),function(t){var e=J.get(t),n=J.get(t.texture);if(!t)return;void 0!==n.__webglTexture&&v.deleteTexture(n.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t instanceof Q.WebGLRenderTargetCube)for(var r=0;r<6;r++)v.deleteFramebuffer(e.__webglFramebuffer[r]),e.__webglDepthbuffer&&v.deleteRenderbuffer(e.__webglDepthbuffer[r]);else v.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&v.deleteRenderbuffer(e.__webglDepthbuffer);J.delete(t.texture),J.delete(t)}(e),W.textures--}function vt(t){var e=t.target;e.removeEventListener("dispose",vt),function(t){yt(t),J.delete(t)}(e)}function yt(t){var e=J.get(t).program;t.program=void 0,void 0!==e&&et.releaseProgram(e)}function bt(t,e){return Math.abs(e[0])-Math.abs(t[0])}function xt(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function _t(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function wt(t,e,n,r,i){var o,a;n.transparent?(o=f,a=++d):(o=u,a=++h);var s=o[a];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=j.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:j.z,group:i},o.push(s))}function St(t){if(!F.intersectsSphere(t))return!1;var e=G.numPlanes;if(0===e)return!0;var n=y.clippingPlanes,r=t.center,i=-t.radius,o=0;do{if(n[o].distanceToPoint(r)<i)return!1}while(++o!==e);return!0}function Tt(t,e,n,r){for(var i=0,o=t.length;i<o;i++){var a=t[i],s=a.object,c=a.geometry,l=void 0===r?a.material:r,u=a.group;if(s.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s instanceof Q.ImmediateRenderObject){Mt(l);var h=At(e,n,l,s);S="",s.render((function(t){y.renderBufferImmediate(t,h,l)}))}else y.renderBufferDirect(e,n,c,l,s,u)}}function Mt(t){t.side!==Q.DoubleSide?K.enable(v.CULL_FACE):K.disable(v.CULL_FACE),K.setFlipSided(t.side===Q.BackSide),!0===t.transparent?K.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):K.setBlending(Q.NoBlending),K.setDepthFunc(t.depthFunc),K.setDepthTest(t.depthTest),K.setDepthWrite(t.depthWrite),K.setColorWrite(t.colorWrite),K.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function At(t,n,r,i){C=0;var o=J.get(r);if(B){if(V||t!==T){var a=t===T&&r.id===w;G.setState(r.clippingPlanes,r.clipShadows,t,o,a)}void 0!==o.numClippingPlanes&&o.numClippingPlanes!==G.numPlanes&&(r.needsUpdate=!0)}void 0===o.program&&(r.needsUpdate=!0),void 0!==o.lightsHash&&o.lightsHash!==H.hash&&(r.needsUpdate=!0),r.needsUpdate&&(!function(t,e,n){var r=J.get(t),i=et.getParameters(t,H,e,G.numPlanes,n),o=et.getProgramCode(t,i),a=r.program,s=!0;if(void 0===a)t.addEventListener("dispose",vt);else if(a.code!==o)yt(t);else{if(void 0!==i.shaderID)return;s=!1}if(s){if(i.shaderID){var c=Q.ShaderLib[i.shaderID];r.__webglShader={name:t.type,uniforms:Q.UniformsUtils.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,a=et.acquireProgram(t,i,o),r.program=a,t.program=a}var l=a.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var u=0;u<y.maxMorphTargets;u++)l["morphTarget"+u]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(u=0;u<y.maxMorphNormals;u++)l["morphNormal"+u]>=0&&t.numSupportedMorphNormals++}var h=r.__webglShader.uniforms;(t instanceof Q.ShaderMaterial||t instanceof Q.RawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=G.numPlanes,h.clippingPlanes=G.uniform),t.lights&&(r.lightsHash=H.hash,h.ambientLightColor.value=H.ambient,h.directionalLights.value=H.directional,h.spotLights.value=H.spot,h.pointLights.value=H.point,h.hemisphereLights.value=H.hemi,h.directionalShadowMap.value=H.directionalShadowMap,h.directionalShadowMatrix.value=H.directionalShadowMatrix,h.spotShadowMap.value=H.spotShadowMap,h.spotShadowMatrix.value=H.spotShadowMatrix,h.pointShadowMap.value=H.pointShadowMap,h.pointShadowMatrix.value=H.pointShadowMatrix);var f=r.program.getUniforms(),d=Q.WebGLUniforms.seqWithValue(f.seq,h);r.uniformsList=d,r.dynamicUniforms=Q.WebGLUniforms.splitDynamic(d,h)}(r,n,i),r.needsUpdate=!1);var s=!1,c=!1,l=!1,u=o.program,h=u.getUniforms(),f=o.__webglShader.uniforms;if(u.id!==b&&(v.useProgram(u.program),b=u.id,s=!0,c=!0,l=!0),r.id!==w&&(w=r.id,c=!0),s||t!==T){if(h.set(v,t,"projectionMatrix"),$.logarithmicDepthBuffer&&h.setValue(v,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==T&&(T=t,c=!0,l=!0),r instanceof Q.ShaderMaterial||r instanceof Q.MeshPhongMaterial||r instanceof Q.MeshStandardMaterial||r.envMap){var d=h.map.cameraPosition;void 0!==d&&d.setValue(v,j.setFromMatrixPosition(t.matrixWorld))}(r instanceof Q.MeshPhongMaterial||r instanceof Q.MeshLambertMaterial||r instanceof Q.MeshBasicMaterial||r instanceof Q.MeshStandardMaterial||r instanceof Q.ShaderMaterial||r.skinning)&&h.setValue(v,"viewMatrix",t.matrixWorldInverse),h.set(v,y,"toneMappingExposure"),h.set(v,y,"toneMappingWhitePoint")}if(r.skinning){h.setOptional(v,i,"bindMatrix"),h.setOptional(v,i,"bindMatrixInverse");var p=i.skeleton;p&&($.floatVertexTextures&&p.useVertexTexture?(h.set(v,p,"boneTexture"),h.set(v,p,"boneTextureWidth"),h.set(v,p,"boneTextureHeight")):h.setOptional(v,p,"boneMatrices"))}c&&(r.lights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(f,l),n&&r.fog&&function(t,e){t.fogColor.value=e.color,e instanceof Q.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof Q.FogExp2&&(t.fogDensity.value=e.density)}(f,n),(r instanceof Q.MeshBasicMaterial||r instanceof Q.MeshLambertMaterial||r instanceof Q.MeshPhongMaterial||r instanceof Q.MeshStandardMaterial||r instanceof Q.MeshDepthMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap);if(void 0!==n){n instanceof Q.WebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof Q.CubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(f,r),r instanceof Q.LineBasicMaterial?Et(f,r):r instanceof Q.LineDashedMaterial?(Et(f,r),function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(f,r)):r instanceof Q.PointsMaterial?function(t,n){if(t.diffuse.value=n.color,t.opacity.value=n.opacity,t.size.value=n.size*O,t.scale.value=.5*e.clientHeight,t.map.value=n.map,null!==n.map){var r=n.map.offset,i=n.map.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}}(f,r):r instanceof Q.MeshLambertMaterial?function(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(f,r):r instanceof Q.MeshPhongMaterial?function(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(f,r):r instanceof Q.MeshPhysicalMaterial?function(t,e){Ct(t,e)}(f,r):r instanceof Q.MeshStandardMaterial?Ct(f,r):r instanceof Q.MeshDepthMaterial?r.displacementMap&&(f.displacementMap.value=r.displacementMap,f.displacementScale.value=r.displacementScale,f.displacementBias.value=r.displacementBias):r instanceof Q.MeshNormalMaterial&&(f.opacity.value=r.opacity),Q.WebGLUniforms.upload(v,o.uniformsList,f,y)),h.set(v,i,"modelViewMatrix"),h.set(v,i,"normalMatrix"),h.setValue(v,"modelMatrix",i.matrixWorld);var g=o.dynamicUniforms;return null!==g&&(Q.WebGLUniforms.evalDynamic(g,f,i,t),Q.WebGLUniforms.upload(v,g,f,y)),u}function Et(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function Ct(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function Lt(t,e,n){var r;if(n?(v.texParameteri(t,v.TEXTURE_WRAP_S,Ft(e.wrapS)),v.texParameteri(t,v.TEXTURE_WRAP_T,Ft(e.wrapT)),v.texParameteri(t,v.TEXTURE_MAG_FILTER,Ft(e.magFilter)),v.texParameteri(t,v.TEXTURE_MIN_FILTER,Ft(e.minFilter))):(v.texParameteri(t,v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(t,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),e.wrapS===Q.ClampToEdgeWrapping&&e.wrapT===Q.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",e),v.texParameteri(t,v.TEXTURE_MAG_FILTER,Nt(e.magFilter)),v.texParameteri(t,v.TEXTURE_MIN_FILTER,Nt(e.minFilter)),e.minFilter!==Q.NearestFilter&&e.minFilter!==Q.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",e)),r=Z.get("EXT_texture_filter_anisotropic")){if(e.type===Q.FloatType&&null===Z.get("OES_texture_float_linear"))return;if(e.type===Q.HalfFloatType&&null===Z.get("OES_texture_half_float_linear"))return;(e.anisotropy>1||J.get(e).__currentAnisotropy)&&(v.texParameterf(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,y.getMaxAnisotropy())),J.get(e).__currentAnisotropy=e.anisotropy)}}function Pt(t,e,n){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",gt),t.__webglTexture=v.createTexture(),W.textures++),K.activeTexture(v.TEXTURE0+n),K.bindTexture(v.TEXTURE_2D,t.__webglTexture),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,e.flipY),v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),v.pixelStorei(v.UNPACK_ALIGNMENT,e.unpackAlignment);var r=kt(e.image,$.maxTextureSize);(function(t){return t.wrapS!==Q.ClampToEdgeWrapping||t.wrapT!==Q.ClampToEdgeWrapping||t.minFilter!==Q.NearestFilter&&t.minFilter!==Q.LinearFilter})(e)&&!1===Rt(r)&&(r=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElement("canvas");return e.width=Q.Math.nearestPowerOfTwo(t.width),e.height=Q.Math.nearestPowerOfTwo(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}(r));var i=Rt(r),o=Ft(e.format),a=Ft(e.type);Lt(v.TEXTURE_2D,e,i);var s,c=e.mipmaps;if(e instanceof Q.DepthTexture){var l=v.DEPTH_COMPONENT;if(e.type===Q.FloatType){if(!q)throw new Error("Float Depth Texture only supported in WebGL2.0");l=v.DEPTH_COMPONENT32F}else q&&(l=v.DEPTH_COMPONENT16);K.texImage2D(v.TEXTURE_2D,0,l,r.width,r.height,0,o,a,null)}else if(e instanceof Q.DataTexture)if(c.length>0&&i){for(var u=0,h=c.length;u<h;u++)s=c[u],K.texImage2D(v.TEXTURE_2D,u,o,s.width,s.height,0,o,a,s.data);e.generateMipmaps=!1}else K.texImage2D(v.TEXTURE_2D,0,o,r.width,r.height,0,o,a,r.data);else if(e instanceof Q.CompressedTexture)for(u=0,h=c.length;u<h;u++)s=c[u],e.format!==Q.RGBAFormat&&e.format!==Q.RGBFormat?K.getCompressedTextureFormats().indexOf(o)>-1?K.compressedTexImage2D(v.TEXTURE_2D,u,o,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):K.texImage2D(v.TEXTURE_2D,u,o,s.width,s.height,0,o,a,s.data);else if(c.length>0&&i){for(u=0,h=c.length;u<h;u++)s=c[u],K.texImage2D(v.TEXTURE_2D,u,o,o,a,s);e.generateMipmaps=!1}else K.texImage2D(v.TEXTURE_2D,0,o,o,a,r);e.generateMipmaps&&i&&v.generateMipmap(v.TEXTURE_2D),t.__version=e.version,e.onUpdate&&e.onUpdate(e)}function kt(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElement("canvas");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+r.width+"x"+r.height,t),r}return t}function Rt(t){return Q.Math.isPowerOfTwo(t.width)&&Q.Math.isPowerOfTwo(t.height)}function Ot(t,e,n,r){var i=Ft(e.texture.format),o=Ft(e.texture.type);K.texImage2D(r,0,i,e.width,e.height,0,i,o,null),v.bindFramebuffer(v.FRAMEBUFFER,t),v.framebufferTexture2D(v.FRAMEBUFFER,n,r,J.get(e.texture).__webglTexture,0),v.bindFramebuffer(v.FRAMEBUFFER,null)}function It(t,e){v.bindRenderbuffer(v.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_COMPONENT16,e.width,e.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(v.renderbufferStorage(v.RENDERBUFFER,v.DEPTH_STENCIL,e.width,e.height),v.framebufferRenderbuffer(v.FRAMEBUFFER,v.DEPTH_STENCIL_ATTACHMENT,v.RENDERBUFFER,t)):v.renderbufferStorage(v.RENDERBUFFER,v.RGBA4,e.width,e.height),v.bindRenderbuffer(v.RENDERBUFFER,null)}function Dt(t){var e=J.get(t),n=t instanceof Q.WebGLRenderTargetCube;if(t.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,e){if(e instanceof Q.WebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(v.bindFramebuffer(v.FRAMEBUFFER,t),!(e.depthTexture instanceof Q.DepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");J.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),y.setTexture2D(e.depthTexture,0);var n=J.get(e.depthTexture).__webglTexture;v.framebufferTexture2D(v.FRAMEBUFFER,v.DEPTH_ATTACHMENT,v.TEXTURE_2D,n,0)}(e.__webglFramebuffer,t)}else if(n){e.__webglDepthbuffer=[];for(var r=0;r<6;r++)v.bindFramebuffer(v.FRAMEBUFFER,e.__webglFramebuffer[r]),e.__webglDepthbuffer[r]=v.createRenderbuffer(),It(e.__webglDepthbuffer[r],t)}else v.bindFramebuffer(v.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=v.createRenderbuffer(),It(e.__webglDepthbuffer,t);v.bindFramebuffer(v.FRAMEBUFFER,null)}function Nt(t){return t===Q.NearestFilter||t===Q.NearestMipMapNearestFilter||t===Q.NearestMipMapLinearFilter?v.NEAREST:v.LINEAR}function Ft(t){var e;if(t===Q.RepeatWrapping)return v.REPEAT;if(t===Q.ClampToEdgeWrapping)return v.CLAMP_TO_EDGE;if(t===Q.MirroredRepeatWrapping)return v.MIRRORED_REPEAT;if(t===Q.NearestFilter)return v.NEAREST;if(t===Q.NearestMipMapNearestFilter)return v.NEAREST_MIPMAP_NEAREST;if(t===Q.NearestMipMapLinearFilter)return v.NEAREST_MIPMAP_LINEAR;if(t===Q.LinearFilter)return v.LINEAR;if(t===Q.LinearMipMapNearestFilter)return v.LINEAR_MIPMAP_NEAREST;if(t===Q.LinearMipMapLinearFilter)return v.LINEAR_MIPMAP_LINEAR;if(t===Q.UnsignedByteType)return v.UNSIGNED_BYTE;if(t===Q.UnsignedShort4444Type)return v.UNSIGNED_SHORT_4_4_4_4;if(t===Q.UnsignedShort5551Type)return v.UNSIGNED_SHORT_5_5_5_1;if(t===Q.UnsignedShort565Type)return v.UNSIGNED_SHORT_5_6_5;if(t===Q.ByteType)return v.BYTE;if(t===Q.ShortType)return v.SHORT;if(t===Q.UnsignedShortType)return v.UNSIGNED_SHORT;if(t===Q.IntType)return v.INT;if(t===Q.UnsignedIntType)return v.UNSIGNED_INT;if(t===Q.FloatType)return v.FLOAT;if(null!==(e=Z.get("OES_texture_half_float"))&&t===Q.HalfFloatType)return e.HALF_FLOAT_OES;if(t===Q.AlphaFormat)return v.ALPHA;if(t===Q.RGBFormat)return v.RGB;if(t===Q.RGBAFormat)return v.RGBA;if(t===Q.LuminanceFormat)return v.LUMINANCE;if(t===Q.LuminanceAlphaFormat)return v.LUMINANCE_ALPHA;if(t===Q.DepthFormat)return v.DEPTH_COMPONENT;if(t===Q.AddEquation)return v.FUNC_ADD;if(t===Q.SubtractEquation)return v.FUNC_SUBTRACT;if(t===Q.ReverseSubtractEquation)return v.FUNC_REVERSE_SUBTRACT;if(t===Q.ZeroFactor)return v.ZERO;if(t===Q.OneFactor)return v.ONE;if(t===Q.SrcColorFactor)return v.SRC_COLOR;if(t===Q.OneMinusSrcColorFactor)return v.ONE_MINUS_SRC_COLOR;if(t===Q.SrcAlphaFactor)return v.SRC_ALPHA;if(t===Q.OneMinusSrcAlphaFactor)return v.ONE_MINUS_SRC_ALPHA;if(t===Q.DstAlphaFactor)return v.DST_ALPHA;if(t===Q.OneMinusDstAlphaFactor)return v.ONE_MINUS_DST_ALPHA;if(t===Q.DstColorFactor)return v.DST_COLOR;if(t===Q.OneMinusDstColorFactor)return v.ONE_MINUS_DST_COLOR;if(t===Q.SrcAlphaSaturateFactor)return v.SRC_ALPHA_SATURATE;if(null!==(e=Z.get("WEBGL_compressed_texture_s3tc"))){if(t===Q.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Q.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Q.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Q.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(e=Z.get("WEBGL_compressed_texture_pvrtc"))){if(t===Q.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===Q.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Q.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Q.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(e=Z.get("WEBGL_compressed_texture_etc1"))&&t===Q.RGB_ETC1_Format)return e.COMPRESSED_RGB_ETC1_WEBGL;if(null!==(e=Z.get("EXT_blend_minmax"))){if(t===Q.MinEquation)return e.MIN_EXT;if(t===Q.MaxEquation)return e.MAX_EXT}return 0}this.getContext=function(){return v},this.getContextAttributes=function(){return v.getContextAttributes()},this.forceContextLoss=function(){Z.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){if(void 0!==ut)return ut;var t=Z.get("EXT_texture_filter_anisotropic");return ut=null!==t?v.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getPrecision=function(){return $.precision},this.getPixelRatio=function(){return O},this.setPixelRatio=function(t){void 0!==t&&(O=t,this.setSize(N.z,N.w,!1))},this.getSize=function(){return{width:k,height:R}},this.setSize=function(t,n,r){k=t,R=n,e.width=t*O,e.height=n*O,!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n)},this.setViewport=function(t,e,n,r){K.viewport(N.set(t,e,n,r))},this.setScissor=function(t,e,n,r){K.scissor(I.set(t,e,n,r))},this.setScissorTest=function(t){K.setScissorTest(D=t)},this.getClearColor=function(){return L},this.setClearColor=function(t,e){L.set(t),P=void 0!==e?e:1,at(L.r,L.g,L.b,P)},this.getClearAlpha=function(){return P},this.setClearAlpha=function(t){P=t,at(L.r,L.g,L.b,P)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=v.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=v.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=v.STENCIL_BUFFER_BIT),v.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=ct,this.dispose=function(){e.removeEventListener("webglcontextlost",pt,!1)},this.renderBufferImmediate=function(t,e,n){K.initAttributes();var r=J.get(t);t.hasPositions&&!r.position&&(r.position=v.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=v.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=v.createBuffer()),t.hasColors&&!r.color&&(r.color=v.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(v.bindBuffer(v.ARRAY_BUFFER,r.position),v.bufferData(v.ARRAY_BUFFER,t.positionArray,v.DYNAMIC_DRAW),K.enableAttribute(i.position),v.vertexAttribPointer(i.position,3,v.FLOAT,!1,0,0)),t.hasNormals){if(v.bindBuffer(v.ARRAY_BUFFER,r.normal),"MeshPhongMaterial"!==n.type&&"MeshStandardMaterial"!==n.type&&"MeshPhysicalMaterial"!==n.type&&n.shading===Q.FlatShading)for(var o=0,a=3*t.count;o<a;o+=9){var s=t.normalArray,c=(s[o+0]+s[o+3]+s[o+6])/3,l=(s[o+1]+s[o+4]+s[o+7])/3,u=(s[o+2]+s[o+5]+s[o+8])/3;s[o+0]=c,s[o+1]=l,s[o+2]=u,s[o+3]=c,s[o+4]=l,s[o+5]=u,s[o+6]=c,s[o+7]=l,s[o+8]=u}v.bufferData(v.ARRAY_BUFFER,t.normalArray,v.DYNAMIC_DRAW),K.enableAttribute(i.normal),v.vertexAttribPointer(i.normal,3,v.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(v.bindBuffer(v.ARRAY_BUFFER,r.uv),v.bufferData(v.ARRAY_BUFFER,t.uvArray,v.DYNAMIC_DRAW),K.enableAttribute(i.uv),v.vertexAttribPointer(i.uv,2,v.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==Q.NoColors&&(v.bindBuffer(v.ARRAY_BUFFER,r.color),v.bufferData(v.ARRAY_BUFFER,t.colorArray,v.DYNAMIC_DRAW),K.enableAttribute(i.color),v.vertexAttribPointer(i.color,3,v.FLOAT,!1,0,0)),K.disableUnusedAttributes(),v.drawArrays(v.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,o){Mt(r);var a=At(t,e,r,i),s=!1,c=n.id+"_"+a.id+"_"+r.wireframe;c!==S&&(S=c,s=!0);var l=i.morphTargetInfluences;if(void 0!==l){for(var u=[],h=0,f=l.length;h<f;h++){var d=l[h];u.push([d,h])}u.sort(bt),u.length>8&&(u.length=8);var g=n.morphAttributes;for(h=0,f=u.length;h<f;h++){d=u[h];if(p[h]=d[0],0!==d[0]){var m=d[1];!0===r.morphTargets&&g.position&&n.addAttribute("morphTarget"+h,g.position[m]),!0===r.morphNormals&&g.normal&&n.addAttribute("morphNormal"+h,g.normal[m])}else!0===r.morphTargets&&n.removeAttribute("morphTarget"+h),!0===r.morphNormals&&n.removeAttribute("morphNormal"+h)}a.getUniforms().setValue(v,"morphTargetInfluences",p),s=!0}m=n.index;var y,b=n.attributes.position;!0===r.wireframe&&(m=tt.getWireframeAttribute(n)),null!==m?(y=it).setIndex(m):y=rt,s&&(!function(t,e,n,r){var i;if(n instanceof Q.InstancedBufferGeometry&&null===(i=Z.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");void 0===r&&(r=0);K.initAttributes();var o=n.attributes,a=e.getAttributes(),s=t.defaultAttributeValues;for(var c in a){var l=a[c];if(l>=0){var u=o[c];if(void 0!==u){var h=v.FLOAT,f=u.array,d=u.normalized;f instanceof Float32Array?h=v.FLOAT:f instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):f instanceof Uint16Array?h=v.UNSIGNED_SHORT:f instanceof Int16Array?h=v.SHORT:f instanceof Uint32Array?h=v.UNSIGNED_INT:f instanceof Int32Array?h=v.INT:f instanceof Int8Array?h=v.BYTE:f instanceof Uint8Array&&(h=v.UNSIGNED_BYTE);var p=u.itemSize,g=tt.getAttributeBuffer(u);if(u instanceof Q.InterleavedBufferAttribute){var m=u.data,y=m.stride,b=u.offset;m instanceof Q.InstancedInterleavedBuffer?(K.enableAttributeAndDivisor(l,m.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):K.enableAttribute(l),v.bindBuffer(v.ARRAY_BUFFER,g),v.vertexAttribPointer(l,p,h,d,y*m.array.BYTES_PER_ELEMENT,(r*y+b)*m.array.BYTES_PER_ELEMENT)}else u instanceof Q.InstancedBufferAttribute?(K.enableAttributeAndDivisor(l,u.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):K.enableAttribute(l),v.bindBuffer(v.ARRAY_BUFFER,g),v.vertexAttribPointer(l,p,h,d,0,r*p*u.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var x=s[c];if(void 0!==x)switch(x.length){case 2:v.vertexAttrib2fv(l,x);break;case 3:v.vertexAttrib3fv(l,x);break;case 4:v.vertexAttrib4fv(l,x);break;default:v.vertexAttrib1fv(l,x)}}}}K.disableUnusedAttributes()}(r,a,n),null!==m&&v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,tt.getAttributeBuffer(m)));var x=1/0;null!==m?x=m.count:void 0!==b&&(x=b.count);var _=n.drawRange.start,w=n.drawRange.count,T=null!==o?o.start:0,M=null!==o?o.count:1/0,A=Math.max(0,_,T),E=Math.min(0+x,_+w,T+M)-1,C=Math.max(0,E-A+1);if(i instanceof Q.Mesh)if(!0===r.wireframe)K.setLineWidth(r.wireframeLinewidth*ot()),y.setMode(v.LINES);else switch(i.drawMode){case Q.TrianglesDrawMode:y.setMode(v.TRIANGLES);break;case Q.TriangleStripDrawMode:y.setMode(v.TRIANGLE_STRIP);break;case Q.TriangleFanDrawMode:y.setMode(v.TRIANGLE_FAN)}else if(i instanceof Q.Line){var L=r.linewidth;void 0===L&&(L=1),K.setLineWidth(L*ot()),i instanceof Q.LineSegments?y.setMode(v.LINES):y.setMode(v.LINE_STRIP)}else i instanceof Q.Points&&y.setMode(v.POINTS);n instanceof Q.InstancedBufferGeometry?n.maxInstancedCount>0&&y.renderInstances(n,A,C):y.render(A,C)},this.render=function(t,e,n,r){if(e instanceof Q.Camera!=!1){var i=t.fog;if(S="",w=-1,T=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),U.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),F.setFromMatrix(U),l.length=0,h=-1,d=-1,g.length=0,m.length=0,V=this.localClippingEnabled,B=G.init(this.clippingPlanes,V,e),function t(e,n){if(!1===e.visible)return;if(e.layers.test(n.layers))if(e instanceof Q.Light)l.push(e);else if(e instanceof Q.Sprite)!1!==e.frustumCulled&&!0!==(f=e,z.center.set(0,0,0),z.radius=.7071067811865476,z.applyMatrix4(f.matrixWorld),St(z))||g.push(e);else if(e instanceof Q.LensFlare)m.push(e);else if(e instanceof Q.ImmediateRenderObject)!0===y.sortObjects&&(j.setFromMatrixPosition(e.matrixWorld),j.applyProjection(U)),wt(e,null,e.material,j.z,null);else if((e instanceof Q.Mesh||e instanceof Q.Line||e instanceof Q.Points)&&(e instanceof Q.SkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===function(t){var e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere();return z.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),St(z)}(e))){var r=e.material;if(!0===r.visible){!0===y.sortObjects&&(j.setFromMatrixPosition(e.matrixWorld),j.applyProjection(U));var i=tt.update(e);if(r instanceof Q.MultiMaterial)for(var o=i.groups,a=r.materials,s=0,c=o.length;s<c;s++){var u=o[s],h=a[u.materialIndex];!0===h.visible&&wt(e,i,h,j.z,u)}else wt(e,i,r,j.z,null)}}var f;var d=e.children;for(s=0,c=d.length;s<c;s++)t(d[s],n)}(t,e),u.length=h+1,f.length=d+1,!0===y.sortObjects&&(u.sort(xt),f.sort(_t)),B&&G.beginShadows(),function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(H.shadows[e++]=i)}H.shadows.length=e}(l),lt.render(t,e),function(t,e){var n,r,i,o,a,s,c,l=0,u=0,h=0,f=e.matrixWorldInverse,d=0,p=0,g=0,m=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],o=i.color,a=i.intensity,s=i.distance,c=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i instanceof Q.AmbientLight)l+=o.r*a,u+=o.g*a,h+=o.b*a;else if(i instanceof Q.DirectionalLight){(v=nt.get(i)).color.copy(i.color).multiplyScalar(i.intensity),v.direction.setFromMatrixPosition(i.matrixWorld),j.setFromMatrixPosition(i.target.matrixWorld),v.direction.sub(j),v.direction.transformDirection(f),v.shadow=i.castShadow,i.castShadow&&(v.shadowBias=i.shadow.bias,v.shadowRadius=i.shadow.radius,v.shadowMapSize=i.shadow.mapSize),H.directionalShadowMap[d]=c,H.directionalShadowMatrix[d]=i.shadow.matrix,H.directional[d++]=v}else if(i instanceof Q.SpotLight){(v=nt.get(i)).position.setFromMatrixPosition(i.matrixWorld),v.position.applyMatrix4(f),v.color.copy(o).multiplyScalar(a),v.distance=s,v.direction.setFromMatrixPosition(i.matrixWorld),j.setFromMatrixPosition(i.target.matrixWorld),v.direction.sub(j),v.direction.transformDirection(f),v.coneCos=Math.cos(i.angle),v.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),v.decay=0===i.distance?0:i.decay,v.shadow=i.castShadow,i.castShadow&&(v.shadowBias=i.shadow.bias,v.shadowRadius=i.shadow.radius,v.shadowMapSize=i.shadow.mapSize),H.spotShadowMap[g]=c,H.spotShadowMatrix[g]=i.shadow.matrix,H.spot[g++]=v}else if(i instanceof Q.PointLight){(v=nt.get(i)).position.setFromMatrixPosition(i.matrixWorld),v.position.applyMatrix4(f),v.color.copy(i.color).multiplyScalar(i.intensity),v.distance=i.distance,v.decay=0===i.distance?0:i.decay,v.shadow=i.castShadow,i.castShadow&&(v.shadowBias=i.shadow.bias,v.shadowRadius=i.shadow.radius,v.shadowMapSize=i.shadow.mapSize),H.pointShadowMap[p]=c,void 0===H.pointShadowMatrix[p]&&(H.pointShadowMatrix[p]=new Q.Matrix4),j.setFromMatrixPosition(i.matrixWorld).negate(),H.pointShadowMatrix[p].identity().setPosition(j),H.point[p++]=v}else if(i instanceof Q.HemisphereLight){var v;(v=nt.get(i)).direction.setFromMatrixPosition(i.matrixWorld),v.direction.transformDirection(f),v.direction.normalize(),v.skyColor.copy(i.color).multiplyScalar(a),v.groundColor.copy(i.groundColor).multiplyScalar(a),H.hemi[m++]=v}H.ambient[0]=l,H.ambient[1]=u,H.ambient[2]=h,H.directional.length=d,H.spot.length=g,H.point.length=p,H.hemi.length=m,H.hash=d+","+p+","+g+","+m+","+H.shadows.length}(l,e),B&&G.endShadows(),X.calls=0,X.vertices=0,X.faces=0,X.points=0,void 0===n&&(n=null),this.setRenderTarget(n),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),t.overrideMaterial){var o=t.overrideMaterial;Tt(u,e,i,o),Tt(f,e,i,o)}else K.setBlending(Q.NoBlending),Tt(u,e,i),Tt(f,e,i);if(ft.render(t,e),dt.render(t,e,E),n){var a=n.texture;a.generateMipmaps&&Rt(n)&&a.minFilter!==Q.NearestFilter&&a.minFilter!==Q.LinearFilter&&function(t){var e=t instanceof Q.WebGLRenderTargetCube?v.TEXTURE_CUBE_MAP:v.TEXTURE_2D,n=J.get(t.texture).__webglTexture;K.bindTexture(e,n),v.generateMipmap(e),K.bindTexture(e,null)}(n)}K.setDepthTest(!0),K.setDepthWrite(!0),K.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(t,e){K.setCullFace(t),K.setFlipSided(e===Q.FrontFaceDirectionCW)},this.allocTextureUnit=function(){var t=C;return t>=$.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+$.maxTextures),C+=1,t},this.setTexture2D=(ht=!1,function(t,e){t instanceof Q.WebGLRenderTarget&&(ht||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ht=!0),t=t.texture),function(t,e){var n=J.get(t);if(t.version>0&&n.__version!==t.version){var r=t.image;return void 0===r?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t):!1===r.complete?void console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t):void Pt(n,t,e)}K.activeTexture(v.TEXTURE0+e),K.bindTexture(v.TEXTURE_2D,n.__webglTexture)}(t,e)}),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),y.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e instanceof Q.WebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e instanceof Q.CubeTexture||Array.isArray(e.image)&&6===e.image.length?function(t,e){var n=J.get(t);if(6===t.image.length)if(t.version>0&&n.__version!==t.version){n.__image__webglTextureCube||(t.addEventListener("dispose",gt),n.__image__webglTextureCube=v.createTexture(),W.textures++),K.activeTexture(v.TEXTURE0+e),K.bindTexture(v.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var r=t instanceof Q.CompressedTexture,i=t.image[0]instanceof Q.DataTexture,o=[],a=0;a<6;a++)!y.autoScaleCubemaps||r||i?o[a]=i?t.image[a].image:t.image[a]:o[a]=kt(t.image[a],$.maxCubemapSize);var s=Rt(o[0]),c=Ft(t.format),l=Ft(t.type);Lt(v.TEXTURE_CUBE_MAP,t,s);for(a=0;a<6;a++)if(r)for(var u,h=o[a].mipmaps,f=0,d=h.length;f<d;f++)u=h[f],t.format!==Q.RGBAFormat&&t.format!==Q.RGBFormat?K.getCompressedTextureFormats().indexOf(c)>-1?K.compressedTexImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,c,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):K.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,f,c,u.width,u.height,0,c,l,u.data);else i?K.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,c,o[a].width,o[a].height,0,c,l,o[a].data):K.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,c,c,l,o[a]);t.generateMipmaps&&s&&v.generateMipmap(v.TEXTURE_CUBE_MAP),n.__version=t.version,t.onUpdate&&t.onUpdate(t)}else K.activeTexture(v.TEXTURE0+e),K.bindTexture(v.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)}(e,n):function(t,e){K.activeTexture(v.TEXTURE0+e),K.bindTexture(v.TEXTURE_CUBE_MAP,J.get(t).__webglTexture)}(e,n)}}(),this.getCurrentRenderTarget=function(){return x},this.setRenderTarget=function(t){x=t,t&&void 0===J.get(t).__webglFramebuffer&&function(t){var e=J.get(t),n=J.get(t.texture);t.addEventListener("dispose",mt),n.__webglTexture=v.createTexture(),W.textures++;var r=t instanceof Q.WebGLRenderTargetCube,i=Q.Math.isPowerOfTwo(t.width)&&Q.Math.isPowerOfTwo(t.height);if(r){e.__webglFramebuffer=[];for(var o=0;o<6;o++)e.__webglFramebuffer[o]=v.createFramebuffer()}else e.__webglFramebuffer=v.createFramebuffer();if(r){K.bindTexture(v.TEXTURE_CUBE_MAP,n.__webglTexture),Lt(v.TEXTURE_CUBE_MAP,t.texture,i);for(o=0;o<6;o++)Ot(e.__webglFramebuffer[o],t,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+o);t.texture.generateMipmaps&&i&&v.generateMipmap(v.TEXTURE_CUBE_MAP),K.bindTexture(v.TEXTURE_CUBE_MAP,null)}else K.bindTexture(v.TEXTURE_2D,n.__webglTexture),Lt(v.TEXTURE_2D,t.texture,i),Ot(e.__webglFramebuffer,t,v.COLOR_ATTACHMENT0,v.TEXTURE_2D),t.texture.generateMipmaps&&i&&v.generateMipmap(v.TEXTURE_2D),K.bindTexture(v.TEXTURE_2D,null);t.depthBuffer&&Dt(t)}(t);var e,n=t instanceof Q.WebGLRenderTargetCube;if(t){var r=J.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,M.copy(t.scissor),A=t.scissorTest,E.copy(t.viewport)}else e=null,M.copy(I).multiplyScalar(O),A=D,E.copy(N).multiplyScalar(O);if(_!==e&&(v.bindFramebuffer(v.FRAMEBUFFER,e),_=e),K.scissor(M),K.setScissorTest(A),K.viewport(E),n){var i=J.get(t.texture);v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,o){if(t instanceof Q.WebGLRenderTarget!=!1){var a=J.get(t).__webglFramebuffer;if(a){var s=!1;a!==_&&(v.bindFramebuffer(v.FRAMEBUFFER,a),s=!0);try{var c=t.texture;if(c.format!==Q.RGBAFormat&&Ft(c.format)!==v.getParameter(v.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(c.type===Q.UnsignedByteType||Ft(c.type)===v.getParameter(v.IMPLEMENTATION_COLOR_READ_TYPE)||c.type===Q.FloatType&&Z.get("WEBGL_color_buffer_float")||c.type===Q.HalfFloatType&&Z.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");v.checkFramebufferStatus(v.FRAMEBUFFER)===v.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&v.readPixels(e,n,r,i,Ft(c.format),Ft(c.type),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&v.bindFramebuffer(v.FRAMEBUFFER,_)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}},Q.WebGLRenderTarget=function(t,e,n){this.uuid=Q.Math.generateUUID(),this.width=t,this.height=e,this.scissor=new Q.Vector4(0,0,t,e),this.scissorTest=!1,this.viewport=new Q.Vector4(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=Q.LinearFilter),this.texture=new Q.Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=null},Object.assign(Q.WebGLRenderTarget.prototype,Q.EventDispatcher.prototype,{setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Q.WebGLRenderTargetCube=function(t,e,n){Q.WebGLRenderTarget.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0},Q.WebGLRenderTargetCube.prototype=Object.create(Q.WebGLRenderTarget.prototype),Q.WebGLRenderTargetCube.prototype.constructor=Q.WebGLRenderTargetCube,Q.WebGLBufferRenderer=function(t,e,n){var r;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.calls++,n.vertices+=i,r===t.TRIANGLES&&(n.faces+=i/3)},this.renderInstances=function(i){var o=e.get("ANGLE_instanced_arrays");if(null!==o){var a=i.attributes.position,s=0;a instanceof Q.InterleavedBufferAttribute?(s=a.data.count,o.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)):(s=a.count,o.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)),n.calls++,n.vertices+=s*i.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=i.maxInstancedCount*s/3)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}},Q.WebGLClipping=function(){var t=this,e=null,n=0,r=!1,i=!1,o=new Q.Plane,a=new Q.Matrix3,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n}function l(e,n,r,i){var c=null!==e?e.length:0,l=null;if(0!==c){if(l=s.value,!0!==i||null===l){var u=r+4*c,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===l||l.length<u)&&(l=new Float32Array(u));for(var f=0,d=r;f!==c;++f,d+=4)o.copy(e[f]).applyMatrix4(h,a),o.normal.toArray(l,d),l[d+3]=o.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.init=function(t,i,o){var a=0!==t.length||i||0!==n||r;return r=i,e=l(t,o,0),n=t.length,a},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,o,a,u,h){if(!r||null===t||0===t.length||i&&!o)i?l(null):c();else{var f=i?0:n,d=4*f,p=u.clippingState||null;s.value=p,p=l(t,a,d,h);for(var g=0;g!==d;++g)p[g]=e[g];u.clippingState=p,this.numPlanes+=f}}},Q.WebGLIndexedBufferRenderer=function(t,e,n){var r,i,o;this.setMode=function(t){r=t},this.setIndex=function(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(i=t.UNSIGNED_INT,o=4):(i=t.UNSIGNED_SHORT,o=2)},this.render=function(e,a){t.drawElements(r,a,i,e*o),n.calls++,n.vertices+=a,r===t.TRIANGLES&&(n.faces+=a/3)},this.renderInstances=function(a,s,c){var l=e.get("ANGLE_instanced_arrays");null!==l?(l.drawElementsInstancedANGLE(r,c,i,s*o,a.maxInstancedCount),n.calls++,n.vertices+=c*a.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=a.maxInstancedCount*c/3)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}},Q.WebGLExtensions=function(t){var e={};this.get=function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=r,r}},Q.WebGLCapabilities=function(t,e,n){function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=r,this.precision=void 0!==n.precision?n.precision:"highp",this.logarithmicDepthBuffer=void 0!==n.logarithmicDepthBuffer&&n.logarithmicDepthBuffer,this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubemapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=t.getParameter(t.MAX_VARYING_VECTORS),this.maxFragmentUniforms=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!e.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var i=r(this.precision);i!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",i,"instead."),this.precision=i),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!e.get("EXT_frag_depth"))},Q.WebGLGeometries=function(t,e,n){var r={};function i(t){var a=t.target,s=r[a.id];null!==s.index&&o(s.index),function(t){for(var e in t)o(t[e])}(s.attributes),a.removeEventListener("dispose",i),delete r[a.id];var c=e.get(a);c.wireframe&&o(c.wireframe),e.delete(a);var l=e.get(s);l.wireframe&&o(l.wireframe),e.delete(s),n.memory.geometries--}function o(n){var r=function(t){return t instanceof Q.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}(n);void 0!==r&&(t.deleteBuffer(r),function(t){t instanceof Q.InterleavedBufferAttribute?e.delete(t.data):e.delete(t)}(n))}this.get=function(t){var e,o=t.geometry;return void 0!==r[o.id]?r[o.id]:(o.addEventListener("dispose",i),o instanceof Q.BufferGeometry?e=o:o instanceof Q.Geometry&&(void 0===o._bufferGeometry&&(o._bufferGeometry=(new Q.BufferGeometry).setFromObject(t)),e=o._bufferGeometry),r[o.id]=e,n.memory.geometries++,e)}},Q.WebGLLights=function(){var t={};this.get=function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Q.Vector3,color:new Q.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Q.Vector2};break;case"SpotLight":n={position:new Q.Vector3,direction:new Q.Vector3,color:new Q.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Q.Vector2};break;case"PointLight":n={position:new Q.Vector3,color:new Q.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Q.Vector2};break;case"HemisphereLight":n={direction:new Q.Vector3,skyColor:new Q.Color,groundColor:new Q.Color}}return t[e.id]=n,n}},Q.WebGLObjects=function(t,e,n){var r=new Q.WebGLGeometries(t,e,n);function i(n,r){var i=n instanceof Q.InterleavedBufferAttribute?n.data:n,o=e.get(i);void 0===o.__webglBuffer?function(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i),e.version=n.version}(o,i,r):o.version!==i.version&&function(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic||-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0);e.version=n.version}(o,i,r)}function o(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];return void 0===i?(t[e]=[n],!0):-1===i.indexOf(n)&&(i.push(n),!0)}this.getAttributeBuffer=function(t){return t instanceof Q.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},this.getWireframeAttribute=function(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var a,s=[],c=n.index,l=n.attributes,u=l.position;if(null!==c)for(var h={},f=0,d=(a=c.array).length;f<d;f+=3){var p=a[f+0],g=a[f+1],m=a[f+2];o(h,p,g)&&s.push(p,g),o(h,g,m)&&s.push(g,m),o(h,m,p)&&s.push(m,p)}else for(f=0,d=(a=l.position.array).length/3-1;f<d;f+=3){p=f+0,g=f+1,m=f+2;s.push(p,g,g,m,m,p)}var v=u.count>65535?Uint32Array:Uint16Array,y=new Q.BufferAttribute(new v(s),1);return i(y,t.ELEMENT_ARRAY_BUFFER),r.wireframe=y,y},this.update=function(e){var n=r.get(e);e.geometry instanceof Q.Geometry&&n.updateFromObject(e);var o=n.index,a=n.attributes;for(var s in null!==o&&i(o,t.ELEMENT_ARRAY_BUFFER),a)i(a[s],t.ARRAY_BUFFER);var c=n.morphAttributes;for(var s in c)for(var l=c[s],u=0,h=l.length;u<h;u++)i(l[u],t.ARRAY_BUFFER);return n}},Q.WebGLProgram=function(){var t=0;function e(t){switch(t){case Q.LinearEncoding:return["Linear","( value )"];case Q.sRGBEncoding:return["sRGB","( value )"];case Q.RGBEEncoding:return["RGBE","( value )"];case Q.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case Q.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case Q.RGBDEncoding:return["RGBD","( value, 256.0 )"];case Q.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function n(t,n){var r=e(n);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function r(t,e){var n;switch(e){case Q.LinearToneMapping:n="Linear";break;case Q.ReinhardToneMapping:n="Reinhard";break;case Q.Uncharted2ToneMapping:n="Uncharted2";break;case Q.CineonToneMapping:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function i(t){return""!==t}function o(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function a(t){return t.replace(/#include +<([\w\d.]+)>/g,(function(t,e){var n=Q.ShaderChunk[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return a(n)}))}function s(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,n,r){for(var i="",o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]");return i}))}return function(c,l,u,h){var f=c.context,d=u.extensions,p=u.defines,g=u.__webglShader.vertexShader,m=u.__webglShader.fragmentShader,v="SHADOWMAP_TYPE_BASIC";h.shadowMapType===Q.PCFShadowMap?v="SHADOWMAP_TYPE_PCF":h.shadowMapType===Q.PCFSoftShadowMap&&(v="SHADOWMAP_TYPE_PCF_SOFT");var y="ENVMAP_TYPE_CUBE",b="ENVMAP_MODE_REFLECTION",x="ENVMAP_BLENDING_MULTIPLY";if(h.envMap){switch(u.envMap.mapping){case Q.CubeReflectionMapping:case Q.CubeRefractionMapping:y="ENVMAP_TYPE_CUBE";break;case Q.CubeUVReflectionMapping:case Q.CubeUVRefractionMapping:y="ENVMAP_TYPE_CUBE_UV";break;case Q.EquirectangularReflectionMapping:case Q.EquirectangularRefractionMapping:y="ENVMAP_TYPE_EQUIREC";break;case Q.SphericalReflectionMapping:y="ENVMAP_TYPE_SPHERE"}switch(u.envMap.mapping){case Q.CubeRefractionMapping:case Q.EquirectangularRefractionMapping:b="ENVMAP_MODE_REFRACTION"}switch(u.combine){case Q.MultiplyOperation:x="ENVMAP_BLENDING_MULTIPLY";break;case Q.MixOperation:x="ENVMAP_BLENDING_MIX";break;case Q.AddOperation:x="ENVMAP_BLENDING_ADD"}}var _,w,S,T,M,A=c.gammaFactor>0?c.gammaFactor:1,E=function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(i).join("\n")}(d,h,c.extensions),C=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(p),L=f.createProgram();u instanceof Q.RawShaderMaterial?(_="",w=""):(_=["precision "+h.precision+" float;","precision "+h.precision+" int;","#define SHADER_NAME "+u.__webglShader.name,C,h.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+A,"#define MAX_BONES "+h.maxBones,h.map?"#define USE_MAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+b:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.displacementMap&&h.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.vertexColors?"#define USE_COLOR":"",h.flatShading?"#define FLAT_SHADED":"",h.skinning?"#define USE_SKINNING":"",h.useVertexTexture?"#define BONE_TEXTURE":"",h.morphTargets?"#define USE_MORPHTARGETS":"",h.morphNormals&&!1===h.flatShading?"#define USE_MORPHNORMALS":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+h.numClippingPlanes,h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+v:"",h.sizeAttenuation?"#define USE_SIZEATTENUATION":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&c.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(i).join("\n"),w=[E,"precision "+h.precision+" float;","precision "+h.precision+" int;","#define SHADER_NAME "+u.__webglShader.name,C,h.alphaTest?"#define ALPHATEST "+h.alphaTest:"","#define GAMMA_FACTOR "+A,h.useFog&&h.fog?"#define USE_FOG":"",h.useFog&&h.fogExp?"#define FOG_EXP2":"",h.map?"#define USE_MAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+y:"",h.envMap?"#define "+b:"",h.envMap?"#define "+x:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.vertexColors?"#define USE_COLOR":"",h.flatShading?"#define FLAT_SHADED":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+h.numClippingPlanes,h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+v:"",h.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",h.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&c.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",h.envMap&&c.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",h.toneMapping!==Q.NoToneMapping?"#define TONE_MAPPING":"",h.toneMapping!==Q.NoToneMapping?Q.ShaderChunk.tonemapping_pars_fragment:"",h.toneMapping!==Q.NoToneMapping?r("toneMapping",h.toneMapping):"",h.outputEncoding||h.mapEncoding||h.envMapEncoding||h.emissiveMapEncoding?Q.ShaderChunk.encodings_pars_fragment:"",h.mapEncoding?n("mapTexelToLinear",h.mapEncoding):"",h.envMapEncoding?n("envMapTexelToLinear",h.envMapEncoding):"",h.emissiveMapEncoding?n("emissiveMapTexelToLinear",h.emissiveMapEncoding):"",h.outputEncoding?(S="linearToOutputTexel",T=h.outputEncoding,M=e(T),"vec4 "+S+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"):"",h.depthPacking?"#define DEPTH_PACKING "+u.depthPacking:"","\n"].filter(i).join("\n")),g=o(g=a(g),h),m=o(m=a(m),h),u instanceof Q.ShaderMaterial==!1&&(g=s(g),m=s(m));var P=_+g,k=w+m,R=Q.WebGLShader(f,f.VERTEX_SHADER,P),O=Q.WebGLShader(f,f.FRAGMENT_SHADER,k);f.attachShader(L,R),f.attachShader(L,O),void 0!==u.index0AttributeName?f.bindAttribLocation(L,0,u.index0AttributeName):!0===h.morphTargets&&f.bindAttribLocation(L,0,"position"),f.linkProgram(L);var I,D,N=f.getProgramInfoLog(L),F=f.getShaderInfoLog(R),G=f.getShaderInfoLog(O),B=!0,V=!0;return!1===f.getProgramParameter(L,f.LINK_STATUS)?(B=!1,console.error("THREE.WebGLProgram: shader error: ",f.getError(),"gl.VALIDATE_STATUS",f.getProgramParameter(L,f.VALIDATE_STATUS),"gl.getProgramInfoLog",N,F,G)):""!==N?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",N):""!==F&&""!==G||(V=!1),V&&(this.diagnostics={runnable:B,material:u,programLog:N,vertexShader:{log:F,prefix:_},fragmentShader:{log:G,prefix:w}}),f.deleteShader(R),f.deleteShader(O),this.getUniforms=function(){return void 0===I&&(I=new Q.WebGLUniforms(f,L,c)),I},this.getAttributes=function(){return void 0===D&&(D=function(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o).name;r[a]=t.getAttribLocation(e,a)}return r}(f,L)),D},this.destroy=function(){f.deleteProgram(L),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=t++,this.code=l,this.usedTimes=1,this.program=L,this.vertexShader=R,this.fragmentShader=O,this}}(),Q.WebGLPrograms=function(t,e){var n=[],r={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},i=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","depthPacking"];function o(t,e){var n;return t?t instanceof Q.Texture?n=t.encoding:t instanceof Q.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Q.LinearEncoding,n===Q.LinearEncoding&&e&&(n=Q.GammaEncoding),n}this.getParameters=function(n,i,a,s,c){var l=r[n.type],u=function(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4);return void 0!==t&&t instanceof Q.SkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r))<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)"),r}(c),h=t.getPrecision();null!==n.precision&&(h=e.getMaxPrecision(n.precision))!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",h,"instead.");var f=t.getCurrentRenderTarget();return{shaderID:l,precision:h,supportsVertexTextures:e.vertexTextures,outputEncoding:o(f?f.texture:null,t.gammaOutput),map:!!n.map,mapEncoding:o(n.map,t.gammaInput),envMap:!!n.envMap,envMapMode:n.envMap&&n.envMap.mapping,envMapEncoding:o(n.envMap,t.gammaInput),envMapCubeUV:!!n.envMap&&(n.envMap.mapping===Q.CubeUVReflectionMapping||n.envMap.mapping===Q.CubeUVRefractionMapping),lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:o(n.emissiveMap,t.gammaInput),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,combine:n.combine,vertexColors:n.vertexColors,fog:a,useFog:n.fog,fogExp:a instanceof Q.FogExp2,flatShading:n.shading===Q.FlatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:n.skinning,maxBones:u,useVertexTexture:e.floatVertexTextures&&c&&c.skeleton&&c.skeleton.useVertexTexture,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numHemiLights:i.hemi.length,numClippingPlanes:s,shadowMapEnabled:t.shadowMap.enabled&&c.receiveShadow&&i.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===Q.DoubleSide,flipSided:n.side===Q.BackSide,depthPacking:void 0!==n.depthPacking&&n.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var o=0;o<i.length;o++)n.push(e[i[o]]);return n.join()},this.acquireProgram=function(e,r,i){for(var o,a=0,s=n.length;a<s;a++){var c=n[a];if(c.code===i){++(o=c).usedTimes;break}}return void 0===o&&(o=new Q.WebGLProgram(t,i,e,r),n.push(o)),o},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n},Q.WebGLProperties=function(){var t={};this.get=function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},this.delete=function(e){delete t[e.uuid]},this.clear=function(){t={}}},Q.WebGLShader=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(r),function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(n)),r},Q.WebGLShadowMap=function(t,e,n){var r=t.context,i=t.state,o=new Q.Frustum,a=new Q.Matrix4,s=e.shadows,c=new Q.Vector2,l=new Q.Vector3,u=new Q.Vector3,h=[],f=new Array(4),d=new Array(4),p={},g=[new Q.Vector3(1,0,0),new Q.Vector3(-1,0,0),new Q.Vector3(0,0,1),new Q.Vector3(0,0,-1),new Q.Vector3(0,1,0),new Q.Vector3(0,-1,0)],m=[new Q.Vector3(0,1,0),new Q.Vector3(0,1,0),new Q.Vector3(0,1,0),new Q.Vector3(0,1,0),new Q.Vector3(0,0,1),new Q.Vector3(0,0,-1)],v=[new Q.Vector4,new Q.Vector4,new Q.Vector4,new Q.Vector4,new Q.Vector4,new Q.Vector4],y=new Q.MeshDepthMaterial;y.depthPacking=Q.RGBADepthPacking,y.clipping=!0;for(var b=Q.ShaderLib.distanceRGBA,x=Q.UniformsUtils.clone(b.uniforms),_=0;4!==_;++_){var w=0!=(1&_),S=0!=(2&_),T=y.clone();T.morphTargets=w,T.skinning=S,f[_]=T;var M=new Q.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:x,vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,morphTargets:w,skinning:S,clipping:!0});d[_]=M}var A=this;function E(e,n,r,i){var o=e.geometry,a=null,s=f,c=e.customDepthMaterial;if(r&&(s=d,c=e.customDistanceMaterial),c)a=c;else{var l=0;void 0!==o.morphTargets&&o.morphTargets.length>0&&n.morphTargets&&(l|=1),e instanceof Q.SkinnedMesh&&n.skinning&&(l|=2),a=s[l]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var u=a.uuid,h=n.uuid,g=p[u];void 0===g&&(g={},p[u]=g);var m=g[h];void 0===m&&(m=a.clone(),g[h]=m),a=m}a.visible=n.visible,a.wireframe=n.wireframe;var v=n.side;return A.renderSingleSided&&v==Q.DoubleSide&&(v=Q.FrontSide),A.renderReverseSided&&(v===Q.FrontSide?v=Q.BackSide:v===Q.BackSide&&(v=Q.FrontSide)),a.side=v,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function C(t,e,n){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t instanceof Q.Mesh||t instanceof Q.Line||t instanceof Q.Points))if(t.castShadow&&(!1===t.frustumCulled||!0===o.intersectsObject(t)))!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),h.push(t));for(var r=t.children,i=0,a=r.length;i<a;i++)C(r[i],e,n)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Q.PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,f){if(!1!==A.enabled&&(!1!==A.autoUpdate||!1!==A.needsUpdate)&&0!==s.length){var d,p;i.clearColor(1,1,1,1),i.disable(r.BLEND),i.setDepthTest(!0),i.setScissorTest(!1);for(var y=0,b=s.length;y<b;y++){var x=s[y],_=x.shadow;if(void 0!==_){var w=_.camera;if(c.copy(_.mapSize),x instanceof Q.PointLight){d=6,p=!0;var S=c.x,T=c.y;v[0].set(2*S,T,S,T),v[1].set(0,T,S,T),v[2].set(3*S,T,S,T),v[3].set(S,T,S,T),v[4].set(3*S,0,S,T),v[5].set(S,0,S,T),c.x*=4,c.y*=2}else d=1,p=!1;if(null===_.map){var M={minFilter:Q.NearestFilter,magFilter:Q.NearestFilter,format:Q.RGBAFormat};_.map=new Q.WebGLRenderTarget(c.x,c.y,M),w.updateProjectionMatrix()}_ instanceof Q.SpotLightShadow&&_.update(x);var L=_.map,P=_.matrix;u.setFromMatrixPosition(x.matrixWorld),w.position.copy(u),t.setRenderTarget(L),t.clear();for(var k=0;k<d;k++){if(p){l.copy(w.position),l.add(g[k]),w.up.copy(m[k]),w.lookAt(l);var R=v[k];i.viewport(R)}else l.setFromMatrixPosition(x.target.matrixWorld),w.lookAt(l);w.updateMatrixWorld(),w.matrixWorldInverse.getInverse(w.matrixWorld),P.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),P.multiply(w.projectionMatrix),P.multiply(w.matrixWorldInverse),a.multiplyMatrices(w.projectionMatrix,w.matrixWorldInverse),o.setFromMatrix(a),h.length=0,C(e,f,w);for(var O=0,I=h.length;O<I;O++){var D=h[O],N=n.update(D),F=D.material;if(F instanceof Q.MultiMaterial)for(var G=N.groups,B=F.materials,V=0,z=G.length;V<z;V++){var U=G[V],j=B[U.materialIndex];if(!0===j.visible){var H=E(D,j,p,u);t.renderBufferDirect(w,null,N,H,D,U)}}else{H=E(D,F,p,u);t.renderBufferDirect(w,null,N,H,D,null)}}}}else console.warn("THREE.WebGLShadowMap:",x,"has no shadow.")}var W=t.getClearColor(),X=t.getClearAlpha();t.setClearColor(W,X),A.needsUpdate=!1}}},Q.WebGLState=function(t,e,n){var r=this;this.buffers={color:new Q.WebGLColorBuffer(t,this),depth:new Q.WebGLDepthBuffer(t,this),stencil:new Q.WebGLStencilBuffer(t,this)};var i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=new Uint8Array(i),a=new Uint8Array(i),s=new Uint8Array(i),c={},l=null,u=null,h=null,f=null,d=null,p=null,g=null,m=null,v=!1,y=null,b=null,x=null,_=null,w=null,S=null,T=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),M=null,A={},E=new Q.Vector4,C=new Q.Vector4;function L(e,n,r){var i=new Uint8Array(3),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<r;a++)t.texImage2D(n+a,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,i);return o}var P={};P[t.TEXTURE_2D]=L(t.TEXTURE_2D,t.TEXTURE_2D,1),P[t.TEXTURE_CUBE_MAP]=L(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(t.DEPTH_TEST),this.setDepthFunc(Q.LessEqualDepth),this.setFlipSided(!1),this.setCullFace(Q.CullFaceBack),this.enable(t.CULL_FACE),this.enable(t.BLEND),this.setBlending(Q.NormalBlending)},this.initAttributes=function(){for(var t=0,e=o.length;t<e;t++)o[t]=0},this.enableAttribute=function(n){(o[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),0!==s[n])&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),s[n]=0)},this.enableAttributeAndDivisor=function(e,n,r){o[e]=1,0===a[e]&&(t.enableVertexAttribArray(e),a[e]=1),s[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),s[e]=n)},this.disableUnusedAttributes=function(){for(var e=0,n=a.length;e!==n;++e)a[e]!==o[e]&&(t.disableVertexAttribArray(e),a[e]=0)},this.enable=function(e){!0!==c[e]&&(t.enable(e),c[e]=!0)},this.disable=function(e){!1!==c[e]&&(t.disable(e),c[e]=!1)},this.getCompressedTextureFormats=function(){if(null===l&&(l=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)l.push(n[r]);return l},this.setBlending=function(e,r,i,o,a,s,c,l){if(e===Q.NoBlending)return this.disable(t.BLEND),void(u=e);this.enable(t.BLEND),e===u&&l===v||(e===Q.AdditiveBlending?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===Q.SubtractiveBlending?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===Q.MultiplyBlending?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),u=e,v=l),e===Q.CustomBlending?(a=a||r,s=s||i,c=c||o,r===h&&a===p||(t.blendEquationSeparate(n(r),n(a)),h=r,p=a),i===f&&o===d&&s===g&&c===m||(t.blendFuncSeparate(n(i),n(o),n(s),n(c)),f=i,d=o,g=s,m=c)):(h=null,f=null,d=null,p=null,g=null,m=null)},this.setColorWrite=function(t){this.buffers.color.setMask(t)},this.setDepthTest=function(t){this.buffers.depth.setTest(t)},this.setDepthWrite=function(t){this.buffers.depth.setMask(t)},this.setDepthFunc=function(t){this.buffers.depth.setFunc(t)},this.setStencilTest=function(t){this.buffers.stencil.setTest(t)},this.setStencilWrite=function(t){this.buffers.stencil.setMask(t)},this.setStencilFunc=function(t,e,n){this.buffers.stencil.setFunc(t,e,n)},this.setStencilOp=function(t,e,n){this.buffers.stencil.setOp(t,e,n)},this.setFlipSided=function(e){y!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),y=e)},this.setCullFace=function(e){e!==Q.CullFaceNone?(this.enable(t.CULL_FACE),e!==b&&(e===Q.CullFaceBack?t.cullFace(t.BACK):e===Q.CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):this.disable(t.CULL_FACE),b=e},this.setLineWidth=function(e){e!==x&&(t.lineWidth(e),x=e)},this.setPolygonOffset=function(e,n,r){e?(this.enable(t.POLYGON_OFFSET_FILL),_===n&&w===r||(t.polygonOffset(n,r),_=n,w=r)):this.disable(t.POLYGON_OFFSET_FILL)},this.getScissorTest=function(){return S},this.setScissorTest=function(e){S=e,e?this.enable(t.SCISSOR_TEST):this.disable(t.SCISSOR_TEST)},this.activeTexture=function(e){void 0===e&&(e=t.TEXTURE0+T-1),M!==e&&(t.activeTexture(e),M=e)},this.bindTexture=function(e,n){null===M&&r.activeTexture();var i=A[M];void 0===i&&(i={type:void 0,texture:void 0},A[M]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||P[e]),i.type=e,i.texture=n)},this.compressedTexImage2D=function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(t)}},this.texImage2D=function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(t)}},this.clearColor=function(t,e,n,r){this.buffers.color.setClear(t,e,n,r)},this.clearDepth=function(t){this.buffers.depth.setClear(t)},this.clearStencil=function(t){this.buffers.stencil.setClear(t)},this.scissor=function(e){!1===E.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),E.copy(e))},this.viewport=function(e){!1===C.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),C.copy(e))},this.reset=function(){for(var e=0;e<a.length;e++)1===a[e]&&(t.disableVertexAttribArray(e),a[e]=0);c={},l=null,M=null,A={},u=null,y=null,b=null,this.buffers.color.reset(),this.buffers.depth.reset(),this.buffers.stencil.reset()}},Q.WebGLColorBuffer=function(t,e){var n=!1,r=new Q.Vector4,i=null,o=new Q.Vector4;this.setMask=function(e){i===e||n||(t.colorMask(e,e,e,e),i=e)},this.setLocked=function(t){n=t},this.setClear=function(e,n,i,a){r.set(e,n,i,a),!1===o.equals(r)&&(t.clearColor(e,n,i,a),o.copy(r))},this.reset=function(){n=!1,i=null,o=new Q.Vector4}},Q.WebGLDepthBuffer=function(t,e){var n=!1,r=null,i=null,o=null;this.setTest=function(n){n?e.enable(t.DEPTH_TEST):e.disable(t.DEPTH_TEST)},this.setMask=function(e){r===e||n||(t.depthMask(e),r=e)},this.setFunc=function(e){if(i!==e){if(e)switch(e){case Q.NeverDepth:t.depthFunc(t.NEVER);break;case Q.AlwaysDepth:t.depthFunc(t.ALWAYS);break;case Q.LessDepth:t.depthFunc(t.LESS);break;case Q.LessEqualDepth:t.depthFunc(t.LEQUAL);break;case Q.EqualDepth:t.depthFunc(t.EQUAL);break;case Q.GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case Q.GreaterDepth:t.depthFunc(t.GREATER);break;case Q.NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);i=e}},this.setLocked=function(t){n=t},this.setClear=function(e){o!==e&&(t.clearDepth(e),o=e)},this.reset=function(){n=!1,r=null,i=null,o=null}},Q.WebGLStencilBuffer=function(t,e){var n=!1,r=null,i=null,o=null,a=null,s=null,c=null,l=null,u=null;this.setTest=function(n){n?e.enable(t.STENCIL_TEST):e.disable(t.STENCIL_TEST)},this.setMask=function(e){r===e||n||(t.stencilMask(e),r=e)},this.setFunc=function(e,n,r){i===e&&o===n&&a===r||(t.stencilFunc(e,n,r),i=e,o=n,a=r)},this.setOp=function(e,n,r){s===e&&c===n&&l===r||(t.stencilOp(e,n,r),s=e,c=n,l=r)},this.setLocked=function(t){n=t},this.setClear=function(e){u!==e&&(t.clearStencil(e),u=e)},this.reset=function(){n=!1,r=null,i=null,o=null,a=null,s=null,c=null,l=null,u=null}},Q.WebGLUniforms=function(){var t=function(){this.seq=[],this.map={}},e=[],n=[],r=function(t,n,r){var i=t[0];if(i<=0||i>0)return t;var o=n*r,a=e[o];if(void 0===a&&(a=new Float32Array(o),e[o]=a),0!==n){i.toArray(a,0);for(var s=1,c=0;s!==n;++s)c+=r,t[s].toArray(a,c)}return a},i=function(t,e){var r=n[e];void 0===r&&(r=new Int32Array(e),n[e]=r);for(var i=0;i!==e;++i)r[i]=t.allocTextureUnit();return r},o=function(t,e){t.uniform1f(this.addr,e)},a=function(t,e){t.uniform1i(this.addr,e)},s=function(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)},c=function(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)},l=function(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)},u=function(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)},h=function(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)},f=function(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)},d=function(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),e&&n.setTexture2D(e,r)},p=function(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),e&&n.setTextureCube(e,r)},g=function(t,e){t.uniform2iv(this.addr,e)},m=function(t,e){t.uniform3iv(this.addr,e)},v=function(t,e){t.uniform4iv(this.addr,e)},y=function(t,e){t.uniform1fv(this.addr,e)},b=function(t,e){t.uniform1iv(this.addr,e)},x=function(t,e){t.uniform2fv(this.addr,r(e,this.size,2))},_=function(t,e){t.uniform3fv(this.addr,r(e,this.size,3))},w=function(t,e){t.uniform4fv(this.addr,r(e,this.size,4))},S=function(t,e){t.uniformMatrix2fv(this.addr,!1,r(e,this.size,4))},T=function(t,e){t.uniformMatrix3fv(this.addr,!1,r(e,this.size,9))},M=function(t,e){t.uniformMatrix4fv(this.addr,!1,r(e,this.size,16))},A=function(t,e,n){var r=e.length,o=i(n,r);t.uniform1iv(this.addr,o);for(var a=0;a!==r;++a){var s=e[a];s&&n.setTexture2D(s,o[a])}},E=function(t,e,n){var r=e.length,o=i(n,r);t.uniform1iv(this.addr,o);for(var a=0;a!==r;++a){var s=e[a];s&&n.setTextureCube(s,o[a])}},C=function(t,e,n){this.id=t,this.addr=n,this.setValue=function(t){switch(t){case 5126:return o;case 35664:return s;case 35665:return c;case 35666:return l;case 35674:return u;case 35675:return h;case 35676:return f;case 35678:return d;case 35680:return p;case 5124:case 35670:return a;case 35667:case 35671:return g;case 35668:case 35672:return m;case 35669:case 35673:return v}}(e.type)},L=function(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return y;case 35664:return x;case 35665:return _;case 35666:return w;case 35674:return S;case 35675:return T;case 35676:return M;case 35678:return A;case 35680:return E;case 5124:case 35670:return b;case 35667:case 35671:return g;case 35668:case 35672:return m;case 35669:case 35673:return v}}(e.type)},P=function(e){this.id=e,t.call(this)};P.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var o=n[r];o.setValue(t,e[o.id])}};var k=/([\w\d_]+)(\])?(\[|\.)?/g,R=function(t,e){t.seq.push(e),t.map[e.id]=e},O=function(t,e,n){var r=t.name,i=r.length;for(k.lastIndex=0;;){var o=k.exec(r),a=k.lastIndex,s=o[1],c="]"===o[2],l=o[3];if(c&&(s|=0),void 0===l||"["===l&&a+2===i){R(n,void 0===l?new C(s,t,e):new L(s,t,e));break}var u=n.map[s];void 0===u&&(u=new P(s),R(n,u)),n=u}},I=function(e,n,r){t.call(this),this.renderer=r;for(var i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS),o=0;o!==i;++o){var a=e.getActiveUniform(n,o),s=a.name,c=e.getUniformLocation(n,s);O(a,c,this)}};return I.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},I.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},I.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},I.upload=function(t,e,n,r){for(var i=0,o=e.length;i!==o;++i){var a=e[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,r)}},I.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var o=t[r];o.id in e&&n.push(o)}return n},I.splitDynamic=function(t,e){for(var n=null,r=t.length,i=0,o=0;o!==r;++o){var a=t[o],s=e[a.id];s&&!0===s.dynamic?(null===n&&(n=[]),n.push(a)):(i<o&&(t[i]=a),++i)}return i<r&&(t.length=i),n},I.evalDynamic=function(t,e,n,r){for(var i=0,o=t.length;i!==o;++i){var a=e[t[i].id],s=a.onUpdateCallback;void 0!==s&&s.call(a,n,r)}},I}(),Q.LensFlarePlugin=function(t,e){var n,r,i,o,a,s,c,l,u=t.context,h=t.state;function f(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),f=new Uint16Array([0,1,2,0,2,3]);n=u.createBuffer(),r=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,n),u.bufferData(u.ARRAY_BUFFER,e,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),u.bufferData(u.ELEMENT_ARRAY_BUFFER,f,u.STATIC_DRAW),c=u.createTexture(),l=u.createTexture(),h.bindTexture(u.TEXTURE_2D,c),u.texImage2D(u.TEXTURE_2D,0,u.RGB,16,16,0,u.RGB,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),h.bindTexture(u.TEXTURE_2D,l),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,16,16,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),i={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},o=function(e){var n=u.createProgram(),r=u.createShader(u.FRAGMENT_SHADER),i=u.createShader(u.VERTEX_SHADER),o="precision "+t.getPrecision()+" float;\n";return u.shaderSource(r,o+e.fragmentShader),u.shaderSource(i,o+e.vertexShader),u.compileShader(r),u.compileShader(i),u.attachShader(n,r),u.attachShader(n,i),u.linkProgram(n),n}(i),a={vertex:u.getAttribLocation(o,"position"),uv:u.getAttribLocation(o,"uv")},s={renderType:u.getUniformLocation(o,"renderType"),map:u.getUniformLocation(o,"map"),occlusionMap:u.getUniformLocation(o,"occlusionMap"),opacity:u.getUniformLocation(o,"opacity"),color:u.getUniformLocation(o,"color"),scale:u.getUniformLocation(o,"scale"),rotation:u.getUniformLocation(o,"rotation"),screenPosition:u.getUniformLocation(o,"screenPosition")}}this.render=function(i,d,p){if(0!==e.length){var g=new Q.Vector3,m=p.w/p.z,v=.5*p.z,y=.5*p.w,b=16/p.w,x=new Q.Vector2(b*m,b),_=new Q.Vector3(1,1,0),w=new Q.Vector2(1,1),S=new Q.Box2;S.min.set(0,0),S.max.set(p.z-16,p.w-16),void 0===o&&f(),u.useProgram(o),h.initAttributes(),h.enableAttribute(a.vertex),h.enableAttribute(a.uv),h.disableUnusedAttributes(),u.uniform1i(s.occlusionMap,0),u.uniform1i(s.map,1),u.bindBuffer(u.ARRAY_BUFFER,n),u.vertexAttribPointer(a.vertex,2,u.FLOAT,!1,16,0),u.vertexAttribPointer(a.uv,2,u.FLOAT,!1,16,8),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),h.disable(u.CULL_FACE),h.setDepthWrite(!1);for(var T=0,M=e.length;T<M;T++){b=16/p.w,x.set(b*m,b);var A=e[T];if(g.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),g.applyMatrix4(d.matrixWorldInverse),g.applyProjection(d.projectionMatrix),_.copy(g),w.x=p.x+_.x*v+v-8,w.y=p.y+_.y*y+y-8,!0===S.containsPoint(w)){h.activeTexture(u.TEXTURE0),h.bindTexture(u.TEXTURE_2D,null),h.activeTexture(u.TEXTURE1),h.bindTexture(u.TEXTURE_2D,c),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGB,w.x,w.y,16,16,0),u.uniform1i(s.renderType,0),u.uniform2f(s.scale,x.x,x.y),u.uniform3f(s.screenPosition,_.x,_.y,_.z),h.disable(u.BLEND),h.enable(u.DEPTH_TEST),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),h.activeTexture(u.TEXTURE0),h.bindTexture(u.TEXTURE_2D,l),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,w.x,w.y,16,16,0),u.uniform1i(s.renderType,1),h.disable(u.DEPTH_TEST),h.activeTexture(u.TEXTURE1),h.bindTexture(u.TEXTURE_2D,c),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),A.positionScreen.copy(_),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),u.uniform1i(s.renderType,2),h.enable(u.BLEND);for(var E=0,C=A.lensFlares.length;E<C;E++){var L=A.lensFlares[E];L.opacity>.001&&L.scale>.001&&(_.x=L.x,_.y=L.y,_.z=L.z,b=L.size*L.scale/p.w,x.x=b*m,x.y=b,u.uniform3f(s.screenPosition,_.x,_.y,_.z),u.uniform2f(s.scale,x.x,x.y),u.uniform1f(s.rotation,L.rotation),u.uniform1f(s.opacity,L.opacity),u.uniform3f(s.color,L.color.r,L.color.g,L.color.b),h.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),t.setTexture2D(L.texture,1),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0))}}}h.enable(u.CULL_FACE),h.enable(u.DEPTH_TEST),h.setDepthWrite(!0),t.resetGLState()}}},Q.SpritePlugin=function(t,e){var n,r,i,o,a,s,c=t.context,l=t.state,u=new Q.Vector3,h=new Q.Quaternion,f=new Q.Vector3;function d(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),l=new Uint16Array([0,1,2,0,2,3]);n=c.createBuffer(),r=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,n),c.bufferData(c.ARRAY_BUFFER,e,c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),c.bufferData(c.ELEMENT_ARRAY_BUFFER,l,c.STATIC_DRAW),i=function(){var e=c.createProgram(),n=c.createShader(c.VERTEX_SHADER),r=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),c.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),c.compileShader(n),c.compileShader(r),c.attachShader(e,n),c.attachShader(e,r),c.linkProgram(e),e}(),o={position:c.getAttribLocation(i,"position"),uv:c.getAttribLocation(i,"uv")},a={uvOffset:c.getUniformLocation(i,"uvOffset"),uvScale:c.getUniformLocation(i,"uvScale"),rotation:c.getUniformLocation(i,"rotation"),scale:c.getUniformLocation(i,"scale"),color:c.getUniformLocation(i,"color"),map:c.getUniformLocation(i,"map"),opacity:c.getUniformLocation(i,"opacity"),modelViewMatrix:c.getUniformLocation(i,"modelViewMatrix"),projectionMatrix:c.getUniformLocation(i,"projectionMatrix"),fogType:c.getUniformLocation(i,"fogType"),fogDensity:c.getUniformLocation(i,"fogDensity"),fogNear:c.getUniformLocation(i,"fogNear"),fogFar:c.getUniformLocation(i,"fogFar"),fogColor:c.getUniformLocation(i,"fogColor"),alphaTest:c.getUniformLocation(i,"alphaTest")};var u=document.createElement("canvas");u.width=8,u.height=8;var h=u.getContext("2d");h.fillStyle="white",h.fillRect(0,0,8,8),(s=new Q.Texture(u)).needsUpdate=!0}function p(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(g,m){if(0!==e.length){void 0===i&&d(),c.useProgram(i),l.initAttributes(),l.enableAttribute(o.position),l.enableAttribute(o.uv),l.disableUnusedAttributes(),l.disable(c.CULL_FACE),l.enable(c.BLEND),c.bindBuffer(c.ARRAY_BUFFER,n),c.vertexAttribPointer(o.position,2,c.FLOAT,!1,16,0),c.vertexAttribPointer(o.uv,2,c.FLOAT,!1,16,8),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),c.uniformMatrix4fv(a.projectionMatrix,!1,m.projectionMatrix.elements),l.activeTexture(c.TEXTURE0),c.uniform1i(a.map,0);var v=0,y=0,b=g.fog;b?(c.uniform3f(a.fogColor,b.color.r,b.color.g,b.color.b),b instanceof Q.Fog?(c.uniform1f(a.fogNear,b.near),c.uniform1f(a.fogFar,b.far),c.uniform1i(a.fogType,1),v=1,y=1):b instanceof Q.FogExp2&&(c.uniform1f(a.fogDensity,b.density),c.uniform1i(a.fogType,2),v=2,y=2)):(c.uniform1i(a.fogType,0),v=0,y=0);for(var x=0,_=e.length;x<_;x++){(S=e[x]).modelViewMatrix.multiplyMatrices(m.matrixWorldInverse,S.matrixWorld),S.z=-S.modelViewMatrix.elements[14]}e.sort(p);var w=[];for(x=0,_=e.length;x<_;x++){var S,T=(S=e[x]).material;c.uniform1f(a.alphaTest,T.alphaTest),c.uniformMatrix4fv(a.modelViewMatrix,!1,S.modelViewMatrix.elements),S.matrixWorld.decompose(u,h,f),w[0]=f.x,w[1]=f.y;var M=0;g.fog&&T.fog&&(M=y),v!==M&&(c.uniform1i(a.fogType,M),v=M),null!==T.map?(c.uniform2f(a.uvOffset,T.map.offset.x,T.map.offset.y),c.uniform2f(a.uvScale,T.map.repeat.x,T.map.repeat.y)):(c.uniform2f(a.uvOffset,0,0),c.uniform2f(a.uvScale,1,1)),c.uniform1f(a.opacity,T.opacity),c.uniform3f(a.color,T.color.r,T.color.g,T.color.b),c.uniform1f(a.rotation,T.rotation),c.uniform2fv(a.scale,w),l.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst),l.setDepthTest(T.depthTest),l.setDepthWrite(T.depthWrite),T.map?t.setTexture2D(T.map,0):t.setTexture2D(s,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)}l.enable(c.CULL_FACE),t.resetGLState()}}},Object.assign(Q,{Face4:function(t,e,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Q.Face3(t,e,n,i,o,a)},LineStrip:0,LinePieces:1,MeshFaceMaterial:Q.MultiMaterial,PointCloud:function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Q.Points(t,e)},Particle:Q.Sprite,ParticleSystem:function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Q.Points(t,e)},PointCloudMaterial:function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Q.PointsMaterial(t)},ParticleBasicMaterial:function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Q.PointsMaterial(t)},ParticleSystemMaterial:function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Q.PointsMaterial(t)},Vertex:function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Q.Vector3(t,e,n)}}),Object.assign(Q.Box2.prototype,{empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)}}),Object.assign(Q.Box3.prototype,{empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Q.Matrix3.prototype,{multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)}}),Object.assign(Q.Matrix4.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(t){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(t){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(t){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(t){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(t,e){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}}),Object.assign(Q.Plane.prototype,{isIntersectionLine:function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)}}),Object.assign(Q.Quaternion.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)}}),Object.assign(Q.Ray.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Q.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)}}),Object.assign(Q.Object3D.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(t){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(Q.Object3D.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(t){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Q.LOD.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Q.PerspectiveCamera.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Q.Light.prototype,{onlyShadow:{set:function(t){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(t){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Q.BufferAttribute.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count."),this.array.length}}}),Object.assign(Q.BufferGeometry.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Q.BufferGeometry.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Q.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(t){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new Q.Color}}}),Object.defineProperties(Q.MeshPhongMaterial.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(t){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Q.ShaderMaterial.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Q.EventDispatcher.prototype=Object.assign(Object.create({constructor:Q.EventDispatcher,apply:function(t){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(t,this)}}),Q.EventDispatcher.prototype),Object.assign(Q.WebGLRenderer.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Q.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(Q.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?Q.CullFaceFront:Q.CullFaceBack},set:function(t){var e=t!==Q.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(Q.WebGLRenderTarget.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.assign(Q.Audio.prototype,{load:function(t){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");var e=this;return(new Q.AudioLoader).load(t,(function(t){e.setBuffer(t)})),this}}),Object.assign(Q.AudioAnalyser.prototype,{getData:function(t){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()}}),Q.GeometryUtils={merge:function(t,e,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e instanceof Q.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Q.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Q.TextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadTextureCube:function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Q.CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var o=i.load(t,n,void 0,r);return e&&(o.mapping=e),o},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},Q.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(t,e){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},Q.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Q.CurveUtils={tangentQuadraticBezier:function(t,e,n,r){return 2*(1-t)*(n-e)+2*t*(r-n)},tangentCubicBezier:function(t,e,n,r,i){return-3*e*(1-t)*(1-t)+3*n*(1-t)*(1-t)-6*t*n*(1-t)+6*t*r*(1-t)-3*t*t*r+3*t*t*i},tangentSpline:function(t,e,n,r,i){return 6*t*t-6*t+(3*t*t-4*t+1)+(-6*t*t+6*t)+(3*t*t-2*t)},interpolate:function(t,e,n,r,i){var o=.5*(n-t),a=.5*(r-e),s=i*i;return(2*e-2*n+o+a)*(i*s)+(-3*e+3*n-2*o-a)*s+o*i+e}},Q.SceneUtils={createMultiMaterialObject:function(t,e){for(var n=new Q.Group,r=0,i=e.length;r<i;r++)n.add(new Q.Mesh(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new Q.Matrix4;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},Q.ShapeUtils={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,o){var a,s,c,l,u,h,f,d,p,g,m,v,y,b,x,_,w;if(s=t[o[e]].x,c=t[o[e]].y,l=t[o[n]].x,u=t[o[n]].y,h=t[o[r]].x,f=t[o[r]].y,Number.EPSILON>(l-s)*(f-c)-(u-c)*(h-s))return!1;for(g=h-l,m=f-u,v=s-h,y=c-f,b=l-s,x=u-c,a=0;a<i;a++)if(d=t[o[a]].x,p=t[o[a]].y,!(d===s&&p===c||d===l&&p===u||d===h&&p===f)&&(_=b*(p-c)-x*(d-s),w=v*(p-f)-y*(d-h),g*(p-u)-m*(d-l)>=-Number.EPSILON&&w>=-Number.EPSILON&&_>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,o,a,s=[],c=[],l=[];if(Q.ShapeUtils.area(e)>0)for(o=0;o<r;o++)c[o]=o;else for(o=0;o<r;o++)c[o]=r-1-o;var u=r,h=2*u;for(o=u-1;u>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),n?l:s;if(u<=(i=o)&&(i=0),u<=(o=i+1)&&(o=0),u<=(a=o+1)&&(a=0),t(e,i,o,a,u,c)){var f,d,p,g,m;for(f=c[i],d=c[o],p=c[a],s.push([e[f],e[d],e[p]]),l.push([c[i],c[o],c[a]]),g=o,m=o+1;m<u;g++,m++)c[g]=c[m];h=2*--u}}return n?l:s}}(),triangulateShape:function(t,e){function n(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function r(t,e,r,i,o){var a=e.x-t.x,s=e.y-t.y,c=i.x-r.x,l=i.y-r.y,u=t.x-r.x,h=t.y-r.y,f=s*c-a*l,d=s*u-a*h;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];if((p=l*u-c*h)<0||p>f)return[]}else{if(d>0||d<f)return[];if((p=l*u-c*h)>0||p<f)return[]}if(0===p)return!o||0!==d&&d!==f?[t]:[];if(p===f)return!o||0!==d&&d!==f?[e]:[];if(0===d)return[r];if(d===f)return[i];var g=p/f;return[{x:t.x+g*a,y:t.y+g*s}]}if(0!==d||l*u!=c*h)return[];var m,v,y,b,x,_,w,S,T=0===a&&0===s,M=0===c&&0===l;return T&&M?t.x!==r.x||t.y!==r.y?[]:[t]:T?n(r,i,t)?[t]:[]:M?n(t,e,r)?[r]:[]:(0!==a?(t.x<e.x?(m=t,y=t.x,v=e,b=e.x):(m=e,y=e.x,v=t,b=t.x),r.x<i.x?(x=r,w=r.x,_=i,S=i.x):(x=i,w=i.x,_=r,S=r.x)):(t.y<e.y?(m=t,y=t.y,v=e,b=e.y):(m=e,y=e.y,v=t,b=t.y),r.y<i.y?(x=r,w=r.y,_=i,S=i.y):(x=i,w=i.y,_=r,S=r.y)),y<=w?b<w?[]:b===w?o?[]:[x]:b<=S?[x,v]:[x,_]:y>S?[]:y===S?o?[]:[m]:b<=S?[m,v]:[m,_])}function i(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=n.x-t.x,s=n.y-t.y,c=r.x-t.x,l=r.y-t.y,u=i*s-o*a,h=i*l-o*c;if(Math.abs(u)>Number.EPSILON){var f=c*s-l*a;return u>0?h>=0&&f>=0:h>=0||f>=0}return h>0}for(var o,a,s,c,l,u,h={},f=t.concat(),d=0,p=e.length;d<p;d++)Array.prototype.push.apply(f,e[d]);for(o=0,a=f.length;o<a;o++)void 0!==h[l=f[o].x+":"+f[o].y]&&console.warn("THREE.Shape: Duplicate point",l),h[l]=o;var g=function(t,e){var n,o=t.concat();function a(t,e){var r=o.length-1,a=t-1;a<0&&(a=r);var s=t+1;s>r&&(s=0);var c=i(o[t],o[a],o[s],n[e]);if(!c)return!1;var l=n.length-1,u=e-1;u<0&&(u=l);var h=e+1;return h>l&&(h=0),!!(c=i(n[e],n[u],n[h],o[t]))}function s(t,e){var n,i;for(n=0;n<o.length;n++)if(i=n+1,i%=o.length,r(t,e,o[n],o[i],!0).length>0)return!0;return!1}var c=[];function l(t,n){var i,o,a,s;for(i=0;i<c.length;i++)for(o=e[c[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,r(t,n,o[a],o[s],!0).length>0)return!0;return!1}for(var u,h,f,d,p,g,m,v,y,b,x=[],_=0,w=e.length;_<w;_++)c.push(_);for(var S=0,T=2*c.length;c.length>0;){if(--T<0){console.log("Infinite Loop! Holes left:"+c.length+", Probably Hole outside Shape!");break}for(h=S;h<o.length;h++){f=o[h],u=-1;for(_=0;_<c.length;_++)if(p=c[_],void 0===x[g=f.x+":"+f.y+":"+p]){n=e[p];for(var M=0;M<n.length;M++)if(d=n[M],a(h,M)&&!s(f,d)&&!l(f,d)){u=M,c.splice(_,1),m=o.slice(0,h+1),v=o.slice(h),y=n.slice(u),b=n.slice(0,u+1),o=m.concat(y).concat(b).concat(v),S=h;break}if(u>=0)break;x[g]=!0}if(u>=0)break}}return o}(t,e),m=Q.ShapeUtils.triangulate(g,!1);for(o=0,a=m.length;o<a;o++)for(c=m[o],s=0;s<3;s++)void 0!==(u=h[l=c[s].x+":"+c[s].y])&&(c[s]=u);return m.concat()},isClockWise:function(t){return Q.ShapeUtils.area(t)<0},b2:function(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)},b3:function(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}},Q.Curve=function(){},Q.Curve.prototype={constructor:Q.Curve,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);var e,n=[];for(e=0;e<=t;e++)n.push(this.getPoint(e/t));return n},getSpacedPoints:function(t){t||(t=5);var e,n=[];for(e=0;e<=t;e++)n.push(this.getPointAt(e/t));return n},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),o=0;for(r.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(i),r.push(o),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,o=r.length;n=e||t*r[o-1];for(var a,s=0,c=o-1;s<=c;)if((a=r[i=Math.floor(s+(c-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(o-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)}},Q.Curve.create=function(t,e){return t.prototype=Object.create(Q.Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Q.CurvePath=function(){this.curves=[],this.autoClose=!1},Q.CurvePath.prototype=Object.assign(Object.create(Q.Curve.prototype),{constructor:Q.CurvePath,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Q.LineCurve(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,o=this.curves[r],a=1-i/o.getLength();return o.getPointAt(a)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Q.Geometry,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Q.Vector3(i.x,i.y,i.z||0))}return e}}),Q.Font=function(t){this.data=t},Object.assign(Q.Font.prototype,{generateShapes:function(t,e,n){function r(t,e,r){var o=i.glyphs[t]||i.glyphs["?"];if(o){var a,s,c,l,u,h,f,d,p,g,m,v=new Q.Path,y=[],b=Q.ShapeUtils.b2,x=Q.ShapeUtils.b3;if(o.o)for(var _=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),w=0,S=_.length;w<S;){switch(_[w++]){case"m":a=_[w++]*e+r,s=_[w++]*e,v.moveTo(a,s);break;case"l":a=_[w++]*e+r,s=_[w++]*e,v.lineTo(a,s);break;case"q":if(c=_[w++]*e+r,l=_[w++]*e,f=_[w++]*e+r,d=_[w++]*e,v.quadraticCurveTo(f,d,c,l),m=y[y.length-1]){u=m.x,h=m.y;for(var T=1;T<=n;T++){b(M=T/n,u,f,c),b(M,h,d,l)}}break;case"b":if(c=_[w++]*e+r,l=_[w++]*e,f=_[w++]*e+r,d=_[w++]*e,p=_[w++]*e+r,g=_[w++]*e,v.bezierCurveTo(f,d,p,g,c,l),m=y[y.length-1]){u=m.x,h=m.y;for(T=1;T<=n;T++){var M;x(M=T/n,u,f,p,c),x(M,h,d,g,l)}}}}return{offset:o.ha*e,path:v}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,o=function(t){for(var n=String(t).split(""),o=e/i.resolution,a=0,s=[],c=0;c<n.length;c++){var l=r(n[c],o,a);a+=l.offset,s.push(l.path)}return s}(t),a=[],s=0,c=o.length;s<c;s++)Array.prototype.push.apply(a,o[s].toShapes());return a}}),Q.Path=function(t){Q.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},Q.Path.prototype=Object.assign(Object.create(Q.CurvePath.prototype),{constructor:Q.Path,fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.actions.push({action:"moveTo",args:[t,e]})},lineTo:function(t,e){var n=this.actions[this.actions.length-1].args,r=n[n.length-2],i=n[n.length-1],o=new Q.LineCurve(new Q.Vector2(r,i),new Q.Vector2(t,e));this.curves.push(o),this.actions.push({action:"lineTo",args:[t,e]})},quadraticCurveTo:function(t,e,n,r){var i=this.actions[this.actions.length-1].args,o=i[i.length-2],a=i[i.length-1],s=new Q.QuadraticBezierCurve(new Q.Vector2(o,a),new Q.Vector2(t,e),new Q.Vector2(n,r));this.curves.push(s),this.actions.push({action:"quadraticCurveTo",args:[t,e,n,r]})},bezierCurveTo:function(t,e,n,r,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1],l=new Q.CubicBezierCurve(new Q.Vector2(s,c),new Q.Vector2(t,e),new Q.Vector2(n,r),new Q.Vector2(i,o));this.curves.push(l),this.actions.push({action:"bezierCurveTo",args:[t,e,n,r,i,o]})},splineThru:function(t){var e=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,r=n[n.length-2],i=n[n.length-1],o=[new Q.Vector2(r,i)];Array.prototype.push.apply(o,t);var a=new Q.SplineCurve(o);this.curves.push(a),this.actions.push({action:"splineThru",args:e})},arc:function(t,e,n,r,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],c=a[a.length-1];this.absarc(t+s,e+c,n,r,i,o)},absarc:function(t,e,n,r,i,o){this.absellipse(t,e,n,n,r,i,o)},ellipse:function(t,e,n,r,i,o,a,s){var c=this.actions[this.actions.length-1].args,l=c[c.length-2],u=c[c.length-1];this.absellipse(t+l,e+u,n,r,i,o,a,s)},absellipse:function(t,e,n,r,i,o,a,s){var c=[t,e,n,r,i,o,a,s||0],l=new Q.EllipseCurve(t,e,n,r,i,o,a,s);this.curves.push(l);var u=l.getPoint(1);c.push(u.x),c.push(u.y),this.actions.push({action:"ellipse",args:c})},getSpacedPoints:function(t){t||(t=40);for(var e=[],n=0;n<t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n,r,i,o,a,s,c,l,u,h,f=Q.ShapeUtils.b2,d=Q.ShapeUtils.b3,p=[],g=0,m=this.actions.length;g<m;g++){var v=this.actions[g],y=v.action,b=v.args;switch(y){case"moveTo":case"lineTo":p.push(new Q.Vector2(b[0],b[1]));break;case"quadraticCurveTo":e=b[2],n=b[3],o=b[0],a=b[1],p.length>0?(s=(l=p[p.length-1]).x,c=l.y):(s=(l=this.actions[g-1].args)[l.length-2],c=l[l.length-1]);for(var x=1;x<=t;x++){u=f(R=x/t,s,o,e),h=f(R,c,a,n),p.push(new Q.Vector2(u,h))}break;case"bezierCurveTo":e=b[4],n=b[5],o=b[0],a=b[1],r=b[2],i=b[3],p.length>0?(s=(l=p[p.length-1]).x,c=l.y):(s=(l=this.actions[g-1].args)[l.length-2],c=l[l.length-1]);for(x=1;x<=t;x++){u=d(R=x/t,s,o,r,e),h=d(R,c,a,i,n),p.push(new Q.Vector2(u,h))}break;case"splineThru":l=this.actions[g-1].args;var _=[new Q.Vector2(l[l.length-2],l[l.length-1])],w=t*b[0].length;_=_.concat(b[0]);var S=new Q.SplineCurve(_);for(x=1;x<=w;x++)p.push(S.getPointAt(x/w));break;case"arc":var T=b[0],M=b[1],A=b[2],E=b[3],C=b[4],L=!!b[5],P=C-E,k=2*t;for(x=1;x<=k;x++){var R=x/k;L||(R=1-R),O=E+R*P,u=T+A*Math.cos(O),h=M+A*Math.sin(O),p.push(new Q.Vector2(u,h))}break;case"ellipse":T=b[0],M=b[1];var O,I,D,N=b[2],F=b[3],G=(E=b[4],C=b[5],L=!!b[6],b[7]);P=C-E,k=2*t;0!==G&&(I=Math.cos(G),D=Math.sin(G));for(x=1;x<=k;x++){R=x/k;if(L||(R=1-R),O=E+R*P,u=T+N*Math.cos(O),h=M+F*Math.sin(O),0!==G){var B=u;u=(B-T)*I-(h-M)*D+T,h=(B-T)*D+(h-M)*I+M}p.push(new Q.Vector2(u,h))}}}var V=p[p.length-1];return Math.abs(V.x-p[0].x)<Number.EPSILON&&Math.abs(V.y-p[0].y)<Number.EPSILON&&p.splice(p.length-1,1),this.autoClose&&p.push(p[0]),p},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],o=new Q.Shape;o.actions=i.actions,o.curves=i.curves,e.push(o)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=e[i],s=e[o],c=s.x-a.x,l=s.y-a.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(a=e[o],c=-c,s=e[i],l=-l),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var u=l*(t.x-a.x)-c*(t.y-a.y);if(0===u)return!0;if(u<0)continue;r=!r}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return r}var i=Q.ShapeUtils.isClockWise,o=function(t){for(var e=[],n=new Q.Path,r=0,i=t.length;r<i;r++){var o=t[r],a=o.args,s=o.action;"moveTo"===s&&0!==n.actions.length&&(e.push(n),n=new Q.Path),n[s].apply(n,a)}return 0!==n.actions.length&&e.push(n),e}(this.actions);if(0===o.length)return[];if(!0===e)return n(o);var a,s,c,l=[];if(1===o.length)return s=o[0],(c=new Q.Shape).actions=s.actions,c.curves=s.curves,l.push(c),l;var u=!i(o[0].getPoints());u=t?!u:u;var h,f,d=[],p=[],g=[],m=0;p[m]=void 0,g[m]=[];for(var v=0,y=o.length;v<y;v++)a=i(h=(s=o[v]).getPoints()),(a=t?!a:a)?(!u&&p[m]&&m++,p[m]={s:new Q.Shape,p:h},p[m].s.actions=s.actions,p[m].s.curves=s.curves,u&&m++,g[m]=[]):g[m].push({h:s,p:h[0]});if(!p[0])return n(o);if(p.length>1){for(var b=!1,x=[],_=0,w=p.length;_<w;_++)d[_]=[];for(_=0,w=p.length;_<w;_++)for(var S=g[_],T=0;T<S.length;T++){for(var M=S[T],A=!0,E=0;E<p.length;E++)r(M.p,p[E].p)&&(_!==E&&x.push({froms:_,tos:E,hole:T}),A?(A=!1,d[E].push(M)):b=!0);A&&d[_].push(M)}x.length>0&&(b||(g=d))}v=0;for(var C=p.length;v<C;v++){c=p[v].s,l.push(c);for(var L=0,P=(f=g[v]).length;L<P;L++)c.holes.push(f[L].h)}return l}}),Q.Shape=function(){Q.Path.apply(this,arguments),this.holes=[]},Q.Shape.prototype=Object.assign(Object.create(Q.Path.prototype),{constructor:Q.Shape,extrude:function(t){return new Q.ExtrudeGeometry(this,t)},makeGeometry:function(t){return new Q.ShapeGeometry(this,t)},getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),Q.LineCurve=function(t,e){this.v1=t,this.v2=e},Q.LineCurve.prototype=Object.create(Q.Curve.prototype),Q.LineCurve.prototype.constructor=Q.LineCurve,Q.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},Q.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},Q.LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},Q.QuadraticBezierCurve=function(t,e,n){this.v0=t,this.v1=e,this.v2=n},Q.QuadraticBezierCurve.prototype=Object.create(Q.Curve.prototype),Q.QuadraticBezierCurve.prototype.constructor=Q.QuadraticBezierCurve,Q.QuadraticBezierCurve.prototype.getPoint=function(t){var e=Q.ShapeUtils.b2;return new Q.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},Q.QuadraticBezierCurve.prototype.getTangent=function(t){var e=Q.CurveUtils.tangentQuadraticBezier;return new Q.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()},Q.CubicBezierCurve=function(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r},Q.CubicBezierCurve.prototype=Object.create(Q.Curve.prototype),Q.CubicBezierCurve.prototype.constructor=Q.CubicBezierCurve,Q.CubicBezierCurve.prototype.getPoint=function(t){var e=Q.ShapeUtils.b3;return new Q.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},Q.CubicBezierCurve.prototype.getTangent=function(t){var e=Q.CurveUtils.tangentCubicBezier;return new Q.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},Q.SplineCurve=function(t){this.points=null==t?[]:t},Q.SplineCurve.prototype=Object.create(Q.Curve.prototype),Q.SplineCurve.prototype.constructor=Q.SplineCurve,Q.SplineCurve.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0===r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2],l=Q.CurveUtils.interpolate;return new Q.Vector2(l(o.x,a.x,s.x,c.x,i),l(o.y,a.y,s.y,c.y,i))},Q.EllipseCurve=function(t,e,n,r,i,o,a,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s||0},Q.EllipseCurve.prototype=Object.create(Q.Curve.prototype),Q.EllipseCurve.prototype.constructor=Q.EllipseCurve,Q.EllipseCurve.prototype.getPoint=function(t){var e,n=this.aEndAngle-this.aStartAngle;n<0&&(n+=2*Math.PI),n>2*Math.PI&&(n-=2*Math.PI),e=!0===this.aClockwise?this.aEndAngle+(1-t)*(2*Math.PI-n):this.aStartAngle+t*n;var r=this.aX+this.xRadius*Math.cos(e),i=this.aY+this.yRadius*Math.sin(e);if(0!==this.aRotation){var o=Math.cos(this.aRotation),a=Math.sin(this.aRotation),s=r,c=i;r=(s-this.aX)*o-(c-this.aY)*a+this.aX,i=(s-this.aX)*a+(c-this.aY)*o+this.aY}return new Q.Vector2(r,i)},Q.ArcCurve=function(t,e,n,r,i,o){Q.EllipseCurve.call(this,t,e,n,n,r,i,o)},Q.ArcCurve.prototype=Object.create(Q.EllipseCurve.prototype),Q.ArcCurve.prototype.constructor=Q.ArcCurve,Q.LineCurve3=Q.Curve.create((function(t,e){this.v1=t,this.v2=e}),(function(t){var e=new Q.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e})),Q.QuadraticBezierCurve3=Q.Curve.create((function(t,e,n){this.v0=t,this.v1=e,this.v2=n}),(function(t){var e=Q.ShapeUtils.b2;return new Q.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))})),Q.CubicBezierCurve3=Q.Curve.create((function(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}),(function(t){var e=Q.ShapeUtils.b3;return new Q.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))})),Q.SplineCurve3=Q.Curve.create((function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=null==t?[]:t}),(function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,o=e[0==r?r:r-1],a=e[r],s=e[r>e.length-2?e.length-1:r+1],c=e[r>e.length-3?e.length-1:r+2],l=Q.CurveUtils.interpolate;return new Q.Vector3(l(o.x,a.x,s.x,c.x,i),l(o.y,a.y,s.y,c.y,i),l(o.z,a.z,s.z,c.z,i))})),Q.CatmullRomCurve3=function(){var t=new Q.Vector3,e=new i,n=new i,r=new i;function i(){}return i.prototype.init=function(t,e,n,r){this.c0=t,this.c1=n,this.c2=-3*t+3*e-2*n-r,this.c3=2*t-2*e+n+r},i.prototype.initNonuniformCatmullRom=function(t,e,n,r,i,o,a){var s=(e-t)/i-(n-t)/(i+o)+(n-e)/o,c=(n-e)/o-(r-e)/(o+a)+(r-n)/a;s*=o,c*=o,this.init(e,n,s,c)},i.prototype.initCatmullRom=function(t,e,n,r,i){this.init(e,n,i*(n-t),i*(r-e))},i.prototype.calc=function(t){var e=t*t,n=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*n},Q.Curve.create((function(t){this.points=t||[],this.closed=!1}),(function(i){var o,a,s,c,l,u,h,f,d=this.points;if((c=d.length)<2&&console.log("duh, you need at least 2 points"),s=(o=(c-(this.closed?0:1))*i)-(a=Math.floor(o)),this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/d.length)+1)*d.length:0===s&&a===c-1&&(a=c-2,s=1),this.closed||a>0?l=d[(a-1)%c]:(t.subVectors(d[0],d[1]).add(d[0]),l=t),u=d[a%c],h=d[(a+1)%c],this.closed||a+2<c?f=d[(a+2)%c]:(t.subVectors(d[c-1],d[c-2]).add(d[c-1]),f=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var p="chordal"===this.type?.5:.25,g=Math.pow(l.distanceToSquared(u),p),m=Math.pow(u.distanceToSquared(h),p),v=Math.pow(h.distanceToSquared(f),p);m<1e-4&&(m=1),g<1e-4&&(g=m),v<1e-4&&(v=m),e.initNonuniformCatmullRom(l.x,u.x,h.x,f.x,g,m,v),n.initNonuniformCatmullRom(l.y,u.y,h.y,f.y,g,m,v),r.initNonuniformCatmullRom(l.z,u.z,h.z,f.z,g,m,v)}else if("catmullrom"===this.type){var y=void 0!==this.tension?this.tension:.5;e.initCatmullRom(l.x,u.x,h.x,f.x,y),n.initCatmullRom(l.y,u.y,h.y,f.y,y),r.initCatmullRom(l.z,u.z,h.z,f.z,y)}return new Q.Vector3(e.calc(s),n.calc(s),r.calc(s))}))}(),Q.ClosedSplineCurve3=function(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3."),Q.CatmullRomCurve3.call(this,t),this.type="catmullrom",this.closed=!0},Q.ClosedSplineCurve3.prototype=Object.create(Q.CatmullRomCurve3.prototype),Q.BoxGeometry=function(t,e,n,r,i,o){Q.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new Q.BoxBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()},Q.BoxGeometry.prototype=Object.create(Q.Geometry.prototype),Q.BoxGeometry.prototype.constructor=Q.BoxGeometry,Q.CubeGeometry=Q.BoxGeometry,Q.BoxBufferGeometry=function(t,e,n,r,i,o){Q.BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};var a,s,c,l,u=this,h=function(t,e,n){var r=0;return r+=(t+1)*(e+1)*2,r+=(t+1)*(n+1)*2,r+=(n+1)*(e+1)*2}(r=Math.floor(r)||1,i=Math.floor(i)||1,o=Math.floor(o)||1),f=(l=0,l+=(a=r)*(s=i)*2,l+=a*(c=o)*2,6*(l+=c*s*2)),d=new(f>65535?Uint32Array:Uint16Array)(f),p=new Float32Array(3*h),g=new Float32Array(3*h),m=new Float32Array(2*h),v=0,y=0,b=0,x=0,_=0;function w(t,e,n,r,i,o,a,s,c,l,h){for(var f=o/c,w=a/l,S=o/2,T=a/2,M=s/2,A=c+1,E=l+1,C=0,L=0,P=new Q.Vector3,k=0;k<E;k++)for(var R=k*w-T,O=0;O<A;O++){var I=O*f-S;P[t]=I*r,P[e]=R*i,P[n]=M,p[v]=P.x,p[v+1]=P.y,p[v+2]=P.z,P[t]=0,P[e]=0,P[n]=s>0?1:-1,g[v]=P.x,g[v+1]=P.y,g[v+2]=P.z,m[y]=O/c,m[y+1]=1-k/l,v+=3,y+=2,C+=1}for(k=0;k<l;k++)for(O=0;O<c;O++){var D=x+O+A*k,N=x+O+A*(k+1),F=x+(O+1)+A*(k+1),G=x+(O+1)+A*k;d[b]=D,d[b+1]=N,d[b+2]=G,d[b+3]=N,d[b+4]=F,d[b+5]=G,b+=6,L+=6}u.addGroup(_,L,h),_+=L,x+=C}w("z","y","x",-1,-1,n,e,t,o,i,0),w("z","y","x",1,-1,n,e,-t,o,i,1),w("x","z","y",1,1,t,n,e,r,o,2),w("x","z","y",1,-1,t,n,-e,r,o,3),w("x","y","z",1,-1,t,e,n,r,i,4),w("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(new Q.BufferAttribute(d,1)),this.addAttribute("position",new Q.BufferAttribute(p,3)),this.addAttribute("normal",new Q.BufferAttribute(g,3)),this.addAttribute("uv",new Q.BufferAttribute(m,2))},Q.BoxBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.BoxBufferGeometry.prototype.constructor=Q.BoxBufferGeometry,Q.CircleGeometry=function(t,e,n,r){Q.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Q.CircleBufferGeometry(t,e,n,r))},Q.CircleGeometry.prototype=Object.create(Q.Geometry.prototype),Q.CircleGeometry.prototype.constructor=Q.CircleGeometry,Q.CircleBufferGeometry=function(t,e,n,r){Q.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=e+2,o=new Float32Array(3*i),a=new Float32Array(3*i),s=new Float32Array(2*i);a[2]=1,s[0]=.5,s[1]=.5;for(var c=0,l=3,u=2;c<=e;c++,l+=3,u+=2){var h=n+c/e*r;o[l]=t*Math.cos(h),o[l+1]=t*Math.sin(h),a[l+2]=1,s[u]=(o[l]/t+1)/2,s[u+1]=(o[l+1]/t+1)/2}var f=[];for(l=1;l<=e;l++)f.push(l,l+1,0);this.setIndex(new Q.BufferAttribute(new Uint16Array(f),1)),this.addAttribute("position",new Q.BufferAttribute(o,3)),this.addAttribute("normal",new Q.BufferAttribute(a,3)),this.addAttribute("uv",new Q.BufferAttribute(s,2)),this.boundingSphere=new Q.Sphere(new Q.Vector3,t)},Q.CircleBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.CircleBufferGeometry.prototype.constructor=Q.CircleBufferGeometry,Q.CylinderBufferGeometry=function(t,e,n,r,i,o,a,s){Q.BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var c=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var l=0;!1===o&&(t>0&&l++,e>0&&l++);var u=function(){var t=(r+1)*(i+1);!1===o&&(t+=(r+1)*l+r*l);return t}(),h=function(){var t=r*i*2*3;!1===o&&(t+=r*l*3);return t}(),f=new Q.BufferAttribute(new(h>65535?Uint32Array:Uint16Array)(h),1),d=new Q.BufferAttribute(new Float32Array(3*u),3),p=new Q.BufferAttribute(new Float32Array(3*u),3),g=new Q.BufferAttribute(new Float32Array(2*u),2),m=0,v=0,y=[],b=n/2,x=0;function _(n){var i,o,l,u=new Q.Vector2,h=new Q.Vector3,y=0,_=!0===n?t:e,w=!0===n?1:-1;for(o=m,i=1;i<=r;i++)d.setXYZ(m,0,b*w,0),p.setXYZ(m,0,w,0),u.x=.5,u.y=.5,g.setXY(m,u.x,u.y),m++;for(l=m,i=0;i<=r;i++){var S=i/r*s+a,T=Math.cos(S),M=Math.sin(S);h.x=_*M,h.y=b*w,h.z=_*T,d.setXYZ(m,h.x,h.y,h.z),p.setXYZ(m,0,w,0),u.x=.5*T+.5,u.y=.5*M*w+.5,g.setXY(m,u.x,u.y),m++}for(i=0;i<r;i++){var A=o+i,E=l+i;!0===n?(f.setX(v,E),v++,f.setX(v,E+1),v++,f.setX(v,A),v++):(f.setX(v,E+1),v++,f.setX(v,E),v++,f.setX(v,A),v++),y+=3}c.addGroup(x,y,!0===n?1:2),x+=y}!function(){var o,l,u=new Q.Vector3,h=new Q.Vector3,_=0,w=(e-t)/n;for(l=0;l<=i;l++){var S=[],T=l/i,M=T*(e-t)+t;for(o=0;o<=r;o++){var A=o/r;h.x=M*Math.sin(A*s+a),h.y=-T*n+b,h.z=M*Math.cos(A*s+a),d.setXYZ(m,h.x,h.y,h.z),u.copy(h),(0===t&&0===l||0===e&&l===i)&&(u.x=Math.sin(A*s+a),u.z=Math.cos(A*s+a)),u.setY(Math.sqrt(u.x*u.x+u.z*u.z)*w).normalize(),p.setXYZ(m,u.x,u.y,u.z),g.setXY(m,A,1-T),S.push(m),m++}y.push(S)}for(o=0;o<r;o++)for(l=0;l<i;l++){var E=y[l][o],C=y[l+1][o],L=y[l+1][o+1],P=y[l][o+1];f.setX(v,E),v++,f.setX(v,C),v++,f.setX(v,P),v++,f.setX(v,C),v++,f.setX(v,L),v++,f.setX(v,P),v++,_+=6}c.addGroup(x,_,0),x+=_}(),!1===o&&(t>0&&_(!0),e>0&&_(!1)),this.setIndex(f),this.addAttribute("position",d),this.addAttribute("normal",p),this.addAttribute("uv",g)},Q.CylinderBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.CylinderBufferGeometry.prototype.constructor=Q.CylinderBufferGeometry,Q.CylinderGeometry=function(t,e,n,r,i,o,a,s){Q.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Q.CylinderBufferGeometry(t,e,n,r,i,o,a,s)),this.mergeVertices()},Q.CylinderGeometry.prototype=Object.create(Q.Geometry.prototype),Q.CylinderGeometry.prototype.constructor=Q.CylinderGeometry,Q.ConeBufferGeometry=function(t,e,n,r,i,o,a){Q.CylinderBufferGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,thetaStart:o,thetaLength:a}},Q.ConeBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.ConeBufferGeometry.prototype.constructor=Q.ConeBufferGeometry,Q.ConeGeometry=function(t,e,n,r,i,o,a){Q.CylinderGeometry.call(this,0,t,e,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}},Q.ConeGeometry.prototype=Object.create(Q.CylinderGeometry.prototype),Q.ConeGeometry.prototype.constructor=Q.ConeGeometry,Q.EdgesGeometry=function(t,e){Q.BufferGeometry.call(this),e=void 0!==e?e:1;var n=Math.cos(Q.Math.DEG2RAD*e),r=[0,0],i={};function o(t,e){return t-e}var a,s=["a","b","c"];t instanceof Q.BufferGeometry?(a=new Q.Geometry).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,l=a.faces,u=0,h=l.length;u<h;u++)for(var f=l[u],d=0;d<3;d++){r[0]=f[s[d]],r[1]=f[s[(d+1)%3]],r.sort(o),void 0===i[g=r.toString()]?i[g]={vert1:r[0],vert2:r[1],face1:u,face2:void 0}:i[g].face2=u}var p=[];for(var g in i){var m=i[g];if(void 0===m.face2||l[m.face1].normal.dot(l[m.face2].normal)<=n){var v=c[m.vert1];p.push(v.x),p.push(v.y),p.push(v.z),v=c[m.vert2],p.push(v.x),p.push(v.y),p.push(v.z)}}this.addAttribute("position",new Q.BufferAttribute(new Float32Array(p),3))},Q.EdgesGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.EdgesGeometry.prototype.constructor=Q.EdgesGeometry,Q.ExtrudeGeometry=function(t,e){void 0!==t?(Q.Geometry.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]},Q.ExtrudeGeometry.prototype=Object.create(Q.Geometry.prototype),Q.ExtrudeGeometry.prototype.constructor=Q.ExtrudeGeometry,Q.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},Q.ExtrudeGeometry.prototype.addShape=function(t,e){var n,r,i,o,a,s,c,l,u=void 0!==e.amount?e.amount:100,h=void 0!==e.bevelThickness?e.bevelThickness:6,f=void 0!==e.bevelSize?e.bevelSize:h-2,d=void 0!==e.bevelSegments?e.bevelSegments:3,p=void 0===e.bevelEnabled||e.bevelEnabled,g=void 0!==e.curveSegments?e.curveSegments:12,m=void 0!==e.steps?e.steps:1,v=e.extrudePath,y=!1,b=void 0!==e.UVGenerator?e.UVGenerator:Q.ExtrudeGeometry.WorldUVGenerator;v&&(n=v.getSpacedPoints(m),y=!0,p=!1,r=void 0!==e.frames?e.frames:new Q.TubeGeometry.FrenetFrames(v,m,!1),i=new Q.Vector3,o=new Q.Vector3,a=new Q.Vector3),p||(d=0,h=0,f=0);var x=this,_=this.vertices.length,w=t.extractPoints(g),S=w.shape,T=w.holes,M=!Q.ShapeUtils.isClockWise(S);if(M){for(S=S.reverse(),c=0,l=T.length;c<l;c++)s=T[c],Q.ShapeUtils.isClockWise(s)&&(T[c]=s.reverse());M=!1}var A=Q.ShapeUtils.triangulateShape(S,T),E=S;for(c=0,l=T.length;c<l;c++)s=T[c],S=S.concat(s);function C(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var L,P,k,R,O,I,D=S.length,N=A.length;function F(t,e,n){var r,i,o=1,a=t.x-e.x,s=t.y-e.y,c=n.x-t.x,l=n.y-t.y,u=a*a+s*s,h=a*l-s*c;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(u),d=Math.sqrt(c*c+l*l),p=e.x-s/f,g=e.y+a/f,m=((n.x-l/d-p)*l-(n.y+c/d-g)*c)/(a*l-s*c),v=(r=p+a*m-t.x)*r+(i=g+s*m-t.y)*i;if(v<=2)return new Q.Vector2(r,i);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?c>Number.EPSILON&&(y=!0):a<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new Q.Vector2(r/o,i/o)}for(var G=[],B=0,V=E.length,z=V-1,U=B+1;B<V;B++,z++,U++)z===V&&(z=0),U===V&&(U=0),G[B]=F(E[B],E[z],E[U]);var j,H,W=[],X=G.concat();for(c=0,l=T.length;c<l;c++){for(s=T[c],j=[],B=0,z=(V=s.length)-1,U=B+1;B<V;B++,z++,U++)z===V&&(z=0),U===V&&(U=0),j[B]=F(s[B],s[z],s[U]);W.push(j),X=X.concat(j)}for(L=0;L<d;L++){for(R=h*(1-(k=L/d)),P=f*Math.sin(k*Math.PI/2),B=0,V=E.length;B<V;B++)q((O=C(E[B],G[B],P)).x,O.y,-R);for(c=0,l=T.length;c<l;c++)for(s=T[c],j=W[c],B=0,V=s.length;B<V;B++)q((O=C(s[B],j[B],P)).x,O.y,-R)}for(P=f,B=0;B<D;B++)O=p?C(S[B],X[B],P):S[B],y?(o.copy(r.normals[0]).multiplyScalar(O.x),i.copy(r.binormals[0]).multiplyScalar(O.y),a.copy(n[0]).add(o).add(i),q(a.x,a.y,a.z)):q(O.x,O.y,0);for(H=1;H<=m;H++)for(B=0;B<D;B++)O=p?C(S[B],X[B],P):S[B],y?(o.copy(r.normals[H]).multiplyScalar(O.x),i.copy(r.binormals[H]).multiplyScalar(O.y),a.copy(n[H]).add(o).add(i),q(a.x,a.y,a.z)):q(O.x,O.y,u/m*H);for(L=d-1;L>=0;L--){for(R=h*(1-(k=L/d)),P=f*Math.sin(k*Math.PI/2),B=0,V=E.length;B<V;B++)q((O=C(E[B],G[B],P)).x,O.y,u+R);for(c=0,l=T.length;c<l;c++)for(s=T[c],j=W[c],B=0,V=s.length;B<V;B++)O=C(s[B],j[B],P),y?q(O.x,O.y+n[m-1].y,n[m-1].x+R):q(O.x,O.y,u+R)}function Y(t,e){var n,r;for(B=t.length;--B>=0;){n=B,(r=B-1)<0&&(r=t.length-1);var i=0,o=m+2*d;for(i=0;i<o;i++){var a=D*i,s=D*(i+1);$(e+n+a,e+r+a,e+r+s,e+n+s,t,i,o,n,r)}}}function q(t,e,n){x.vertices.push(new Q.Vector3(t,e,n))}function Z(t,e,n){t+=_,e+=_,n+=_,x.faces.push(new Q.Face3(t,e,n,null,null,0));var r=b.generateTopUV(x,t,e,n);x.faceVertexUvs[0].push(r)}function $(t,e,n,r,i,o,a,s,c){t+=_,e+=_,n+=_,r+=_,x.faces.push(new Q.Face3(t,e,r,null,null,1)),x.faces.push(new Q.Face3(e,n,r,null,null,1));var l=b.generateSideWallUV(x,t,e,n,r);x.faceVertexUvs[0].push([l[0],l[1],l[3]]),x.faceVertexUvs[0].push([l[1],l[2],l[3]])}!function(){if(p){var t=0,e=D*t;for(B=0;B<N;B++)Z((I=A[B])[2]+e,I[1]+e,I[0]+e);for(e=D*(t=m+2*d),B=0;B<N;B++)Z((I=A[B])[0]+e,I[1]+e,I[2]+e)}else{for(B=0;B<N;B++)Z((I=A[B])[2],I[1],I[0]);for(B=0;B<N;B++)Z((I=A[B])[0]+D*m,I[1]+D*m,I[2]+D*m)}}(),function(){var t=0;for(Y(E,t),t+=E.length,c=0,l=T.length;c<l;c++)Y(s=T[c],t),t+=s.length}()},Q.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,n,r){var i=t.vertices,o=i[e],a=i[n],s=i[r];return[new Q.Vector2(o.x,o.y),new Q.Vector2(a.x,a.y),new Q.Vector2(s.x,s.y)]},generateSideWallUV:function(t,e,n,r,i){var o=t.vertices,a=o[e],s=o[n],c=o[r],l=o[i];return Math.abs(a.y-s.y)<.01?[new Q.Vector2(a.x,1-a.z),new Q.Vector2(s.x,1-s.z),new Q.Vector2(c.x,1-c.z),new Q.Vector2(l.x,1-l.z)]:[new Q.Vector2(a.y,1-a.z),new Q.Vector2(s.y,1-s.z),new Q.Vector2(c.y,1-c.z),new Q.Vector2(l.y,1-l.z)]}},Q.ShapeGeometry=function(t,e){Q.Geometry.call(this),this.type="ShapeGeometry",!1===Array.isArray(t)&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},Q.ShapeGeometry.prototype=Object.create(Q.Geometry.prototype),Q.ShapeGeometry.prototype.constructor=Q.ShapeGeometry,Q.ShapeGeometry.prototype.addShapeList=function(t,e){for(var n=0,r=t.length;n<r;n++)this.addShape(t[n],e);return this},Q.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var n,r,i,o=void 0!==e.curveSegments?e.curveSegments:12,a=e.material,s=void 0===e.UVGenerator?Q.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,c=this.vertices.length,l=t.extractPoints(o),u=l.shape,h=l.holes,f=!Q.ShapeUtils.isClockWise(u);if(f){for(u=u.reverse(),n=0,r=h.length;n<r;n++)i=h[n],Q.ShapeUtils.isClockWise(i)&&(h[n]=i.reverse());f=!1}var d=Q.ShapeUtils.triangulateShape(u,h);for(n=0,r=h.length;n<r;n++)i=h[n],u=u.concat(i);var p,g,m=u.length,v=d.length;for(n=0;n<m;n++)p=u[n],this.vertices.push(new Q.Vector3(p.x,p.y,0));for(n=0;n<v;n++){var y=(g=d[n])[0]+c,b=g[1]+c,x=g[2]+c;this.faces.push(new Q.Face3(y,b,x,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,y,b,x))}},Q.LatheBufferGeometry=function(t,e,n,r){Q.BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=Q.Math.clamp(r,0,2*Math.PI);var i,o,a,s=(e+1)*t.length,c=e*t.length*2*3,l=new Q.BufferAttribute(new(c>65535?Uint32Array:Uint16Array)(c),1),u=new Q.BufferAttribute(new Float32Array(3*s),3),h=new Q.BufferAttribute(new Float32Array(2*s),2),f=0,d=0,p=(t.length,1/e),g=new Q.Vector3,m=new Q.Vector2;for(o=0;o<=e;o++){var v=n+o*p*r,y=Math.sin(v),b=Math.cos(v);for(a=0;a<=t.length-1;a++)g.x=t[a].x*y,g.y=t[a].y,g.z=t[a].x*b,u.setXYZ(f,g.x,g.y,g.z),m.x=o/e,m.y=a/(t.length-1),h.setXY(f,m.x,m.y),f++}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var x=i=a+o*t.length,_=i+t.length,w=i+t.length+1,S=i+1;l.setX(d,x),d++,l.setX(d,_),d++,l.setX(d,S),d++,l.setX(d,_),d++,l.setX(d,w),d++,l.setX(d,S),d++}if(this.setIndex(l),this.addAttribute("position",u),this.addAttribute("uv",h),this.computeVertexNormals(),r===2*Math.PI){var T=this.attributes.normal.array,M=new Q.Vector3,A=new Q.Vector3,E=new Q.Vector3;for(i=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)M.x=T[a+0],M.y=T[a+1],M.z=T[a+2],A.x=T[i+a+0],A.y=T[i+a+1],A.z=T[i+a+2],E.addVectors(M,A).normalize(),T[a+0]=T[i+a+0]=E.x,T[a+1]=T[i+a+1]=E.y,T[a+2]=T[i+a+2]=E.z}},Q.LatheBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.LatheBufferGeometry.prototype.constructor=Q.LatheBufferGeometry,Q.LatheGeometry=function(t,e,n,r){Q.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new Q.LatheBufferGeometry(t,e,n,r)),this.mergeVertices()},Q.LatheGeometry.prototype=Object.create(Q.Geometry.prototype),Q.LatheGeometry.prototype.constructor=Q.LatheGeometry,Q.PlaneGeometry=function(t,e,n,r){Q.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Q.PlaneBufferGeometry(t,e,n,r))},Q.PlaneGeometry.prototype=Object.create(Q.Geometry.prototype),Q.PlaneGeometry.prototype.constructor=Q.PlaneGeometry,Q.PlaneBufferGeometry=function(t,e,n,r){Q.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};for(var i=t/2,o=e/2,a=Math.floor(n)||1,s=Math.floor(r)||1,c=a+1,l=s+1,u=t/a,h=e/s,f=new Float32Array(c*l*3),d=new Float32Array(c*l*3),p=new Float32Array(c*l*2),g=0,m=0,v=0;v<l;v++)for(var y=v*h-o,b=0;b<c;b++){var x=b*u-i;f[g]=x,f[g+1]=-y,d[g+2]=1,p[m]=b/a,p[m+1]=1-v/s,g+=3,m+=2}g=0;var _=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6);for(v=0;v<s;v++)for(b=0;b<a;b++){var w=b+c*v,S=b+c*(v+1),T=b+1+c*(v+1),M=b+1+c*v;_[g]=w,_[g+1]=S,_[g+2]=M,_[g+3]=S,_[g+4]=T,_[g+5]=M,g+=6}this.setIndex(new Q.BufferAttribute(_,1)),this.addAttribute("position",new Q.BufferAttribute(f,3)),this.addAttribute("normal",new Q.BufferAttribute(d,3)),this.addAttribute("uv",new Q.BufferAttribute(p,2))},Q.PlaneBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.PlaneBufferGeometry.prototype.constructor=Q.PlaneBufferGeometry,Q.RingBufferGeometry=function(t,e,n,r,i,o){Q.BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},t=t||20,e=e||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI;var a,s,c,l=((n=void 0!==n?Math.max(3,n):8)+1)*((r=void 0!==r?Math.max(1,r):1)+1),u=n*r*2*3,h=new Q.BufferAttribute(new(u>65535?Uint32Array:Uint16Array)(u),1),f=new Q.BufferAttribute(new Float32Array(3*l),3),d=new Q.BufferAttribute(new Float32Array(3*l),3),p=new Q.BufferAttribute(new Float32Array(2*l),2),g=0,m=0,v=t,y=(e-t)/r,b=new Q.Vector3,x=new Q.Vector2;for(s=0;s<=r;s++){for(c=0;c<=n;c++)a=i+c/n*o,b.x=v*Math.cos(a),b.y=v*Math.sin(a),f.setXYZ(g,b.x,b.y,b.z),d.setXYZ(g,0,0,1),x.x=(b.x/e+1)/2,x.y=(b.y/e+1)/2,p.setXY(g,x.x,x.y),g++;v+=y}for(s=0;s<r;s++){var _=s*(n+1);for(c=0;c<n;c++){var w=a=c+_,S=a+n+1,T=a+n+2,M=a+1;h.setX(m,w),m++,h.setX(m,S),m++,h.setX(m,T),m++,h.setX(m,w),m++,h.setX(m,T),m++,h.setX(m,M),m++}}this.setIndex(h),this.addAttribute("position",f),this.addAttribute("normal",d),this.addAttribute("uv",p)},Q.RingBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.RingBufferGeometry.prototype.constructor=Q.RingBufferGeometry,Q.RingGeometry=function(t,e,n,r,i,o){Q.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Q.RingBufferGeometry(t,e,n,r,i,o))},Q.RingGeometry.prototype=Object.create(Q.Geometry.prototype),Q.RingGeometry.prototype.constructor=Q.RingGeometry,Q.SphereGeometry=function(t,e,n,r,i,o,a){Q.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Q.SphereBufferGeometry(t,e,n,r,i,o,a))},Q.SphereGeometry.prototype=Object.create(Q.Geometry.prototype),Q.SphereGeometry.prototype.constructor=Q.SphereGeometry,Q.SphereBufferGeometry=function(t,e,n,r,i,o,a){Q.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;for(var s=(o=void 0!==o?o:0)+(a=void 0!==a?a:Math.PI),c=(e+1)*(n+1),l=new Q.BufferAttribute(new Float32Array(3*c),3),u=new Q.BufferAttribute(new Float32Array(3*c),3),h=new Q.BufferAttribute(new Float32Array(2*c),2),f=0,d=[],p=new Q.Vector3,g=0;g<=n;g++){for(var m=[],v=g/n,y=0;y<=e;y++){var b=y/e,x=-t*Math.cos(r+b*i)*Math.sin(o+v*a),_=t*Math.cos(o+v*a),w=t*Math.sin(r+b*i)*Math.sin(o+v*a);p.set(x,_,w).normalize(),l.setXYZ(f,x,_,w),u.setXYZ(f,p.x,p.y,p.z),h.setXY(f,b,1-v),m.push(f),f++}d.push(m)}var S=[];for(g=0;g<n;g++)for(y=0;y<e;y++){var T=d[g][y+1],M=d[g][y],A=d[g+1][y],E=d[g+1][y+1];(0!==g||o>0)&&S.push(T,M,E),(g!==n-1||s<Math.PI)&&S.push(M,A,E)}this.setIndex(new(l.count>65535?Q.Uint32Attribute:Q.Uint16Attribute)(S,1)),this.addAttribute("position",l),this.addAttribute("normal",u),this.addAttribute("uv",h),this.boundingSphere=new Q.Sphere(new Q.Vector3,t)},Q.SphereBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.SphereBufferGeometry.prototype.constructor=Q.SphereBufferGeometry,Q.TextGeometry=function(t,e){var n=(e=e||{}).font;if(n instanceof Q.Font==!1)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Q.Geometry;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Q.ExtrudeGeometry.call(this,r,e),this.type="TextGeometry"},Q.TextGeometry.prototype=Object.create(Q.ExtrudeGeometry.prototype),Q.TextGeometry.prototype.constructor=Q.TextGeometry,Q.TorusBufferGeometry=function(t,e,n,r,i){Q.BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var o,a,s=(n+1)*(r+1),c=n*r*2*3,l=new(c>65535?Uint32Array:Uint16Array)(c),u=new Float32Array(3*s),h=new Float32Array(3*s),f=new Float32Array(2*s),d=0,p=0,g=0,m=new Q.Vector3,v=new Q.Vector3,y=new Q.Vector3;for(o=0;o<=n;o++)for(a=0;a<=r;a++){var b=a/r*i,x=o/n*Math.PI*2;v.x=(t+e*Math.cos(x))*Math.cos(b),v.y=(t+e*Math.cos(x))*Math.sin(b),v.z=e*Math.sin(x),u[d]=v.x,u[d+1]=v.y,u[d+2]=v.z,m.x=t*Math.cos(b),m.y=t*Math.sin(b),y.subVectors(v,m).normalize(),h[d]=y.x,h[d+1]=y.y,h[d+2]=y.z,f[p]=a/r,f[p+1]=o/n,d+=3,p+=2}for(o=1;o<=n;o++)for(a=1;a<=r;a++){var _=(r+1)*o+a-1,w=(r+1)*(o-1)+a-1,S=(r+1)*(o-1)+a,T=(r+1)*o+a;l[g]=_,l[g+1]=w,l[g+2]=T,l[g+3]=w,l[g+4]=S,l[g+5]=T,g+=6}this.setIndex(new Q.BufferAttribute(l,1)),this.addAttribute("position",new Q.BufferAttribute(u,3)),this.addAttribute("normal",new Q.BufferAttribute(h,3)),this.addAttribute("uv",new Q.BufferAttribute(f,2))},Q.TorusBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.TorusBufferGeometry.prototype.constructor=Q.TorusBufferGeometry,Q.TorusGeometry=function(t,e,n,r,i){Q.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Q.TorusBufferGeometry(t,e,n,r,i))},Q.TorusGeometry.prototype=Object.create(Q.Geometry.prototype),Q.TorusGeometry.prototype.constructor=Q.TorusGeometry,Q.TorusKnotBufferGeometry=function(t,e,n,r,i,o){Q.BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},t=t||100,e=e||40,n=Math.floor(n)||64,i=i||2,o=o||3;var a,s,c=((r=Math.floor(r)||8)+1)*(n+1),l=r*n*2*3,u=new Q.BufferAttribute(new(l>65535?Uint32Array:Uint16Array)(l),1),h=new Q.BufferAttribute(new Float32Array(3*c),3),f=new Q.BufferAttribute(new Float32Array(3*c),3),d=new Q.BufferAttribute(new Float32Array(2*c),2),p=0,g=0,m=new Q.Vector3,v=new Q.Vector3,y=new Q.Vector2,b=new Q.Vector3,x=new Q.Vector3,_=new Q.Vector3,w=new Q.Vector3,S=new Q.Vector3;for(a=0;a<=n;++a){var T=a/n*i*Math.PI*2;for(R(T,i,o,t,b),R(T+.01,i,o,t,x),w.subVectors(x,b),S.addVectors(x,b),_.crossVectors(w,S),S.crossVectors(_,w),_.normalize(),S.normalize(),s=0;s<=r;++s){var M=s/r*Math.PI*2,A=-e*Math.cos(M),E=e*Math.sin(M);m.x=b.x+(A*S.x+E*_.x),m.y=b.y+(A*S.y+E*_.y),m.z=b.z+(A*S.z+E*_.z),h.setXYZ(p,m.x,m.y,m.z),v.subVectors(m,b).normalize(),f.setXYZ(p,v.x,v.y,v.z),y.x=a/n,y.y=s/r,d.setXY(p,y.x,y.y),p++}}for(s=1;s<=n;s++)for(a=1;a<=r;a++){var C=(r+1)*(s-1)+(a-1),L=(r+1)*s+(a-1),P=(r+1)*s+a,k=(r+1)*(s-1)+a;u.setX(g,C),g++,u.setX(g,L),g++,u.setX(g,k),g++,u.setX(g,L),g++,u.setX(g,P),g++,u.setX(g,k),g++}function R(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,c=Math.cos(s);i.x=r*(2+c)*.5*o,i.y=r*(2+c)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",h),this.addAttribute("normal",f),this.addAttribute("uv",d)},Q.TorusKnotBufferGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.TorusKnotBufferGeometry.prototype.constructor=Q.TorusKnotBufferGeometry,Q.TorusKnotGeometry=function(t,e,n,r,i,o,a){Q.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Q.TorusKnotBufferGeometry(t,e,n,r,i,o)),this.mergeVertices()},Q.TorusKnotGeometry.prototype=Object.create(Q.Geometry.prototype),Q.TorusKnotGeometry.prototype.constructor=Q.TorusKnotGeometry,Q.TubeGeometry=function(t,e,n,r,i,o){Q.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:n,radialSegments:r,closed:i,taper:o},e=e||64,n=n||1,r=r||8,i=i||!1,o=o||Q.TubeGeometry.NoTaper;var a,s,c,l,u,h,f,d,p,g,m,v,y,b,x,_,w,S,T,M,A=[],E=this,C=e+1,L=new Q.Vector3,P=new Q.TubeGeometry.FrenetFrames(t,e,i),k=P.tangents,R=P.normals,O=P.binormals;function I(t,e,n){return E.vertices.push(new Q.Vector3(t,e,n))-1}for(this.tangents=k,this.normals=R,this.binormals=O,p=0;p<C;p++)for(A[p]=[],c=p/(C-1),d=t.getPointAt(c),k[p],a=R[p],s=O[p],u=n*o(c),g=0;g<r;g++)l=g/r*2*Math.PI,h=-u*Math.cos(l),f=u*Math.sin(l),L.copy(d),L.x+=h*a.x+f*s.x,L.y+=h*a.y+f*s.y,L.z+=h*a.z+f*s.z,A[p][g]=I(L.x,L.y,L.z);for(p=0;p<e;p++)for(g=0;g<r;g++)m=i?(p+1)%e:p+1,v=(g+1)%r,y=A[p][g],b=A[m][g],x=A[m][v],_=A[p][v],w=new Q.Vector2(p/e,g/r),S=new Q.Vector2((p+1)/e,g/r),T=new Q.Vector2((p+1)/e,(g+1)/r),M=new Q.Vector2(p/e,(g+1)/r),this.faces.push(new Q.Face3(y,b,_)),this.faceVertexUvs[0].push([w,S,M]),this.faces.push(new Q.Face3(b,x,_)),this.faceVertexUvs[0].push([S.clone(),T,M.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},Q.TubeGeometry.prototype=Object.create(Q.Geometry.prototype),Q.TubeGeometry.prototype.constructor=Q.TubeGeometry,Q.TubeGeometry.NoTaper=function(t){return 1},Q.TubeGeometry.SinusoidalTaper=function(t){return Math.sin(Math.PI*t)},Q.TubeGeometry.FrenetFrames=function(t,e,n){var r,i,o,a,s,c,l,u=new Q.Vector3,h=[],f=[],d=[],p=new Q.Vector3,g=new Q.Matrix4,m=e+1;for(this.tangents=h,this.normals=f,this.binormals=d,c=0;c<m;c++)l=c/(m-1),h[c]=t.getTangentAt(l),h[c].normalize();for(function(){f[0]=new Q.Vector3,d[0]=new Q.Vector3,i=Number.MAX_VALUE,o=Math.abs(h[0].x),a=Math.abs(h[0].y),s=Math.abs(h[0].z),o<=i&&(i=o,u.set(1,0,0));a<=i&&(i=a,u.set(0,1,0));s<=i&&u.set(0,0,1);p.crossVectors(h[0],u).normalize(),f[0].crossVectors(h[0],p),d[0].crossVectors(h[0],f[0])}(),c=1;c<m;c++)f[c]=f[c-1].clone(),d[c]=d[c-1].clone(),p.crossVectors(h[c-1],h[c]),p.length()>Number.EPSILON&&(p.normalize(),r=Math.acos(Q.Math.clamp(h[c-1].dot(h[c]),-1,1)),f[c].applyMatrix4(g.makeRotationAxis(p,r))),d[c].crossVectors(h[c],f[c]);if(n)for(r=Math.acos(Q.Math.clamp(f[0].dot(f[m-1]),-1,1)),r/=m-1,h[0].dot(p.crossVectors(f[0],f[m-1]))>0&&(r=-r),c=1;c<m;c++)f[c].applyMatrix4(g.makeRotationAxis(h[c],r*c)),d[c].crossVectors(h[c],f[c])},Q.PolyhedronGeometry=function(t,e,n,r){Q.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;for(var i=this,o=0,a=t.length;o<a;o+=3)x(new Q.Vector3(t[o],t[o+1],t[o+2]));var s=this.vertices,c=[],l=(o=0,0);for(a=e.length;o<a;o+=3,l++){var u=s[e[o]],h=s[e[o+1]],f=s[e[o+2]];c[l]=new Q.Face3(u.index,h.index,f.index,[u.clone(),h.clone(),f.clone()],void 0,l)}var d=new Q.Vector3;for(o=0,a=c.length;o<a;o++)w(c[o],r);for(o=0,a=this.faceVertexUvs[0].length;o<a;o++){var p=this.faceVertexUvs[0][o],g=p[0].x,m=p[1].x,v=p[2].x,y=Math.max(g,m,v),b=Math.min(g,m,v);y>.9&&b<.1&&(g<.2&&(p[0].x+=1),m<.2&&(p[1].x+=1),v<.2&&(p[2].x+=1))}for(o=0,a=this.vertices.length;o<a;o++)this.vertices[o].multiplyScalar(n);function x(t){var e=t.normalize().clone();e.index=i.vertices.push(e)-1;var n=S(t)/2/Math.PI+.5,r=function(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(t)/Math.PI+.5;return e.uv=new Q.Vector2(n,1-r),e}function _(t,e,n,r){var o=new Q.Face3(t.index,e.index,n.index,[t.clone(),e.clone(),n.clone()],void 0,r);i.faces.push(o),d.copy(t).add(e).add(n).divideScalar(3);var a=S(d);i.faceVertexUvs[0].push([T(t.uv,t,a),T(e.uv,e,a),T(n.uv,n,a)])}function w(t,e){for(var n=Math.pow(2,e),r=x(i.vertices[t.a]),o=x(i.vertices[t.b]),a=x(i.vertices[t.c]),s=[],c=t.materialIndex,l=0;l<=n;l++){s[l]=[];for(var u=x(r.clone().lerp(a,l/n)),h=x(o.clone().lerp(a,l/n)),f=n-l,d=0;d<=f;d++)s[l][d]=0===d&&l===n?u:x(u.clone().lerp(h,d/f))}for(l=0;l<n;l++)for(d=0;d<2*(n-l)-1;d++){var p=Math.floor(d/2);d%2==0?_(s[l][p+1],s[l+1][p],s[l][p],c):_(s[l][p+1],s[l+1][p+1],s[l+1][p],c)}}function S(t){return Math.atan2(t.z,-t.x)}function T(t,e,n){return n<0&&1===t.x&&(t=new Q.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new Q.Vector2(n/2/Math.PI+.5,t.y)),t.clone()}this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new Q.Sphere(new Q.Vector3,n)},Q.PolyhedronGeometry.prototype=Object.create(Q.Geometry.prototype),Q.PolyhedronGeometry.prototype.constructor=Q.PolyhedronGeometry,Q.DodecahedronGeometry=function(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Q.PolyhedronGeometry.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}},Q.DodecahedronGeometry.prototype=Object.create(Q.PolyhedronGeometry.prototype),Q.DodecahedronGeometry.prototype.constructor=Q.DodecahedronGeometry,Q.IcosahedronGeometry=function(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Q.PolyhedronGeometry.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},Q.IcosahedronGeometry.prototype=Object.create(Q.PolyhedronGeometry.prototype),Q.IcosahedronGeometry.prototype.constructor=Q.IcosahedronGeometry,Q.OctahedronGeometry=function(t,e){Q.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},Q.OctahedronGeometry.prototype=Object.create(Q.PolyhedronGeometry.prototype),Q.OctahedronGeometry.prototype.constructor=Q.OctahedronGeometry,Q.TetrahedronGeometry=function(t,e){Q.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},Q.TetrahedronGeometry.prototype=Object.create(Q.PolyhedronGeometry.prototype),Q.TetrahedronGeometry.prototype.constructor=Q.TetrahedronGeometry,Q.ParametricGeometry=function(t,e,n){Q.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,o,a,s,c,l,u,h,f,d,p,g=this.vertices,m=this.faces,v=this.faceVertexUvs[0],y=e+1;for(r=0;r<=n;r++)for(a=r/n,i=0;i<=e;i++)o=t(i/e,a),g.push(o);for(r=0;r<n;r++)for(i=0;i<e;i++)s=r*y+i,c=r*y+i+1,l=(r+1)*y+i+1,u=(r+1)*y+i,h=new Q.Vector2(i/e,r/n),f=new Q.Vector2((i+1)/e,r/n),d=new Q.Vector2((i+1)/e,(r+1)/n),p=new Q.Vector2(i/e,(r+1)/n),m.push(new Q.Face3(s,c,u)),v.push([h,f,p]),m.push(new Q.Face3(c,l,u)),v.push([f.clone(),d,p.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},Q.ParametricGeometry.prototype=Object.create(Q.Geometry.prototype),Q.ParametricGeometry.prototype.constructor=Q.ParametricGeometry,Q.WireframeGeometry=function(t){Q.BufferGeometry.call(this);var e=[0,0],n={};function r(t,e){return t-e}var i=["a","b","c"];if(t instanceof Q.Geometry){for(var o=t.vertices,a=t.faces,s=0,c=new Uint32Array(6*a.length),l=0,u=a.length;l<u;l++)for(var h=a[l],f=0;f<3;f++){e[0]=h[i[f]],e[1]=h[i[(f+1)%3]],e.sort(r),void 0===n[w=e.toString()]&&(c[2*s]=e[0],c[2*s+1]=e[1],n[w]=!0,s++)}var d=new Float32Array(2*s*3);for(l=0,u=s;l<u;l++)for(f=0;f<2;f++){var p=o[c[2*l+f]];d[(S=6*l+3*f)+0]=p.x,d[S+1]=p.y,d[S+2]=p.z}this.addAttribute("position",new Q.BufferAttribute(d,3))}else if(t instanceof Q.BufferGeometry)if(null!==t.index){var g=t.index.array,m=(o=t.attributes.position,t.groups);s=0;0===m.length&&t.addGroup(0,g.length);c=new Uint32Array(2*g.length);for(var v=0,y=m.length;v<y;++v)for(var b=m[v],x=b.start,_=(l=x,x+b.count);l<_;l+=3)for(f=0;f<3;f++){var w;e[0]=g[l+f],e[1]=g[l+(f+1)%3],e.sort(r),void 0===n[w=e.toString()]&&(c[2*s]=e[0],c[2*s+1]=e[1],n[w]=!0,s++)}for(d=new Float32Array(2*s*3),l=0,u=s;l<u;l++)for(f=0;f<2;f++){var S=6*l+3*f,T=c[2*l+f];d[S+0]=o.getX(T),d[S+1]=o.getY(T),d[S+2]=o.getZ(T)}this.addAttribute("position",new Q.BufferAttribute(d,3))}else{var M=(s=(o=t.attributes.position.array).length/3)/3;for(d=new Float32Array(2*s*3),l=0,u=M;l<u;l++)for(f=0;f<3;f++){var A=9*l+3*f;d[(S=18*l+6*f)+0]=o[A],d[S+1]=o[A+1],d[S+2]=o[A+2];T=9*l+(f+1)%3*3;d[S+3]=o[T],d[S+4]=o[T+1],d[S+5]=o[T+2]}this.addAttribute("position",new Q.BufferAttribute(d,3))}},Q.WireframeGeometry.prototype=Object.create(Q.BufferGeometry.prototype),Q.WireframeGeometry.prototype.constructor=Q.WireframeGeometry,Q.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),n=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new Q.BufferGeometry;r.addAttribute("position",new Q.BufferAttribute(e,3)),r.addAttribute("color",new Q.BufferAttribute(n,3));var i=new Q.LineBasicMaterial({vertexColors:Q.VertexColors});Q.LineSegments.call(this,r,i)},Q.AxisHelper.prototype=Object.create(Q.LineSegments.prototype),Q.AxisHelper.prototype.constructor=Q.AxisHelper,Q.ArrowHelper=function(){var t=new Q.BufferGeometry;t.addAttribute("position",new Q.Float32Attribute([0,0,0,0,1,0],3));var e=new Q.CylinderBufferGeometry(0,.5,1,5,1);return e.translate(0,-.5,0),function(n,r,i,o,a,s){Q.Object3D.call(this),void 0===o&&(o=16776960),void 0===i&&(i=1),void 0===a&&(a=.2*i),void 0===s&&(s=.2*a),this.position.copy(r),this.line=new Q.Line(t,new Q.LineBasicMaterial({color:o})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Q.Mesh(e,new Q.MeshBasicMaterial({color:o})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(i,a,s)}}(),Q.ArrowHelper.prototype=Object.create(Q.Object3D.prototype),Q.ArrowHelper.prototype.constructor=Q.ArrowHelper,Q.ArrowHelper.prototype.setDirection=(Y=new Q.Vector3,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Y.set(t.z,0,-t.x).normalize(),X=Math.acos(t.y),this.quaternion.setFromAxisAngle(Y,X))}),Q.ArrowHelper.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Q.ArrowHelper.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Q.BoxHelper=function(t){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new Q.BufferGeometry;r.setIndex(new Q.BufferAttribute(e,1)),r.addAttribute("position",new Q.BufferAttribute(n,3)),Q.LineSegments.call(this,r,new Q.LineBasicMaterial({color:16776960})),void 0!==t&&this.update(t)},Q.BoxHelper.prototype=Object.create(Q.LineSegments.prototype),Q.BoxHelper.prototype.constructor=Q.BoxHelper,Q.BoxHelper.prototype.update=function(){var t=new Q.Box3;return function(e){if(e instanceof Q.Box3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Q.BoundingBoxHelper=function(t,e){var n=void 0!==e?e:8947848;this.object=t,this.box=new Q.Box3,Q.Mesh.call(this,new Q.BoxGeometry(1,1,1),new Q.MeshBasicMaterial({color:n,wireframe:!0}))},Q.BoundingBoxHelper.prototype=Object.create(Q.Mesh.prototype),Q.BoundingBoxHelper.prototype.constructor=Q.BoundingBoxHelper,Q.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},Q.CameraHelper=function(t){var e=new Q.Geometry,n=new Q.LineBasicMaterial({color:16777215,vertexColors:Q.FaceColors}),r={};function i(t,e,n){o(t,n),o(e,n)}function o(t,n){e.vertices.push(new Q.Vector3),e.colors.push(new Q.Color(n)),void 0===r[t]&&(r[t]=[]),r[t].push(e.vertices.length-1)}i("n1","n2",16755200),i("n2","n4",16755200),i("n4","n3",16755200),i("n3","n1",16755200),i("f1","f2",16755200),i("f2","f4",16755200),i("f4","f3",16755200),i("f3","f1",16755200),i("n1","f1",16755200),i("n2","f2",16755200),i("n3","f3",16755200),i("n4","f4",16755200),i("p","n1",16711680),i("p","n2",16711680),i("p","n3",16711680),i("p","n4",16711680),i("u1","u2",43775),i("u2","u3",43775),i("u3","u1",43775),i("c","t",16777215),i("p","c",3355443),i("cn1","cn2",3355443),i("cn3","cn4",3355443),i("cf1","cf2",3355443),i("cf3","cf4",3355443),Q.LineSegments.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=r,this.update()},Q.CameraHelper.prototype=Object.create(Q.LineSegments.prototype),Q.CameraHelper.prototype.constructor=Q.CameraHelper,Q.CameraHelper.prototype.update=function(){var t,e,n=new Q.Vector3,r=new Q.Camera;function i(i,o,a,s){n.set(o,a,s).unproject(r);var c=e[i];if(void 0!==c)for(var l=0,u=c.length;l<u;l++)t.vertices[c[l]].copy(n)}return function(){t=this.geometry,e=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.verticesNeedUpdate=!0}}(),Q.DirectionalLightHelper=function(t,e){Q.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new Q.BufferGeometry;n.addAttribute("position",new Q.Float32Attribute([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Q.LineBasicMaterial({fog:!1});this.add(new Q.Line(n,r)),(n=new Q.BufferGeometry).addAttribute("position",new Q.Float32Attribute([0,0,0,0,0,1],3)),this.add(new Q.Line(n,r)),this.update()},Q.DirectionalLightHelper.prototype=Object.create(Q.Object3D.prototype),Q.DirectionalLightHelper.prototype.constructor=Q.DirectionalLightHelper,Q.DirectionalLightHelper.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Q.DirectionalLightHelper.prototype.update=function(){var t=new Q.Vector3,e=new Q.Vector3,n=new Q.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),Q.EdgesHelper=function(t,e,n){var r=void 0!==e?e:16777215;Q.LineSegments.call(this,new Q.EdgesGeometry(t.geometry,n),new Q.LineBasicMaterial({color:r})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},Q.EdgesHelper.prototype=Object.create(Q.LineSegments.prototype),Q.EdgesHelper.prototype.constructor=Q.EdgesHelper,Q.FaceNormalsHelper=function(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,o=void 0!==r?r:1,a=0,s=this.object.geometry;s instanceof Q.Geometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new Q.BufferGeometry,l=new Q.Float32Attribute(2*a*3,3);c.addAttribute("position",l),Q.LineSegments.call(this,c,new Q.LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},Q.FaceNormalsHelper.prototype=Object.create(Q.LineSegments.prototype),Q.FaceNormalsHelper.prototype.constructor=Q.FaceNormalsHelper,Q.FaceNormalsHelper.prototype.update=function(){var t=new Q.Vector3,e=new Q.Vector3,n=new Q.Matrix3;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,c=0,l=0,u=s.length;l<u;l++){var h=s[l],f=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(r),e.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(c,t.x,t.y,t.z),c+=1,i.setXYZ(c,e.x,e.y,e.z),c+=1}return i.needsUpdate=!0,this}}(),Q.GridHelper=function(t,e,n,r){n=new Q.Color(void 0!==n?n:4473924),r=new Q.Color(void 0!==r?r:8947848);for(var i=[],o=[],a=-t,s=0;a<=t;a+=e){i.push(-t,0,a,t,0,a),i.push(a,0,-t,a,0,t);var c=0===a?n:r;c.toArray(o,s),s+=3,c.toArray(o,s),s+=3,c.toArray(o,s),s+=3,c.toArray(o,s),s+=3}var l=new Q.BufferGeometry;l.addAttribute("position",new Q.Float32Attribute(i,3)),l.addAttribute("color",new Q.Float32Attribute(o,3));var u=new Q.LineBasicMaterial({vertexColors:Q.VertexColors});Q.LineSegments.call(this,l,u)},Q.GridHelper.prototype=Object.create(Q.LineSegments.prototype),Q.GridHelper.prototype.constructor=Q.GridHelper,Q.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Q.HemisphereLightHelper=function(t,e){Q.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new Q.Color,new Q.Color];var n=new Q.SphereGeometry(e,4,2);n.rotateX(-Math.PI/2);for(var r=0;r<8;r++)n.faces[r].color=this.colors[r<4?0:1];var i=new Q.MeshBasicMaterial({vertexColors:Q.FaceColors,wireframe:!0});this.lightSphere=new Q.Mesh(n,i),this.add(this.lightSphere),this.update()},Q.HemisphereLightHelper.prototype=Object.create(Q.Object3D.prototype),Q.HemisphereLightHelper.prototype.constructor=Q.HemisphereLightHelper,Q.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},Q.HemisphereLightHelper.prototype.update=(q=new Q.Vector3,function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(q.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}),Q.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var n=new Q.SphereBufferGeometry(e,4,2),r=new Q.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),Q.Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},Q.PointLightHelper.prototype=Object.create(Q.Mesh.prototype),Q.PointLightHelper.prototype.constructor=Q.PointLightHelper,Q.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Q.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Q.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new Q.Geometry,n=0;n<this.bones.length;n++){this.bones[n].parent instanceof Q.Bone&&(e.vertices.push(new Q.Vector3),e.vertices.push(new Q.Vector3),e.colors.push(new Q.Color(0,0,1)),e.colors.push(new Q.Color(0,1,0)))}e.dynamic=!0;var r=new Q.LineBasicMaterial({vertexColors:Q.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});Q.LineSegments.call(this,e,r),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},Q.SkeletonHelper.prototype=Object.create(Q.LineSegments.prototype),Q.SkeletonHelper.prototype.constructor=Q.SkeletonHelper,Q.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof Q.Bone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},Q.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new Q.Matrix4).getInverse(this.root.matrixWorld),n=new Q.Matrix4,r=0,i=0;i<this.bones.length;i++){var o=this.bones[i];o.parent instanceof Q.Bone&&(n.multiplyMatrices(e,o.matrixWorld),t.vertices[r].setFromMatrixPosition(n),n.multiplyMatrices(e,o.parent.matrixWorld),t.vertices[r+1].setFromMatrixPosition(n),r+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},Q.SpotLightHelper=function(t){Q.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new Q.BufferGeometry,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var o=r/32*Math.PI*2,a=i/32*Math.PI*2;n.push(Math.cos(o),Math.sin(o),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new Q.Float32Attribute(n,3));var s=new Q.LineBasicMaterial({fog:!1});this.cone=new Q.LineSegments(e,s),this.add(this.cone),this.update()},Q.SpotLightHelper.prototype=Object.create(Q.Object3D.prototype),Q.SpotLightHelper.prototype.constructor=Q.SpotLightHelper,Q.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Q.SpotLightHelper.prototype.update=function(){var t=new Q.Vector3,e=new Q.Vector3;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Q.VertexNormalsHelper=function(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,o=void 0!==r?r:1,a=0,s=this.object.geometry;s instanceof Q.Geometry?a=3*s.faces.length:s instanceof Q.BufferGeometry&&(a=s.attributes.normal.count);var c=new Q.BufferGeometry,l=new Q.Float32Attribute(2*a*3,3);c.addAttribute("position",l),Q.LineSegments.call(this,c,new Q.LineBasicMaterial({color:i,linewidth:o})),this.matrixAutoUpdate=!1,this.update()},Q.VertexNormalsHelper.prototype=Object.create(Q.LineSegments.prototype),Q.VertexNormalsHelper.prototype.constructor=Q.VertexNormalsHelper,Q.VertexNormalsHelper.prototype.update=function(){var t=new Q.Vector3,e=new Q.Vector3,n=new Q.Matrix3;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a instanceof Q.Geometry)for(var s=a.vertices,c=a.faces,l=0,u=0,h=c.length;u<h;u++)for(var f=c[u],d=0,p=f.vertexNormals.length;d<p;d++){var g=s[f[r[d]]],m=f.vertexNormals[d];t.copy(g).applyMatrix4(i),e.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1}else if(a instanceof Q.BufferGeometry){var v=a.attributes.position,y=a.attributes.normal;for(l=0,d=0,p=v.count;d<p;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(l,t.x,t.y,t.z),l+=1,o.setXYZ(l,e.x,e.y,e.z),l+=1}return o.needsUpdate=!0,this}}(),Q.WireframeHelper=function(t,e){var n=void 0!==e?e:16777215;Q.LineSegments.call(this,new Q.WireframeGeometry(t.geometry),new Q.LineBasicMaterial({color:n})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},Q.WireframeHelper.prototype=Object.create(Q.LineSegments.prototype),Q.WireframeHelper.prototype.constructor=Q.WireframeHelper,Q.ImmediateRenderObject=function(t){Q.Object3D.call(this),this.material=t,this.render=function(t){}},Q.ImmediateRenderObject.prototype=Object.create(Q.Object3D.prototype),Q.ImmediateRenderObject.prototype.constructor=Q.ImmediateRenderObject,Q.MorphBlendMesh=function(t,e){Q.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)},Q.MorphBlendMesh.prototype=Object.create(Q.Mesh.prototype),Q.MorphBlendMesh.prototype.constructor=Q.MorphBlendMesh,Q.MorphBlendMesh.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},Q.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,o=0,a=i.morphTargets.length;o<a;o++){var s=i.morphTargets[o].name.match(n);if(s&&s.length>1)r[c=s[1]]||(r[c]={start:1/0,end:-1/0}),o<(l=r[c]).start&&(l.start=o),o>l.end&&(l.end=o),e||(e=c)}for(var c in r){var l=r[c];this.createAnimation(c,l.start,l.end,t)}this.firstAnimation=e},Q.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Q.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Q.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},Q.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},Q.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},Q.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},Q.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},Q.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},Q.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Q.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Q.MorphBlendMesh.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var o=r.start+Q.Math.clamp(Math.floor(r.time/i),0,r.length-1),a=r.weight;o!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*a,this.morphTargetInfluences[o]=0,r.lastFrame=r.currentFrame,r.currentFrame=o);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*a,this.morphTargetInfluences[r.lastFrame]=(1-s)*a):this.morphTargetInfluences[r.currentFrame]=a}}},t.exports&&(e=t.exports=Q),e.THREE=Q},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(17);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(16)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(15),i=n(82),o=n(51),a=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";var r=n(15),i=n(25),o=n(23),a=n(38),s=n(59),c=n(46),l=Math.max,u=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(49)("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var h=r(t),f=String(this),d="function"==typeof e;d||(e=String(e));var m=h.global;if(m){var v=h.unicode;h.lastIndex=0}for(var y=[];;){var b=c(h,f);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(h.lastIndex=s(f,o(h.lastIndex),v))}for(var x,_="",w=0,S=0;S<y.length;S++){b=y[S];for(var T=String(b[0]),M=l(u(a(b.index),f.length),0),A=[],E=1;E<b.length;E++)A.push(void 0===(x=b[E])?x:String(x));var C=b.groups;if(d){var L=[T].concat(A,M,f);void 0!==C&&L.push(C);var P=String(e.apply(void 0,L))}else P=g(T,f,M,A,C,e);M>=w&&(_+=f.slice(w,M)+P,w=M+T.length)}return _+f.slice(w)}];function g(t,e,r,o,a,s){var c=r+t.length,l=o.length,u=d;return void 0!==a&&(a=i(a),u=f),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var f=h(u/10);return 0===f?n:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},function(t,e,n){var r=n(25),i=n(37);n(74)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(14),i=n(28),o=n(29),a=n(40)("src"),s=n(120),c=(""+s).split("toString");n(32).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var r=n(38),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(71),i=n(15),o=n(90),a=n(59),s=n(23),c=n(46),l=n(60),u=n(16),h=Math.min,f=[].push,d="length",p=!u((function(){RegExp(4294967295,"y")}));n(49)("split",2,(function(t,e,n,u){var g;return g="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[d]||2!="ab".split(/(?:ab)*/)[d]||4!=".".split(/(.?)(.?)/)[d]||".".split(/()()/)[d]>1||"".split(/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,u+"g");(o=l.call(g,i))&&!((a=g.lastIndex)>h&&(c.push(i.slice(h,o.index)),o[d]>1&&o.index<i[d]&&f.apply(c,o.slice(1)),s=o[0][d],h=a,c[d]>=p));)g.lastIndex===o.index&&g.lastIndex++;return h===i[d]?!s&&g.test("")||c.push(""):c.push(i.slice(h)),c[d]>p?c.slice(0,p):c}:"0".split(void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(t,e){var r=u(g,t,this,e,g!==n);if(r.done)return r.value;var l=i(t),f=String(this),d=o(l,RegExp),m=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),y=new d(p?l:"^(?:"+l.source+")",v),b=void 0===e?4294967295:e>>>0;if(0===b)return[];if(0===f.length)return null===c(y,f)?[f]:[];for(var x=0,_=0,w=[];_<f.length;){y.lastIndex=p?_:0;var S,T=c(y,p?f:f.slice(_));if(null===T||(S=h(s(y.lastIndex+(p?0:_)),f.length))===x)_=a(f,_,m);else{if(w.push(f.slice(x,_)),w.length===b)return w;for(var M=1;M<=T.length-1;M++)if(w.push(T[M]),w.length===b)return w;_=x=S}}return w.push(f.slice(x)),w}]}))},function(t,e,n){var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(9),i=n(73)(2);r(r.P+r.F*!n(91)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(19),i=n(41);t.exports=n(18)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(36);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(63),i=n(31);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(9),i=n(73)(1);r(r.P+r.F*!n(91)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(9),i=n(68),o=n(27),a=n(64),s=n(23),c=[].slice;r(r.P+r.F*n(16)((function(){i&&c.call(i)})),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var i=a(t,n),l=a(e,n),u=s(l-i),h=new Array(u),f=0;f<u;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(85),i=n(66);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=!1},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(19).f,i=n(29),o=n(10)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(15),i=n(122),o=n(66),a=n(65)("IE_PROTO"),s=function(){},c=function(){var t,e=n(61)("iframe"),r=o.length;for(e.style.display="none",n(68).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(19).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(18)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(47),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){var r=n(27),i=n(10)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(32),i=n(14),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(39)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";n(119);var r=n(22),i=n(28),o=n(16),a=n(31),s=n(10),c=n(60),l=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e})):void 0;if(!d||!p||"replace"===t&&!u||"split"===t&&!h){var g=/./[f],m=n(a,f,""[t],(function(t,e,n,r,i){return e.exec===c?d&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,t,v),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){"use strict";var r=n(15);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(85),i=n(66).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(52),i=n(41),o=n(33),a=n(51),s=n(29),c=n(82),l=Object.getOwnPropertyDescriptor;e.f=n(18)?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(10)("unscopables"),i=Array.prototype;null==i[r]&&n(28)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";var r=n(30),i=n(9),o=n(25),a=n(98),s=n(99),c=n(23),l=n(136),u=n(100);i(i.S+i.F*!n(75)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(f);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||d==Array&&s(y))for(n=new d(e=c(f.length));e>v;v++)l(n,v,m?g(f[v],v):f[v]);else for(h=y.call(f),n=new d;!(i=h.next()).done;v++)l(n,v,m?a(h,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";n(137);var r=n(15),i=n(50),o=n(18),a=/./.toString,s=function(t){n(22)(RegExp.prototype,"toString",t,!0)};n(16)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){"use strict";var r=n(15),i=n(23),o=n(59),a=n(46);n(49)("match",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var c=r(t),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var h,f=[],d=0;null!==(h=a(c,l));){var p=String(h[0]);f[d]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),u)),d++}return 0===d?null:f}]}))},function(t,e,n){"use strict";var r=n(81)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r,i,o=n(50),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(t){var e,n,r,i,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(e=c.lastIndex),r=a.call(c,t),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=c},function(t,e,n){var r=n(17),i=n(14).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(40)("meta"),i=n(17),o=n(29),a=n(19).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(16)((function(){return c(Object.preventExtensions({}))})),u=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&c(t)&&!o(t,r)&&u(t),t}}},function(t,e,n){var r=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(38),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(48)("keys"),i=n(40);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(14).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(17),i=n(124).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(39),i=n(9),o=n(22),a=n(28),s=n(44),c=n(127),l=n(42),u=n(88),h=n(10)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,g,m,v){c(n,e,p);var y,b,x,_=function(t){if(!f&&t in M)return M[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",S="values"==g,T=!1,M=t.prototype,A=M[h]||M["@@iterator"]||g&&M[g],E=A||_(g),C=g?S?_("entries"):E:void 0,L="Array"==e&&M.entries||A;if(L&&(x=u(L.call(new t)))!==Object.prototype&&x.next&&(l(x,w,!0),r||"function"==typeof x[h]||a(x,h,d)),S&&A&&"values"!==A.name&&(T=!0,E=function(){return A.call(this)}),r&&!v||!f&&!T&&M[h]||a(M,h,E),s[e]=E,s[w]=d,g)if(y={values:S?E:_("values"),keys:m?E:_("keys"),entries:C},v)for(b in y)b in M||o(M,b,y[b]);else i(i.P+i.F*(f||T),e,y);return y}},function(t,e,n){var r=n(17),i=n(27),o=n(10)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(14),i=n(19),o=n(18),a=n(10)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(30),i=n(63),o=n(25),a=n(23),s=n(129);t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var g,m,v=o(e),y=i(v),b=r(s,p,3),x=a(y.length),_=0,w=n?d(e,x):c?d(e,0):void 0;x>_;_++)if((f||_ in y)&&(m=b(g=y[_],_,v),t))if(n)w[_]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return _;case 2:w.push(g)}else if(u)return!1;return h?-1:l||u?u:w}}},function(t,e,n){var r=n(9),i=n(32),o=n(16);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(10)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(22);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(30),i=n(98),o=n(99),a=n(15),s=n(23),c=n(100),l={},u={};(e=t.exports=function(t,e,n,h,f){var d,p,g,m,v=f?function(){return t}:c(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((m=e?y(a(p=t[b])[0],p[1]):y(t[b]))===l||m===u)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=i(g,y,p.value,e))===l||m===u)return m}).BREAK=l,e.RETURN=u},function(t,e,n){var r=n(9);r(r.P,"Array",{fill:n(145)}),n(55)("fill")},function(t,e,n){(function(n){var r,i;window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e,n=(this.document||this.ownerDocument).querySelectorAll(t),r=this;do{for(e=n.length;0<=--e&&n.item(e)!==r;);}while(e<0&&(r=r.parentElement));return r}),function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}"function"!=typeof window.CustomEvent&&(t.prototype=window.Event.prototype,window.CustomEvent=t)}(),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=window.setTimeout((function(){e(r+i)}),i);return t=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),i=void 0!==n?n:"undefined"!=typeof window?window:this,void 0===(r=function(){return function(t){"use strict";var e={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},n=function(){var t={};return Array.prototype.forEach.call(arguments,(function(e){for(var n in e){if(!e.hasOwnProperty(n))return;t[n]=e[n]}})),t},r=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,n=String(t),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;){if(0===(e=n.charCodeAt(i)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");o+=1<=e&&e<=31||127==e||0===i&&48<=e&&e<=57||1===i&&48<=e&&e<=57&&45===a?"\\"+e.toString(16)+" ":128<=e||45===e||95===e||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122?n.charAt(i):"\\"+n.charAt(i)}return"#"+o},i=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},o=function(e,n,r){0===e&&document.body.focus(),r||(e.focus(),document.activeElement!==e&&(e.setAttribute("tabindex","-1"),e.focus(),e.style.outline="none"),t.scrollTo(0,n))},a=function(e,n,r,i){if(n.emitEvents&&"function"==typeof t.CustomEvent){var o=new CustomEvent(e,{bubbles:!0,detail:{anchor:r,toggle:i}});document.dispatchEvent(o)}};return function(s,c){var l,u,h,f,d={cancelScroll:function(t){cancelAnimationFrame(f),f=null,t||a("scrollCancel",l)},animateScroll:function(r,s,c){d.cancelScroll();var u=n(l||e,c||{}),p="[object Number]"===Object.prototype.toString.call(r),g=p||!r.tagName?null:r;if(p||g){var m=t.pageYOffset;u.header&&!h&&(h=document.querySelector(u.header));var v,y,b,x,_,w,S,T,M=function(e){return e?(n=e,parseInt(t.getComputedStyle(n).height,10)+e.offsetTop):0;var n}(h),A=p?r:function(e,n,r,o){var a=0;if(e.offsetParent)for(;a+=e.offsetTop,e=e.offsetParent;);return a=Math.max(a-n-r,0),o&&(a=Math.min(a,i()-t.innerHeight)),a}(g,M,parseInt("function"==typeof u.offset?u.offset(r,s):u.offset,10),u.clip),E=A-m,C=i(),L=0,P=(v=E,b=(y=u).speedAsDuration?y.speed:Math.abs(v/1e3*y.speed),y.durationMax&&b>y.durationMax?y.durationMax:y.durationMin&&b<y.durationMin?y.durationMin:parseInt(b,10)),k=function(e){var n,i,c;x||(x=e),L+=e-x,w=m+E*(i=_=1<(_=0===P?0:L/P)?1:_,"easeInQuad"===(n=u).easing&&(c=i*i),"easeOutQuad"===n.easing&&(c=i*(2-i)),"easeInOutQuad"===n.easing&&(c=i<.5?2*i*i:(4-2*i)*i-1),"easeInCubic"===n.easing&&(c=i*i*i),"easeOutCubic"===n.easing&&(c=--i*i*i+1),"easeInOutCubic"===n.easing&&(c=i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1),"easeInQuart"===n.easing&&(c=i*i*i*i),"easeOutQuart"===n.easing&&(c=1- --i*i*i*i),"easeInOutQuart"===n.easing&&(c=i<.5?8*i*i*i*i:1-8*--i*i*i*i),"easeInQuint"===n.easing&&(c=i*i*i*i*i),"easeOutQuint"===n.easing&&(c=1+--i*i*i*i*i),"easeInOutQuint"===n.easing&&(c=i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i),n.customEasing&&(c=n.customEasing(i)),c||i),t.scrollTo(0,Math.floor(w)),function(e,n){var i=t.pageYOffset;if(e==n||i==n||(m<n&&t.innerHeight+i)>=C)return d.cancelScroll(!0),o(r,n,p),a("scrollStop",u,r,s),!(f=x=null)}(w,A)||(f=t.requestAnimationFrame(k),x=e)};0===t.pageYOffset&&t.scrollTo(0,0),S=r,T=u,p||history.pushState&&T.updateURL&&history.pushState({smoothScroll:JSON.stringify(T),anchor:S.id},document.title,S===document.documentElement?"#top":"#"+S.id),"matchMedia"in t&&t.matchMedia("(prefers-reduced-motion)").matches?o(r,Math.floor(A),!1):(a("scrollStart",u,r,s),d.cancelScroll(!0),t.requestAnimationFrame(k))}}},p=function(e){if(!e.defaultPrevented&&!(0!==e.button||e.metaKey||e.ctrlKey||e.shiftKey)&&"closest"in e.target&&(u=e.target.closest(s))&&"a"===u.tagName.toLowerCase()&&!e.target.closest(l.ignore)&&u.hostname===t.location.hostname&&u.pathname===t.location.pathname&&/#/.test(u.href)){var n,i;try{n=r(decodeURIComponent(u.hash))}catch(e){n=r(u.hash)}if("#"===n){if(!l.topOnEmptyHash)return;i=document.documentElement}else i=document.querySelector(n);(i=i||"#top"!==n?i:document.documentElement)&&(e.preventDefault(),function(e){if(history.replaceState&&e.updateURL&&!history.state){var n=t.location.hash;n=n||"",history.replaceState({smoothScroll:JSON.stringify(e),anchor:n||t.pageYOffset},document.title,n||t.location.href)}}(l),d.animateScroll(i,u))}},g=function(t){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(l)){var e=history.state.anchor;"string"==typeof e&&e&&!(e=document.querySelector(r(history.state.anchor)))||d.animateScroll(e,null,{updateURL:!1})}};return d.destroy=function(){l&&(document.removeEventListener("click",p,!1),t.removeEventListener("popstate",g,!1),d.cancelScroll(),f=h=u=l=null)},function(){if(!("querySelector"in document&&"addEventListener"in t&&"requestAnimationFrame"in t&&"closest"in t.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";d.destroy(),l=n(e,c||{}),h=l.header?document.querySelector(l.header):null,document.addEventListener("click",p,!1),l.updateURL&&l.popstate&&t.addEventListener("popstate",g,!1)}(),d}}(i)}.apply(e,[]))||(t.exports=r)}).call(this,n(97))},function(t,e,n){var r=n(38),i=n(31);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),c=r(n),l=s.length;return c<0||c>=l?t?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):o:t?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){t.exports=!n(18)&&!n(16)((function(){return 7!=Object.defineProperty(n(61)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){e.f=n(10)},function(t,e,n){var r=n(14),i=n(32),o=n(39),a=n(83),s=n(19).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(29),i=n(33),o=n(86)(!1),a=n(65)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(33),i=n(23),o=n(64);t.exports=function(t){return function(e,n,a){var s,c=r(e),l=i(c.length),u=o(a,l);if(t&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(27);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(29),i=n(25),o=n(65)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(15),i=n(36),o=n(10)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(16);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),l=null,u=0,h=[],f=n(133);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(b(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function g(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=h[h.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=c(t.insertAt.before,n);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var a=u++;n=l||(l=v(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),r=T.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=S.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return d(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&d(p(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var x,_=(x=[],function(t,e){return x[t]=e,x.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function S(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function T(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,n){"use strict";var r=n(9),i=n(23),o=n(95),a="".startsWith;r(r.P+r.F*n(96)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){var r=n(71),i=n(31);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(10)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(15);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(44),i=n(10)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(47),i=n(10)("iterator"),o=n(44);t.exports=n(32).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(25),i=n(88);n(74)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(17);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";var r=n(9),i=n(95);r(r.P+r.F*n(96)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(9),i=n(86)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(55)("includes")},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,l=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!u){var t=s(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||u||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r,i,o,a,s=n(39),c=n(14),l=n(30),u=n(47),h=n(9),f=n(17),d=n(36),p=n(77),g=n(78),m=n(90),v=n(108).set,y=n(152)(),b=n(109),x=n(153),_=n(154),w=n(155),S=c.TypeError,T=c.process,M=T&&T.versions,A=M&&M.v8||"",E=c.Promise,C="process"==u(T),L=function(){},P=i=b.f,k=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(10)("species")]=function(t){t(L,L)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==A.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(i||(2==t._h&&N(t),t._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===e.promise?l(S("Promise-chain cycle")):(o=R(n))?o.call(n,c,l):c(n)):l(r)}catch(t){u&&!a&&u.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)}))}},I=function(t){v.call(c,(function(){var e,n,r,i=t._v,o=D(t);if(o&&(e=x((function(){C?T.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=C||D(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(t){v.call(c,(function(){var e;C?T.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},G=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=R(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,l(G,r,1),l(F,r,1))}catch(t){F.call(r,t)}})):(n._v=t,n._s=1,O(n,!1))}catch(t){F.call({_w:n,_d:!1},t)}}};k||(E=function(t){p(this,E,"Promise","_h"),d(t),r.call(this);try{t(l(G,this,1),l(F,this,1))}catch(t){F.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(76)(E.prototype,{then:function(t,e){var n=P(m(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(G,t,1),this.reject=l(F,t,1)},b.f=P=function(t){return t===E||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!k,{Promise:E}),n(42)(E,"Promise"),n(72)("Promise"),a=n(32).Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!k),"Promise",{resolve:function(t){return w(s&&this===a?E:this,t)}}),h(h.S+h.F*!(k&&n(75)((function(t){E.all(t).catch(L)}))),"Promise",{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=x((function(){var n=[],o=0,a=1;g(t,!1,(function(t){var s=o++,c=!1;n.push(void 0),a++,e.resolve(t).then((function(t){c||(c=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=x((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){var r,i,o,a=n(30),s=n(102),c=n(68),l=n(61),u=n(14),h=u.process,f=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,g=u.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete v[t]},"process"==n(27)(h)?r=function(t){h.nextTick(a(y,t,1))}:g&&g.now?r=function(t){g.now(a(y,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,n){"use strict";var r=n(36);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r,i;r=this,i=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function r(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var r=document.createElement("img");r.src=this.options.avatar,r.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(r):t.insertAdjacentElement("afterbegin",r)}if(!0===this.options.close){var i=document.createElement("button");i.type="button",i.setAttribute("aria-label","Close"),i.className="toast-close",i.innerHTML="&#10006;",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var o=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&o>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var s=n("x",this.options),c=n("y",this.options),l="left"==this.options.position?s:"-"+s,u="toastify-top"==this.options.gravity?c:"-"+c;t.style.transform="translate("+l+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},o=document.getElementsByClassName("toastify"),a=0;a<o.length;a++){t=!0===r(o[a],"toastify-top")?"toastify-top":"toastify-bottom";var s=o[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(o[a].style[t]=i[t]+"px",i[t]+=s+15):!0===r(o[a],"toastify-left")?(o[a].style[t]=e[t]+"px",e[t]+=s+15):(o[a].style[t]=n[t]+"px",n[t]+=s+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=i():r.Toastify=i()},function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?h(t):e}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),Object.assign(this,b,e),this.smartphone=b.smartphone,e.smartphone&&Object.assign(this.smartphone,e.smartphone),this.tablet=b.tablet,e.tablet&&Object.assign(this.tablet,e.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return i(t,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){t.resize(),t.resizeTick=!1})))}},{key:"resize",value:function(){}},{key:"checkContext",value:function(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var t=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",t!=this.context)("desktop"==t?this.smooth:this[t].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function(){var t=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(e){e.addEventListener("click",t.setScrollTo,!1)}))}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),{offset:t.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(t){var e=this,n=this.instance.scroll.y,r=n+this.windowHeight,i=this.instance.scroll.x,o=i+this.windowWidth;Object.entries(this.els).forEach((function(a){var s=g(a,2),c=s[0],l=s[1];if(!l||l.inView&&!t||("horizontal"===e.direction?o>=l.left&&i<l.right&&e.setInView(l,c):r>=l.top&&n<l.bottom&&e.setInView(l,c)),l&&l.inView)if("horizontal"===e.direction){var u=l.right-l.left;l.progress=(e.instance.scroll.x-(l.left-e.windowWidth))/(u+e.windowWidth),(o<l.left||i>l.right)&&e.setOutOfView(l,c)}else{var h=l.bottom-l.top;l.progress=(e.instance.scroll.y-(l.top-e.windowHeight))/(h+e.windowHeight),(r<l.top||n>l.bottom)&&e.setOutOfView(l,c)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),this.currentElements[e]=t,t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1))}},{key:"setOutOfView",value:function(t,e){var n=this;this.els[e].inView=!1,Object.keys(this.currentElements).forEach((function(t){t===e&&delete n.currentElements[t]})),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map((function(t){return t.trim()})),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var n=new Event(this.namespace+"call");this.el.dispatchEvent(n)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var n=this.listeners[t];n.push(e),1===n.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var n=this.listeners[t],r=n.indexOf(e);r<0||(n.splice(r,1),0===n.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,n=t.type.replace(this.namespace,""),r=this.listeners[n];r&&0!==r.length&&r.forEach((function(t){switch(n){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}}))}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var t=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(e){t.el.removeEventListener(t.namespace+e,t.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(e){e.removeEventListener("click",t.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),t}(),_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var S=w((function(t,e){t.exports={polyfill:function(){var t=window,e=document;if(!("scrollBehavior"in e.documentElement.style)||!0===t.__forceSmoothScrollPolyfill__){var n,r=t.HTMLElement||t.Element,i={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:r.prototype.scroll||s,scrollIntoView:r.prototype.scrollIntoView},o=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,a=(n=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(n)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?p.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):i.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(c(arguments[0])?i.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},r.prototype.scroll=r.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==c(arguments[0])){var t=arguments[0].left,e=arguments[0].top;p.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},r.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==c(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},r.prototype.scrollIntoView=function(){if(!0!==c(arguments[0])){var n=f(this),r=n.getBoundingClientRect(),o=this.getBoundingClientRect();n!==e.body?(p.call(this,n,n.scrollLeft+o.left-r.left,n.scrollTop+o.top-r.top),"fixed"!==t.getComputedStyle(n).position&&t.scrollBy({left:r.left,top:r.top,behavior:"smooth"})):t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})}else i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function s(t,e){this.scrollLeft=t,this.scrollTop=e}function c(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function l(t,e){return"Y"===e?t.clientHeight+a<t.scrollHeight:"X"===e?t.clientWidth+a<t.scrollWidth:void 0}function u(e,n){var r=t.getComputedStyle(e,null)["overflow"+n];return"auto"===r||"scroll"===r}function h(t){var e=l(t,"Y")&&u(t,"Y"),n=l(t,"X")&&u(t,"X");return e||n}function f(t){for(;t!==e.body&&!1===h(t);)t=t.parentNode||t.host;return t}function d(e){var n,r,i,a,s=(o()-e.startTime)/468;a=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*a)),r=e.startX+(e.x-e.startX)*n,i=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,r,i),r===e.x&&i===e.y||t.requestAnimationFrame(d.bind(t,e))}function p(n,r,a){var c,l,u,h,f=o();n===e.body?(c=t,l=t.scrollX||t.pageXOffset,u=t.scrollY||t.pageYOffset,h=i.scroll):(c=n,l=n.scrollLeft,u=n.scrollTop,h=s),d({scrollable:c,method:h,startTime:f,startX:l,startY:u,x:r,y:a})}}}})),T=(S.polyfill,function(t){c(r,t);var e=d(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),(t=e.call(this,i)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",t.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=S,window.smoothscrollPolyfill.polyfill()),t}return i(r,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),p(l(r.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;p(l(r.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){t.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var t=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(e,n){e.getBoundingClientRect();var r,i,o,a=e.dataset[t.name+"Class"]||t.class,s="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:n,c="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,l=e.dataset[t.name+"Repeat"],u=e.dataset[t.name+"Call"],h=e.dataset[t.name+"Target"],f=(o=void 0!==h?document.querySelector("".concat(h)):e).getBoundingClientRect();r=f.top+t.instance.scroll.y,i=f.left+t.instance.scroll.x;var d=r+o.offsetHeight,p=i+o.offsetWidth;l="false"!=l&&(null!=l||t.repeat);var g=t.getRelativeOffset(c),m={el:e,targetEl:o,id:s,class:a,top:r+=g[0],bottom:d-=g[1],left:i,right:p,offset:c,progress:0,repeat:l,inView:!1,call:u};t.els[s]=m,e.classList.contains(a)&&t.setInView(t.els[s],s)}))}},{key:"updateElements",value:function(){var t=this;Object.entries(this.els).forEach((function(e){var n=g(e,2),r=n[0],i=n[1],o=i.targetEl.getBoundingClientRect().top+t.instance.scroll.y,a=o+i.targetEl.offsetHeight,s=t.getRelativeOffset(i.offset);t.els[r].top=o+s[0],t.els[r].bottom=a-s[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var n=0;n<t.length;n++)"string"==typeof t[n]?t[n].includes("%")?e[n]=parseInt(t[n].replace("%","")*this.windowHeight/100):e[n]=parseInt(t[n]):e[n]=t[n];return e}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(e.offset)||0,r=!!e.callback&&e.callback;if("string"==typeof t){if("top"===t)t=this.html;else if("bottom"===t)t=this.html.offsetHeight-window.innerHeight;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");n="number"!=typeof t?t.getBoundingClientRect().top+n+this.instance.scroll.y:t+n;var i=function(){return parseInt(window.pageYOffset)===parseInt(n)};if(r){if(i())return void r();var o=function t(){i()&&(window.removeEventListener("scroll",t),r())};window.addEventListener("scroll",o)}window.scrollTo({top:n,behavior:0===e.duration?"auto":"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){p(l(r.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),r}(x)),M=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function C(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var L=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=C(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))A.call(n,a)&&(i[a]=n[a]);if(M){r=M(n);for(var s=0;s<r.length;s++)E.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i};function P(){}P.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function i(){r.off(t,i),e.apply(n,arguments)}return i._=e,this.on(t,i,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}};var k=P,R=w((function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,n,r){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=r?r:150,this.lastUpDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.lastDownDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.deltasTimestamp=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,n,r,i,o,a,s;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(r=e.slice(0,this.stability),n=e.slice(this.stability,2*this.stability),s=r.reduce((function(t,e){return t+e})),o=n.reduce((function(t,e){return t+e})),a=s/r.length,i=o/n.length,Math.abs(a)<Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(_)})),O={hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1},I=Object.prototype.toString,D=Object.prototype.hasOwnProperty;function N(t,e){return function(){return t.apply(e,arguments)}}var F=R.Lethargy,G="virtualscroll",B=W,V=37,z=38,U=39,j=40,H=32;function W(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var n in t)D.call(t,n)&&"function"==typeof t[n]&&"[object Function]"==I.call(t[n])&&e.push(n);for(var r=0;r<e.length;r++){var i=e[r];t[i]=N(t[i],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=L({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new F),this._emitter=new k,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function X(t,e,n){return(1-n)*t+n*e}function Y(t){var e={};if(window.getComputedStyle){var n=getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform,i=r.match(/^matrix3d\((.+)\)$/);return i?(e.x=i?parseFloat(i[1].split(", ")[12]):0,e.y=i?parseFloat(i[1].split(", ")[13]):0):(i=r.match(/^matrix\((.+)\)$/),e.x=i?parseFloat(i[1].split(", ")[4]):0,e.y=i?parseFloat(i[1].split(", ")[5]):0),e}}function q(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}W.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(G,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},W.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var n=this._event;n.deltaX=t.wheelDeltaX||-1*t.deltaX,n.deltaY=t.wheelDeltaY||-1*t.deltaY,O.isFirefox&&1==t.deltaMode&&(n.deltaX*=e.firefoxMultiplier,n.deltaY*=e.firefoxMultiplier),n.deltaX*=e.mouseMultiplier,n.deltaY*=e.mouseMultiplier,this._notify(t)}},W.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},W.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},W.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var n=this._event,r=t.targetTouches?t.targetTouches[0]:t;n.deltaX=(r.pageX-this.touchStartX)*e.touchMultiplier,n.deltaY=(r.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=r.pageX,this.touchStartY=r.pageY,this._notify(t)},W.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var n=window.innerHeight-40;switch(t.keyCode){case V:case z:e.deltaY=this.options.keyStep;break;case U:case j:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=n;break;case H:e.deltaY=-n;break;default:return}this._notify(t)},W.prototype._bind=function(){O.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),O.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),O.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),O.hasPointer&&O.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),O.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},W.prototype._unbind=function(){O.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),O.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),O.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),O.hasPointer&&O.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),O.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},W.prototype.on=function(t,e){this._emitter.on(G,t,e);var n=this._emitter.e;n&&n[G]&&1===n[G].length&&this._bind()},W.prototype.off=function(t,e){this._emitter.off(G,t,e);var n=this._emitter.e;(!n[G]||n[G].length<=0)&&this._unbind()},W.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},W.prototype.destroy=function(){this._emitter.off(),this._unbind()};var Q="function"==typeof Float32Array;function Z(t,e){return 1-3*e+3*t}function $(t,e){return 3*e-6*t}function K(t){return 3*t}function J(t,e,n){return((Z(e,n)*t+$(e,n))*t+K(e))*t}function tt(t,e,n){return 3*Z(e,n)*t*t+2*$(e,n)*t+K(e)}function et(t){return t}var nt=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return et;for(var i=Q?new Float32Array(11):new Array(11),o=0;o<11;++o)i[o]=J(.1*o,t,n);function a(e){for(var r=0,o=1;10!==o&&i[o]<=e;++o)r+=.1;--o;var a=r+.1*((e-i[o])/(i[o+1]-i[o])),s=tt(a,t,n);return s>=.001?function(t,e,n,r){for(var i=0;i<4;++i){var o=tt(e,n,r);if(0===o)return e;e-=(J(e,n,r)-t)/o}return e}(e,a,t,n):0===s?a:function(t,e,n,r,i){var o,a,s=0;do{(o=J(a=e+(n-e)/2,r,i)-t)>0?n=a:e=a}while(Math.abs(o)>1e-7&&++s<10);return a}(e,r,r+.1,t,n)}return function(t){return 0===t?0:1===t?1:J(a(t),e,r)}},rt=38,it=40,ot=32,at=9,st=33,ct=34,lt=36,ut=35,ht=function(t){c(r,t);var e=d(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n(this,r),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(t=e.call(this,i)).inertia&&(t.lerp=.1*t.inertia),t.isScrolling=!1,t.isDraggingScrollbar=!1,t.isTicking=!1,t.hasScrollTicking=!1,t.parallaxElements={},t.stop=!1,t.scrollbarContainer=i.scrollbarContainer,t.checkKey=t.checkKey.bind(h(t)),window.addEventListener("keydown",t.checkKey,!1),t}return i(r,[{key:"init",value:function(){var t=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=s({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new B({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(e){t.stop||t.isDraggingScrollbar||requestAnimationFrame((function(){t.updateDelta(e),t.isScrolling||t.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),p(l(r.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var t=0,e=this.el.children,n=0;n<e.length;n++)t+=e[n].offsetWidth;this.instance.limit.x=t-this.windowWidth}}},{key:"startScrolling",value:function(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)t.keyCode==at&&requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(t.keyCode){case at:requestAnimationFrame((function(){e.html.scrollTop=0,document.body.scrollTop=0,e.html.scrollLeft=0,document.body.scrollLeft=0,e.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case rt:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]-=240);break;case it:this.isActiveElementScrollSensitive()&&(this.instance.delta[this.directionAxis]+=240);break;case st:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case ct:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case lt:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case ut:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case ot:this.isActiveElementScrollSensitive()&&(t.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"isActiveElementScrollSensitive",value:function(){return!(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||document.activeElement instanceof HTMLButtonElement||document.activeElement instanceof HTMLSelectElement)}},{key:"checkScroll",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return t.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var n=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),i=Date.now()-this.startScrollTs;if(!this.animatingScroll&&i>100&&(n<.5&&0!=this.instance.delta[this.directionAxis]||n<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(n){var r=g(n,2),i=(r[0],r[1]);i.persistent||t.instance.scroll[t.directionAxis]>i.offset[t.directionAxis]&&t.instance.scroll[t.directionAxis]<i.limit[t.directionAxis]?("horizontal"===t.direction?t.transform(i.el,-t.instance.scroll[t.directionAxis],0):t.transform(i.el,0,-t.instance.scroll[t.directionAxis]),i.inView||(i.inView=!0,i.el.style.opacity=1,i.el.style.pointerEvents="all",i.el.setAttribute("data-".concat(t.name,"-section-inview"),""))):((i.inView||e)&&(i.inView=!1,i.el.style.opacity=0,i.el.style.pointerEvents="none",i.el.removeAttribute("data-".concat(t.name,"-section-inview"))),t.transform(i.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var o=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,o,0):this.transform(this.scrollbarThumb,0,o)}p(l(r.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function(t){var e,n=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;e="both"===n?t.deltaX+t.deltaY:"vertical"===n?t.deltaY:"horizontal"===n?t.deltaX:t.deltaY,this.instance.delta[this.directionAxis]-=e*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=X(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(t){var e=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var n=100*(t.clientX-e.scrollbarBCR.left)/e.scrollbarWidth*e.instance.limit.x/100,r=100*(t.clientY-e.scrollbarBCR.top)/e.scrollbarHeight*e.instance.limit.y/100;r>0&&r<e.instance.limit.y&&(e.instance.delta.y=r),n>0&&n<e.instance.limit.x&&(e.instance.delta.x=n)}))}},{key:"addElements",value:function(){var t=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(e,n){var r,i,o,a=q(e),s=Object.entries(t.sections).map((function(t){var e=g(t,2);e[0];return e[1]})).find((function(t){return a.includes(t.el)})),c=e.dataset[t.name+"Class"]||t.class,l="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"el"+n,u=e.dataset[t.name+"Repeat"],h=e.dataset[t.name+"Call"],f=e.dataset[t.name+"Position"],d=e.dataset[t.name+"Delay"],p=e.dataset[t.name+"Direction"],m="string"==typeof e.dataset[t.name+"Sticky"],v=!!e.dataset[t.name+"Speed"]&&parseFloat(e.dataset[t.name+"Speed"])/10,y="string"==typeof e.dataset[t.name+"Offset"]?e.dataset[t.name+"Offset"].split(","):t.offset,b=e.dataset[t.name+"Target"],x=(o=void 0!==b?document.querySelector("".concat(b)):e).getBoundingClientRect();null===s||s.inView?(r=x.top+t.instance.scroll.y-Y(o).y,i=x.left+t.instance.scroll.x-Y(o).x):(r=x.top-Y(s.el).y-Y(o).y,i=x.left-Y(s.el).x-Y(o).x);var _=r+o.offsetHeight,w=i+o.offsetWidth,S={x:(w-i)/2+i,y:(_-r)/2+r};if(m){var T=e.getBoundingClientRect(),M=T.top,A=T.left,E={x:A-i,y:M-r};r+=window.innerHeight,i+=window.innerWidth,_=M+o.offsetHeight-e.offsetHeight-E[t.directionAxis],S={x:((w=A+o.offsetWidth-e.offsetWidth-E[t.directionAxis])-i)/2+i,y:(_-r)/2+r}}u="false"!=u&&(null!=u||t.repeat);var C=[0,0];if(y)if("horizontal"===t.direction){for(var L=0;L<y.length;L++)"string"==typeof y[L]?y[L].includes("%")?C[L]=parseInt(y[L].replace("%","")*t.windowWidth/100):C[L]=parseInt(y[L]):C[L]=y[L];i+=C[0],w-=C[1]}else{for(L=0;L<y.length;L++)"string"==typeof y[L]?y[L].includes("%")?C[L]=parseInt(y[L].replace("%","")*t.windowHeight/100):C[L]=parseInt(y[L]):C[L]=y[L];r+=C[0],_-=C[1]}var P={el:e,id:l,class:c,section:s,top:r,middle:S,bottom:_,left:i,right:w,offset:y,progress:0,repeat:u,inView:!1,call:h,speed:v,delay:d,position:f,target:o,direction:p,sticky:m};t.els[l]=P,e.classList.contains(c)&&t.setInView(t.els[l],l),(!1!==v||m)&&(t.parallaxElements[l]=P)}))}},{key:"addSections",value:function(){var t=this;this.sections={};var e=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===e.length&&(e=[this.el]),e.forEach((function(e,n){var r="string"==typeof e.dataset[t.name+"Id"]?e.dataset[t.name+"Id"]:"section"+n,i=e.getBoundingClientRect(),o={x:i.left-1.5*window.innerWidth-Y(e).x,y:i.top-1.5*window.innerHeight-Y(e).y},a={x:o.x+i.width+2*window.innerWidth,y:o.y+i.height+2*window.innerHeight},s="string"==typeof e.dataset[t.name+"Persistent"];e.setAttribute("data-scroll-section-id",r);var c={el:e,offset:o,limit:a,inView:!1,persistent:s,id:r};t.sections[r]=c}))}},{key:"transform",value:function(t,e,n,r){var i;if(r){var o=Y(t),a=X(o.x,e,r),s=X(o.y,n,r);i="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(a,",").concat(s,",0,1)")}else i="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(n,",0,1)");t.style.webkitTransform=i,t.style.msTransform=i,t.style.transform=i}},{key:"transformElements",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.scroll.x+this.windowWidth,i=this.instance.scroll.y+this.windowHeight,o={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(a){var s=g(a,2),c=(s[0],s[1]),l=!1;if(t&&(l=0),c.inView||n)switch(c.position){case"top":l=e.instance.scroll[e.directionAxis]*-c.speed;break;case"elementTop":l=(i-c.top)*-c.speed;break;case"bottom":l=(e.instance.limit[e.directionAxis]-i+e.windowHeight)*c.speed;break;case"left":l=e.instance.scroll[e.directionAxis]*-c.speed;break;case"elementLeft":l=(r-c.left)*-c.speed;break;case"right":l=(e.instance.limit[e.directionAxis]-r+e.windowHeight)*c.speed;break;default:l=(o[e.directionAxis]-c.middle[e.directionAxis])*-c.speed}c.sticky&&(l=c.inView?"horizontal"===e.direction?e.instance.scroll.x-c.left+window.innerWidth:e.instance.scroll.y-c.top+window.innerHeight:"horizontal"===e.direction?e.instance.scroll.x<c.left-window.innerWidth&&e.instance.scroll.x<c.left-window.innerWidth/2?0:e.instance.scroll.x>c.right&&e.instance.scroll.x>c.right+100&&c.right-c.left+window.innerWidth:e.instance.scroll.y<c.top-window.innerHeight&&e.instance.scroll.y<c.top-window.innerHeight/2?0:e.instance.scroll.y>c.bottom&&e.instance.scroll.y>c.bottom+100&&c.bottom-c.top+window.innerHeight),!1!==l&&("horizontal"===c.direction||"horizontal"===e.direction&&"vertical"!==c.direction?e.transform(c.el,l,0,!t&&c.delay):e.transform(c.el,0,l,!t&&c.delay))}))}},{key:"scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=parseInt(n.offset)||0,i=isNaN(parseInt(n.duration))?1e3:parseInt(n.duration),o=n.easing||[.25,0,.35,1],a=!!n.disableLerp,s=!!n.callback&&n.callback;if(o=nt.apply(void 0,m(o)),"string"==typeof t){if("top"===t)t=0;else if("bottom"===t)t=this.instance.limit.y;else if("left"===t)t=0;else if("right"===t)t=this.instance.limit.x;else if(!(t=document.querySelector(t)))return}else if("number"==typeof t)t=parseInt(t);else if(!t||!t.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof t){var c=q(t).includes(this.el);if(!c)return;var l=t.getBoundingClientRect(),u=l.top,h=l.left,f=q(t),d=f.find((function(t){return Object.entries(e.sections).map((function(t){var e=g(t,2);e[0];return e[1]})).find((function(e){return e.el==t}))})),p=0;p=d?Y(d)[this.directionAxis]:-this.instance.scroll[this.directionAxis],r="horizontal"===this.direction?h+r-p:u+r-p}else r=t+r;var v=parseFloat(this.instance.delta[this.directionAxis]),y=Math.max(0,Math.min(r,this.instance.limit[this.directionAxis])),b=y-v,x=function(t){a?"horizontal"===e.direction?e.setScroll(v+b*t,e.instance.delta.y):e.setScroll(e.instance.delta.x,v+b*t):e.instance.delta[e.directionAxis]=v+b*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var _=Date.now(),w=function t(){var n=(Date.now()-_)/i;n>1?(x(1),e.animatingScroll=!1,0==i&&e.update(),s&&s()):(e.scrollToRaf=requestAnimationFrame(t),x(o(n)))};w()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=s(s({},this.instance),{},{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){p(l(r.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),r}(x),ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.options=e,Object.assign(this,b,e),this.smartphone=b.smartphone,e.smartphone&&Object.assign(this.smartphone,e.smartphone),this.tablet=b.tablet,e.tablet&&Object.assign(this.tablet,e.tablet),this.smooth||"horizontal"!=this.direction||console.warn(" `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn(" `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn(" `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return i(t,[{key:"init",value:function(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new ht(this.options):this.scroll=new T(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e){this.scroll.scrollTo(t,e)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),t}();e.a=ft}).call(this,n(97))},function(t,e,n){t.exports=function(){"use strict";function t(t){var e=this;e.d3=window.d3?window.d3:n(159),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function e(n){this.internal=new t(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function t(e,n,r){Object.keys(e).forEach((function(i){n[i]=e[i].bind(r),Object.keys(e[i]).length>0&&t(e[i],n[i],r)}))}(e.prototype,this,this)}var r=function(t){return Math.ceil(t)+.5},i=function(t){return 10*Math.ceil(t/10)},o=function(t){return t[1]-t[0]},a=function(t,e,n){return u(t[e])?t[e]:n},s=function(t){var e=c(t),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}},c=function(t){try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},l=function(t){return Array.isArray(t)},u=function(t){return void 0!==t},h=function(t){return null==t||p(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},f=function(t){return"function"==typeof t},d=function(t){return"number"==typeof t},p=function(t){return"string"==typeof t},g=function(t){return void 0===t},m=function(t){return t||0===t},v=function(t){return!h(t)},y=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},b=function(t){var e=function(t){void 0===t&&(t=window.navigator.userAgent);var e=t.indexOf("MSIE ");return e>0?parseInt(t.substring(e+5,t.indexOf(".",e)),10):(e=t.indexOf("Trident/"))>0&&(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10))}();return void 0===t?!!e:t===e};function x(t,e){this.component=t,this.params=e||{},this.d3=t.d3,this.scale=this.d3.scaleLinear(),this.range,this.orient="bottom",this.innerTickSize=6,this.outerTickSize=this.params.withOuterTick?6:0,this.tickPadding=3,this.tickValues=null,this.tickFormat,this.tickArguments,this.tickOffset=0,this.tickCulling=!0,this.tickCentered,this.tickTextCharSize,this.tickTextRotate=this.params.tickTextRotate,this.tickLength,this.axis=this.generateAxis()}x.prototype.axisX=function(t,e,n){t.attr("transform",(function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"}))},x.prototype.axisY=function(t,e){t.attr("transform",(function(t){return"translate(0,"+Math.ceil(e(t))+")"}))},x.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},x.prototype.generateTicks=function(t){var e,n,r=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r},x.prototype.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},x.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},x.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},x.prototype.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text((function(t){return e.textFormatted(t)})).each((function(t){var r=c(this),i=e.textFormatted(t),o=r.height,a=i?r.width/i.length:void 0;o&&a&&(n.h=o,n.w=a)})).text(""),e.tickTextCharSize=n,n},x.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},x.prototype.tspanData=function(t,e,n){var r=this.params.tickMultiline?this.splitTickText(t,n):[].concat(this.textFormatted(t));return this.params.tickMultiline&&this.params.tickMultilineMax>0&&(r=this.ellipsify(r,this.params.tickMultilineMax)),r.map((function(t){return{index:e,splitted:t,length:r.length}}))},x.prototype.splitTickText=function(t,e){var n,r,i,o=this,a=o.textFormatted(t),s=o.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(a)?a:((!s||s<=0)&&(s=o.isVertical()?95:o.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function t(e,a){r=void 0;for(var c=1;c<a.length;c++)if(" "===a.charAt(c)&&(r=c),n=a.substr(0,c+1),i=o.tickTextCharSize.w*n.length,s<i)return t(e.concat(a.substr(0,r||c)),a.slice(r?r+1:c));return e.concat(a)}([],a+""))},x.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),r=3,i=e-1;i>=0;i--){var o=n[i].length;if(n[i]=n[i].substr(0,o-r).padEnd(o,"."),(r-=o)<=0)break}return n},x.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},x.prototype.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},x.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},x.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},x.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},x.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},x.prototype.tspanDy=function(t,e){var n=this.tickTextCharSize.h;return 0===e&&(n=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),n},x.prototype.generateAxis=function(){var t=this,e=t.d3,n=t.params;function r(i,o){var a;return i.each((function(){var i,s,c,l=r.g=e.select(this),u=this.__chart__||t.scale,h=this.__chart__=t.copyScale(),f=t.tickValues?t.tickValues:t.generateTicks(h),d=l.selectAll(".tick").data(f,h),p=d.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),g=d.exit().remove(),m=d.merge(p);n.isCategory?(t.tickOffset=Math.ceil((h(1)-h(0))/2),s=t.tickCentered?0:t.tickOffset,c=t.tickCentered?t.tickOffset:0):t.tickOffset=s=0,t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(l.select(".tick"));var v=m.select("line").merge(p.append("line")),y=m.select("text").merge(p.append("text")),b=m.selectAll("text").selectAll("tspan").data((function(e,n){return t.tspanData(e,n,h)})),x=b.enter().append("tspan").merge(b).text((function(t){return t.splitted}));b.exit().remove();var _=l.selectAll(".domain").data([0]),w=_.enter().append("path").merge(_).attr("class","domain");switch(t.orient){case"bottom":i=t.axisX,v.attr("x1",s).attr("x2",s).attr("y2",(function(e,n){return t.lineY2(e,n)})),y.attr("x",0).attr("y",(function(e,n){return t.textY(e,n)})).attr("transform",(function(e,n){return t.textTransform(e,n)})).style("text-anchor",(function(e,n){return t.textTextAnchor(e,n)})),x.attr("x",0).attr("dy",(function(e,n){return t.tspanDy(e,n)})).attr("dx",(function(e,n){return t.tspanDx(e,n)})),w.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":i=t.axisX,v.attr("x1",s).attr("x2",s).attr("y2",(function(e,n){return-1*t.lineY2(e,n)})),y.attr("x",0).attr("y",(function(e,r){return-1*t.textY(e,r)-(n.isCategory?2:t.tickLength-2)})).attr("transform",(function(e,n){return t.textTransform(e,n)})).style("text-anchor",(function(e,n){return t.textTextAnchor(e,n)})),x.attr("x",0).attr("dy",(function(e,n){return t.tspanDy(e,n)})).attr("dx",(function(e,n){return t.tspanDx(e,n)})),w.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":i=t.axisY,v.attr("x2",-t.innerTickSize).attr("y1",c).attr("y2",c),y.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),x.attr("x",-t.tickLength).attr("dy",(function(e,n){return t.tspanDy(e,n)})),w.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":i=t.axisY,v.attr("x2",t.innerTickSize).attr("y1",c).attr("y2",c),y.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),x.attr("x",t.tickLength).attr("dy",(function(e,n){return t.tspanDy(e,n)})),w.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(h.rangeBand){var S=h,T=S.rangeBand()/2;u=h=function(t){return S(t)+T}}else u.rangeBand?u=h:g.call(i,h,t.tickOffset);p.call(i,u,t.tickOffset),a=(o?m.transition(o):m).style("opacity",1).call(i,h,t.tickOffset)})),a}return r.scale=function(e){return arguments.length?(t.scale=e,r):t.scale},r.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",r):t.orient},r.tickFormat=function(e){return arguments.length?(t.tickFormat=e,r):t.tickFormat},r.tickCentered=function(e){return arguments.length?(t.tickCentered=e,r):t.tickCentered},r.tickOffset=function(){return t.tickOffset},r.tickInterval=function(){var e;return(e=n.isCategory?2*t.tickOffset:(r.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/r.g.selectAll("line").size())==1/0?0:e},r.ticks=function(){return arguments.length?(t.tickArguments=arguments,r):t.tickArguments},r.tickCulling=function(e){return arguments.length?(t.tickCulling=e,r):t.tickCulling},r.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return r},r};var _={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},w=function(t){this.owner=t,this.d3=t.d3,this.internal=x},S=w;S.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",_.axis+" "+_.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",_.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",_.axis+" "+_.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",_.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",_.axis+" "+_.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",_.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},S.prototype.getXAxis=function(t,e,n,r,i,o,a){var s=this.owner,c=s.config,l={isCategory:s.isCategorized(),withOuterTick:i,tickMultiline:c.axis_x_tick_multiline,tickMultilineMax:c.axis_x_tick_multiline?Number(c.axis_x_tick_multilineMax):0,tickWidth:c.axis_x_tick_width,tickTextRotate:a?0:c.axis_x_tick_rotate,withoutTransition:o},u=new this.internal(this,l).axis.scale(t).orient(e);return s.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map((function(t){return s.parseDate(t)}))),u.tickFormat(n).tickValues(r),s.isCategorized()&&(u.tickCentered(c.axis_x_tick_centered),h(c.axis_x_tick_culling)&&(c.axis_x_tick_culling=!1)),u},S.prototype.updateXAxisTickValues=function(t,e){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},S.prototype.getYAxis=function(t,e,n,r,i,o,a){var s=this.owner,c=s.config,l=c["axis_"+t+"_tick_format"];!l&&s.isAxisNormalized(t)&&(l=function(t){return t+"%"});var u=new this.internal(this,{withOuterTick:i,withoutTransition:o,tickTextRotate:a?0:c.axis_y_tick_rotate}).axis.scale(e).orient(n);return l&&u.tickFormat(l),s.isTimeSeriesY()?u.ticks(c.axis_y_tick_time_type,c.axis_y_tick_time_interval):u.tickValues(r),u},S.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},S.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t};return e.axis_x_tick_format&&(f(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),f(n)?function(e){return n.call(t,e)}:n},S.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},S.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},S.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},S.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},S.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},S.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return p(e)?e:e?e.text:null},S.prototype.setLabelText=function(t,e){var n=this.owner.config,r=this.getLabelOptionByAxisId(t);p(r)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):r&&(r.text=e)},S.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),r=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},S.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},S.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},S.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},S.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},S.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},S.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},S.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},S.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},S.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},S.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},S.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},S.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},S.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},S.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},S.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},S.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},S.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},S.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},S.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},S.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},S.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},S.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},S.prototype.getMaxTickWidth=function(t,e){var n,r,i,o,a=this.owner,s=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===t?(r=a.y.copy().domain(a.getYDomain(n,"y")),i=this.getYAxis(t,r,a.yOrient,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(r=a.y2.copy().domain(a.getYDomain(n,"y2")),i=this.getYAxis(t,r,a.y2Orient,a.y2AxisTickValues,!1,!0,!0)):(r=a.x.copy().domain(a.getXDomain(n)),i=this.getXAxis(r,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(i).each((function(){a.d3.select(this).selectAll("text").each((function(){var t=c(this);s<t.width&&(s=t.width)})),o.remove()}))),a.currentMaxTickWidths[t]=s<=0?a.currentMaxTickWidths[t]:s),a.currentMaxTickWidths[t]},S.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+_.axisX+" ."+_.axisXLabel),r=e.main.select("."+_.axisY+" ."+_.axisYLabel),i=e.main.select("."+_.axisY2+" ."+_.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},S.prototype.getPadding=function(t,e,n,r){var i="number"==typeof t?t:t[e];return m(i)?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(i,r):n},S.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},S.prototype.generateTickValues=function(t,e,n){var r,i,o,a,s,c,l,u=t;if(e)if(1===(r=f(e)?e():e))u=[t[0]];else if(2===r)u=[t[0],t[t.length-1]];else if(r>2){for(a=r-2,i=t[0],s=((o=t[t.length-1])-i)/(a+1),u=[i],c=0;c<a;c++)l=+i+s*(c+1),u.push(n?new Date(l):l);u.push(o)}return n||(u=u.sort((function(t,e){return t-e}))),u},S.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},S.prototype.redraw=function(t,e){var n=this.owner,r=t?n.d3.transition().duration(t):null;n.axes.x.style("opacity",e?0:1).call(n.xAxis,r),n.axes.y.style("opacity",e?0:1).call(n.yAxis,r),n.axes.y2.style("opacity",e?0:1).call(n.y2Axis,r),n.axes.subx.style("opacity",e?0:1).call(n.subXAxis,r)};var T={version:"0.7.20",chart:{fn:e.prototype,internal:{fn:t.prototype,axis:{fn:w.prototype,internal:{fn:x.prototype}}}},generate:function(t){return new e(t)}};function M(t,e,n){var r=[.01,10];function i(t){return n(e(t))}return e||(e=t.scaleLinear()).range(r),n||((n=t.scaleLog()).domain(r),n.nice()),i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(n.range(t),i):n.range()},i.ticks=function(t){return function(t,e,n){var r,i,o,a;if(arguments.length<3)n=10;else if(0===n)return[];a=(e-t)/(i=n-1),o=t,(r=new Array(n))[0]=Math.pow(10,o);for(var s=1;s<i;s++)o+=a,r[s]=Math.pow(10,o);return r[i]=Math.pow(10,e),r}(-2,1,t||10).map((function(t){return e.invert(t)}))},i.copy=function(){return M(t,e.copy(),n.copy())},i}function A(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}t.prototype.beforeInit=function(){},t.prototype.afterInit=function(){},t.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},t.prototype.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+(new Date).valueOf()+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(n.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=n.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?e.timeFormat(".%L")(t):t.getSeconds()?e.timeFormat(":%S")(t):t.getMinutes()?e.timeFormat("%I:%M")(t):t.getHours()?e.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()||1!==t.getDate()||t.getMonth()?e.timeFormat("%-m/%-d")(t):e.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},t.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},t.prototype.initWithData=function(t){var e,n,r=this,i=r.d3,o=r.config,a=!0;r.axis=new w(r),o.bindto?"function"==typeof o.bindto.node?r.selectChart=o.bindto:r.selectChart=i.select(o.bindto):r.selectChart=i.selectAll([]),r.selectChart.empty()&&(r.selectChart=i.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),a=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),o.data_filter&&(r.data.targets=r.data.targets.filter(o.data_filter)),o.data_hide&&r.addHiddenTargetIds(!0===o.data_hide?r.mapToIds(r.data.targets):o.data_hide),o.legend_hide&&r.addHiddenLegendIds(!0===o.legend_hide?r.mapToIds(r.data.targets):o.legend_hide),r.isStanfordGraphType()&&r.initStanfordData(),r.updateSizes(),r.updateScales(),r.x.domain(i.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",(function(){return o.onmouseover.call(r)})).on("mouseleave",(function(){return o.onmouseout.call(r)})),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initPie&&r.initPie(),r.initDragZoom&&r.initDragZoom(),o.subchart_show&&r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),r.initZoom&&r.initZoom(),r.isStanfordGraphType()&&r.drawColorScale(),o.subchart_show&&r.initSubchartBrush&&r.initSubchartBrush(),n.append("text").attr("class",_.text+" "+_.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",_.chart),o.grid_lines_front&&r.initGridLines(),r.initStanfordElements(),r.initEventRect(),r.initChartElements(),r.axis.init(),r.updateTargets(r.data.targets),o.axis_x_selection&&r.brush.selectionAsValue(r.getDefaultSelection()),a&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.bindWindowFocus(),r.api.element=r.selectChart.node()},t.prototype.smoothLines=function(t,e){var n=this;"grid"===e&&t.each((function(){var t=n.d3.select(this),e=t.attr("x1"),r=t.attr("x2"),i=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(o)})}))},t.prototype.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x",!0),c=e.subchart_show&&!o?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:c+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+c+i+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-c-i,right:NaN,bottom:s+i,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},t.prototype.updateTargets=function(t){var e=this,n=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),n.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},t.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+_.target).filter((function(e){return t.isTargetToShow(e.id)})).transition().duration(t.config.transition_duration).style("opacity",1)},t.prototype.redraw=function(t,e){var n,r,i,o,s,c,l,u,h,f,d,p,g,m,v,y,b,x,w,S,T,M,A,E,C,L,P,k,R,O,I,D=this,N=D.main,F=D.d3,G=D.config,B=D.getShapeIndices(D.isAreaType),V=D.getShapeIndices(D.isBarType),z=D.getShapeIndices(D.isLineType),U=D.hasArcType(),j=D.filterTargetsToShow(D.data.targets),H=D.xv.bind(D);if(n=a(t=t||{},"withY",!0),r=a(t,"withSubchart",!0),i=a(t,"withTransition",!0),c=a(t,"withTransform",!1),l=a(t,"withUpdateXDomain",!1),u=a(t,"withUpdateOrgXDomain",!1),h=a(t,"withTrimXDomain",!0),g=a(t,"withUpdateXAxis",l),f=a(t,"withLegend",!1),d=a(t,"withEventRect",!0),p=a(t,"withDimension",!0),o=a(t,"withTransitionForExit",i),s=a(t,"withTransitionForAxis",i),w=i?G.transition_duration:0,S=o?w:0,T=s?w:0,e=e||D.axis.generateTransitions(T),f&&G.legend_show?D.updateLegend(D.mapToIds(D.data.targets),t,e):p&&D.updateDimension(!0),D.isCategorized()&&0===j.length&&D.x.domain([0,D.axes.x.selectAll(".tick").size()]),j.length?(D.updateXDomain(j,l,u,h),G.axis_x_tick_values||(L=D.axis.updateXAxisTickValues(j))):(D.xAxis.tickValues([]),D.subXAxis.tickValues([])),G.zoom_rescale&&!t.flow&&(R=D.x.orgDomain()),D.y.domain(D.getYDomain(j,"y",R)),D.y2.domain(D.getYDomain(j,"y2",R)),!G.axis_y_tick_values&&G.axis_y_tick_count&&D.yAxis.tickValues(D.axis.generateTickValues(D.y.domain(),G.axis_y_tick_count)),!G.axis_y2_tick_values&&G.axis_y2_tick_count&&D.y2Axis.tickValues(D.axis.generateTickValues(D.y2.domain(),G.axis_y2_tick_count)),D.axis.redraw(T,U),D.axis.updateLabels(i),(l||g)&&j.length)if(G.axis_x_tick_culling&&L){for(P=1;P<L.length;P++)if(L.length/P<G.axis_x_tick_culling_max){k=P;break}D.svg.selectAll("."+_.axisX+" .tick text").each((function(t){var e=L.indexOf(t);e>=0&&F.select(this).style("display",e%k?"none":"block")}))}else D.svg.selectAll("."+_.axisX+" .tick text").style("display","block");m=D.generateDrawArea?D.generateDrawArea(B,!1):void 0,v=D.generateDrawBar?D.generateDrawBar(V):void 0,y=D.generateDrawLine?D.generateDrawLine(z,!1):void 0,b=D.generateXYForText(B,V,z,!0),x=D.generateXYForText(B,V,z,!1),D.updateCircleY(),O=(D.config.axis_rotated?D.circleY:D.circleX).bind(D),I=(D.config.axis_rotated?D.circleX:D.circleY).bind(D),n&&(D.subY.domain(D.getYDomain(j,"y")),D.subY2.domain(D.getYDomain(j,"y2"))),D.updateXgridFocus(),N.select("text."+_.text+"."+_.empty).attr("x",D.width/2).attr("y",D.height/2).text(G.data_empty_label_text).transition().style("opacity",j.length?0:1),d&&D.redrawEventRect(),D.updateGrid(w),D.updateStanfordElements(w),D.updateRegion(w),D.updateBar(S),D.updateLine(S),D.updateArea(S),D.updateCircle(O,I),D.hasDataLabel()&&D.updateText(b,x,S),D.redrawTitle&&D.redrawTitle(),D.redrawArc&&D.redrawArc(w,S,c),G.subchart_show&&D.redrawSubchart&&D.redrawSubchart(r,e,w,S,B,V,z),D.isStanfordGraphType()&&D.drawColorScale(),N.selectAll("."+_.selectedCircles).filter(D.isBarType.bind(D)).selectAll("circle").remove(),t.flow&&(E=D.generateFlow({targets:j,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:m,cx:O,cy:I,xv:H,xForText:b,yForText:x})),w&&D.isTabVisible()?(C=F.transition().duration(w),M=[],[D.redrawBar(v,!0,C),D.redrawLine(y,!0,C),D.redrawArea(m,!0,C),D.redrawCircle(O,I,!0,C),D.redrawText(b,x,t.flow,!0,C),D.redrawRegion(!0,C),D.redrawGrid(!0,C)].forEach((function(t){t.forEach((function(t){M.push(t)}))})),A=D.generateWait(),M.forEach((function(t){A.add(t)})),A((function(){E&&E(),G.onrendered&&G.onrendered.call(D)}))):(D.redrawBar(v),D.redrawLine(y),D.redrawArea(m),D.redrawCircle(O,I),D.redrawText(b,x,t.flow),D.redrawRegion(),D.redrawGrid(),E&&E(),G.onrendered&&G.onrendered.call(D)),D.mapToIds(D.data.targets).forEach((function(t){D.withoutFadeIn[t]=!0}))},t.prototype.updateAndRedraw=function(t){var e,n=this,r=n.config;(t=t||{}).withTransition=a(t,"withTransition",!0),t.withTransform=a(t,"withTransform",!1),t.withLegend=a(t,"withLegend",!1),t.withUpdateXDomain=a(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=a(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=a(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},t.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},t.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},t.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},t.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||v(t.data_xs))},t.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},t.prototype.getTranslate=function(t){var e,n,i=this,o=i.config;return"main"===t?(e=r(i.margin.left),n=r(i.margin.top)):"context"===t?(e=r(i.margin2.left),n=r(i.margin2.top)):"legend"===t?(e=i.margin3.left,n=i.margin3.top):"x"===t?(e=0,n=o.axis_rotated?0:i.height):"y"===t?(e=0,n=o.axis_rotated?i.height:0):"y2"===t?(e=o.axis_rotated?0:i.width,n=o.axis_rotated?1:0):"subx"===t?(e=0,n=o.axis_rotated?0:i.height2):"arc"===t&&(e=i.arcWidth/2,n=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+e+","+n+")"},t.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},t.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},t.prototype.opacityForCircle=function(t){var e=(f(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return m(t.value)?this.isScatterType(t)?.5:e:0},t.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},t.prototype.xx=function(t){return t?this.x(t.x):null},t.prototype.xvCustom=function(t,e){var n=this,r=e?t[e]:t.value;return n.isTimeSeries()?r=n.parseDate(t.value):n.isCategorized()&&"string"==typeof t.value&&(r=n.config.axis_x_categories.indexOf(t.value)),Math.ceil(n.x(r))},t.prototype.yvCustom=function(t,e){var n=t.axis&&"y2"===t.axis?this.y2:this.y,r=e?t[e]:t.value;return Math.ceil(n(r))},t.prototype.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},t.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},t.prototype.subxx=function(t){return t?this.subX(t.x):null},t.prototype.transformMain=function(t,e){var n,r,i,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+_.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+_.axisY),t&&(r=r.transition())),e&&e.axisY2?i=e.axisY2:(i=o.main.select("."+_.axisY2),t&&(i=i.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),i.attr("transform",o.getTranslate("y2")),o.main.select("."+_.chartArcs).attr("transform",o.getTranslate("arc"))},t.prototype.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},t.prototype.updateSvgSize=function(){var t=this,e=t.svg.select("."+_.brush+" .overlay");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()&&e.attr("height")||0),t.selectChart.style("max-height",t.currentHeight+"px")},t.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},t.prototype.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver((function(r){r.forEach((function(r){"childList"===r.type&&r.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval((function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))}),10))}))}))).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},t.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add((function(){e.onresize.call(t)})),e.resize_auto&&t.resizeFunction.add((function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout((function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()}),100)})),t.resizeFunction.add((function(){e.onresized.call(t)})),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.addEventListener("resize",t.resizeIfElementDisplayed,!1)},t.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener("focus",this.windowFocusHandler))},t.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},t.prototype.generateResize=function(){var t=[];function e(){t.forEach((function(t){t()}))}return e.add=function(e){t.push(e)},e.remove=function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}},e},t.prototype.endall=function(t,e){var n=0;t.each((function(){++n})).on("end",(function(){--n||e.apply(this,arguments)}))},t.prototype.generateWait=function(){var t=this,e=[],n=function(n){var r=setInterval((function(){if(t.isTabVisible()){var i=0;e.forEach((function(t){if(t.empty())i+=1;else try{t.transition()}catch(t){i+=1}})),i===e.length&&(clearInterval(r),n&&n())}}),50)};return n.add=function(t){e.push(t)},n},t.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeParse(t):"object"==typeof t?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},t.prototype.isTabVisible=function(){return!document.hidden},t.prototype.getPathBox=s,t.prototype.CLASS=_,"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,r,i,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=r,this._y1=i,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=r,this._y1=i},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,r,i,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=r,this._r2=i,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=r,this._y2=i},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,r,i,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,r,i,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,r,i,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,r,i,o,a){return new window.SVGPathSegArcAbs(void 0,t,e,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,r,i,o,a){return new window.SVGPathSegArcRel(void 0,t,e,n,r,i,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach((function(t){"d"==t.attributeName&&(e=!0)})),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(t){t._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach((function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()})),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},r.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var t=0,e=0,n=1,r=0,i=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var c=this._currentIndex-1,l=1;c>=s;)e+=l*(this._string.charAt(c--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+r;if(u*=i,t&&(u*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},r.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var i=new n,o=new r(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];i.appendSegment(a)}return i.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0}),e.prototype.axis=function(){},e.prototype.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach((function(n){e.axis.setLabelText(n,t[n])})),e.axis.updateLabels())},e.prototype.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"==typeof t?(m(t.x)&&(n.axis_x_max=t.x),m(t.y)&&(n.axis_y_max=t.y),m(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},e.prototype.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"==typeof t?(m(t.x)&&(n.axis_x_min=t.x),m(t.y)&&(n.axis_y_min=t.y),m(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},e.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};u(t.max)&&this.axis.max(t.max),u(t.min)&&this.axis.min(t.min)},e.prototype.axis.types=function(t){var e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};u(t.y)&&(e.config.axis_y_type=t.y),u(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},e.prototype.category=function(t,e){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[t]=e,n.redraw()),r.axis_x_categories[t]},e.prototype.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},e.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},e.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},e.prototype.destroy=function(){var t=this.internal;return window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.removeEventListener("resize",t.resizeIfElementDisplayed),t.resizeFunction.remove(),t.unbindWindowFocus(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach((function(e){t[e]=null})),null},e.prototype.color=function(t){return this.internal.color(t)},e.prototype.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter((function(e){return[].concat(t).indexOf(e.id)>=0}))},e.prototype.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},e.prototype.data.values=function(t,e){void 0===e&&(e=!0);var n=null;if(t){var r=this.data(t);r&&l(r)&&(n=r.reduce((function(t,n){var r=n.values.map((function(t){return t.value}));return e?t=t.concat(r):t.push(r),t}),[]))}return n},e.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},e.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},e.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},e.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},e.prototype.donut=function(){},e.prototype.donut.padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},e.prototype.flow=function(t){var e,n,r,i,o,a,s,c=this.internal,l=[],h=c.getMaxDataCount(),f=0,d=0;if(t.json)n=c.convertJsonToData(t.json,t.keys);else if(t.rows)n=c.convertRowsToData(t.rows);else{if(!t.columns)return;n=c.convertColumnsToData(t.columns)}e=c.convertDataToTargets(n,!0),c.data.targets.forEach((function(t){var n,r,i=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(i=!0,t.values[t.values.length-1]&&(d=t.values[t.values.length-1].index+1),f=e[n].values.length,r=0;r<f;r++)e[n].values[r].index=d+r,c.isTimeSeries()||(e[n].values[r].x=d+r);t.values=t.values.concat(e[n].values),e.splice(n,1);break}i||l.push(t.id)})),c.data.targets.forEach((function(t){var e,n;for(e=0;e<l.length;e++)if(t.id===l[e])for(d=t.values[t.values.length-1].index+1,n=0;n<f;n++)t.values.push({id:t.id,index:d+n,x:c.isTimeSeries()?c.getOtherTargetX(d+n):d+n,value:null})})),c.data.targets.length&&e.forEach((function(t){var e,n=[];for(e=c.data.targets[0].values[0].index;e<d;e++)n.push({id:t.id,index:e,x:c.isTimeSeries()?c.getOtherTargetX(e):e,value:null});t.values.forEach((function(t){t.index+=d,c.isTimeSeries()||(t.x+=d)})),t.values=n.concat(t.values)})),c.data.targets=c.data.targets.concat(e),c.getMaxDataCount(),o=(i=c.data.targets[0]).values[0],u(t.to)?(f=0,s=c.isTimeSeries()?c.parseDate(t.to):t.to,i.values.forEach((function(t){t.x<s&&f++}))):u(t.length)&&(f=t.length),h?1===h&&c.isTimeSeries()&&(a=(i.values[i.values.length-1].x-o.x)/2,r=[new Date(+o.x-a),new Date(+o.x+a)],c.updateXDomain(null,!0,!0,!1,r)):(a=c.isTimeSeries()?i.values.length>1?i.values[i.values.length-1].x-o.x:o.x-c.getXDomain(c.data.targets)[0]:1,r=[o.x-a,o.x],c.updateXDomain(null,!0,!0,!1,r)),c.updateTargets(c.data.targets),c.redraw({flow:{index:o.index,length:f,duration:m(t.duration)?t.duration:c.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},t.prototype.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var i,a,s,c,l,u,h,f,d,p,g,m=t.targets,v=t.flow,y=t.drawBar,b=t.drawLine,x=t.drawArea,w=t.cx,S=t.cy,T=t.xv,M=t.xForText,A=t.yForText,E=t.duration,C=v.index,L=v.length,P=e.getValueOnIndex(e.data.targets[0].values,C),k=e.getValueOnIndex(e.data.targets[0].values,C+L),R=e.x.domain(),O=v.duration||E,I=v.done||function(){},D=e.generateWait();e.flowing=!0,e.data.targets.forEach((function(t){t.values.splice(0,L)})),s=e.updateXDomain(m,!0,!0),e.updateXGrid&&e.updateXGrid(!0),c=e.xgrid||r.selectAll([]),l=e.xgridLines||r.selectAll([]),u=e.mainRegion||r.selectAll([]),h=e.mainText||r.selectAll([]),f=e.mainBar||r.selectAll([]),d=e.mainLine||r.selectAll([]),p=e.mainArea||r.selectAll([]),g=e.mainCircle||r.selectAll([]),v.orgDataCount?i=1===v.orgDataCount||(P&&P.x)===(k&&k.x)||e.isTimeSeries()?e.x(R[0])-e.x(s[0]):e.x(P.x)-e.x(k.x):1!==e.data.targets[0].values.length?i=e.x(R[0])-e.x(s[0]):e.isTimeSeries()?(P=e.getValueOnIndex(e.data.targets[0].values,0),k=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),i=e.x(P.x)-e.x(k.x)):i=o(s)/2,a="translate("+i+",0) scale("+o(R)/o(s)+",1)",e.hideXGridFocus();var N=r.transition().ease(r.easeLinear).duration(O);D.add(e.xAxis(e.axes.x,N)),D.add(f.transition(N).attr("transform",a)),D.add(d.transition(N).attr("transform",a)),D.add(p.transition(N).attr("transform",a)),D.add(g.transition(N).attr("transform",a)),D.add(h.transition(N).attr("transform",a)),D.add(u.filter(e.isRegionOnX).transition(N).attr("transform",a)),D.add(c.transition(N).attr("transform",a)),D.add(l.transition(N).attr("transform",a)),D((function(){var t,r=[],i=[];if(L){for(t=0;t<L;t++)r.push("."+_.shape+"-"+(C+t)),i.push("."+_.text+"-"+(C+t));e.svg.selectAll("."+_.shapes).selectAll(r).remove(),e.svg.selectAll("."+_.texts).selectAll(i).remove(),e.svg.select("."+_.xgrid).remove()}c.attr("transform",null).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),l.attr("transform",null),l.select("line").attr("x1",n.axis_rotated?0:T).attr("x2",n.axis_rotated?e.width:T),l.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",T),f.attr("transform",null).attr("d",y),d.attr("transform",null).attr("d",b),p.attr("transform",null).attr("d",x),g.attr("transform",null).attr("cx",w).attr("cy",S),h.attr("transform",null).attr("x",M).attr("y",A).style("fill-opacity",e.opacityForText.bind(e)),u.attr("transform",null),u.filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),I(),e.flowing=!1}))}},e.prototype.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(_.focused,!0).classed(_.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter((function(e){return t.indexOf(e)<0}))},e.prototype.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(_.focused,!1).classed(_.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter((function(e){return t.indexOf(e)<0})),e.defocusedTargetIds=t},e.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(_.focused,!1).classed(_.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter((function(){return e.d3.select(this).classed(_.legendItemFocused)})).classed(_.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},e.prototype.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},e.prototype.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},e.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},e.prototype.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},e.prototype.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},e.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},e.prototype.groups=function(t){var e=this.internal,n=e.config;return g(t)||(n.data_groups=t,e.redraw()),n.data_groups},e.prototype.legend=function(){},e.prototype.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},e.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},e.prototype.load=function(t){var n=this.internal,r=n.config;t.xs&&n.addXs(t.xs),"names"in t&&e.prototype.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){r.data_classes[e]=t.classes[e]})),"categories"in t&&n.isCategorized()&&(r.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){r.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){r.data_colors[e]=t.colors[e]})),"cacheIds"in t&&n.hasCaches(t.cacheIds)?n.load(n.getCaches(t.cacheIds),t.done):t.unload?n.unload(n.mapToTargetIds(!0===t.unload?null:t.unload),(function(){n.loadFromArgs(t)})):n.loadFromArgs(t)},e.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),(function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()}))},e.prototype.pie=function(){},e.prototype.pie.padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},e.prototype.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},e.prototype.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},e.prototype.regions.remove=function(t){var e,n,r,i=this.internal,o=i.config;return e=a(t=t||{},"duration",o.transition_duration),n=a(t,"classes",[_.region]),r=i.main.select("."+_.regions).selectAll(n.map((function(t){return"."+t}))),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){n.indexOf(t)>=0&&(e=!0)})),!e)})),o.regions},e.prototype.selected=function(t){var e=this.internal,n=e.d3;return e.main.selectAll("."+_.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+_.shape).filter((function(){return n.select(this).classed(_.SELECTED)})).nodes().map((function(t){var e=t.__data__;return e.data?e.data:e}))},e.prototype.select=function(t,e,n){var r=this.internal,i=r.d3,o=r.config;o.data_selection_enabled&&r.main.selectAll("."+_.shapes).selectAll("."+_.shape).each((function(a,s){var c=i.select(this),l=a.data?a.data.id:a.id,h=r.getToggle(this,a).bind(r),f=o.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(s)>=0,p=c.classed(_.SELECTED);c.classed(_.line)||c.classed(_.area)||(f&&d?o.data_selection_isselectable(a)&&!p&&h(!0,c.classed(_.SELECTED,!0),a,s):u(n)&&n&&p&&h(!1,c.classed(_.SELECTED,!1),a,s))}))},e.prototype.unselect=function(t,e){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+_.shapes).selectAll("."+_.shape).each((function(o,a){var s=r.select(this),c=o.data?o.data.id:o.id,l=n.getToggle(this,o).bind(n),u=i.data_selection_grouped||!t||t.indexOf(c)>=0,h=!e||e.indexOf(a)>=0,f=s.classed(_.SELECTED);s.classed(_.line)||s.classed(_.area)||u&&h&&i.data_selection_isselectable(o)&&f&&l(!1,s.classed(_.SELECTED,!1),o,a)}))},e.prototype.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("display",b()?"block":"initial","important").style("opacity",1,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",1)})),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.prototype.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",0,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",0),n.style("display","none")})),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.prototype.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach((function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)}))},e.prototype.subchart=function(){},e.prototype.subchart.isShown=function(){return this.internal.config.subchart_show},e.prototype.subchart.show=function(){var t=this.internal;t.config.subchart_show||(t.config.subchart_show=!0,t.initSubchart(),t.updateDimension(),t.initSubchartBrush(),t.updateTargetsForSubchart(t.getTargets()),t.mapToIds(t.data.targets).forEach((function(e){t.withoutFadeIn[e]=!1})),t.updateAndRedraw(),t.showTargets())},e.prototype.subchart.hide=function(){var t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},e.prototype.tooltip=function(){},e.prototype.tooltip.show=function(t){var e,n,r=this.internal,i={};t.mouse?i=t.mouse:(t.data?n=t.data:void 0!==t.x&&(e=t.id?r.data.targets.filter((function(e){return e.id===t.id})):r.data.targets,n=r.filterByX(e,t.x).slice(0,1)[0]),i=n?r.getMousePosition(n):null),r.dispatchEvent("mousemove",i),r.config.tooltip_onshow.call(r,n)},e.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},e.prototype.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},t.prototype.transformTo=function(t,e,n){var r=this,i=!r.hasArcType(),o=n||{withTransitionForAxis:i};o.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(o)},e.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},e.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},e.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map((function(t){return e.parseDate(t)}))),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()},e.prototype.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},e.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},e.prototype.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=r.max([e.orgXDomain[1],t])},e.prototype.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=r.min([e.orgXDomain[0],t])},e.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};u(t.max)&&this.domain.max(t.max),u(t.min)&&this.domain.min(t.min)},t.prototype.initPie=function(){var t=this,e=t.d3;t.pie=e.pie().padAngle(this.getPadAngle.bind(this)).value((function(t){return t.values.reduce((function(t,e){return t+e.value}),0)}));var n=t.getOrderFunction();if(n&&(t.isOrderAsc()||t.isOrderDesc())){var r=n;n=function(t,e){return-1*r(t,e)}}t.pie.sort(n||null)},t.prototype.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,r=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(r<=t.radius-t.innerRadius?t.radius-t.innerRadius:r<=t.radius?r:t.radius)},t.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},t.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},t.prototype.updateAngle=function(t){var e,n,r,i,o=this,a=o.config,s=!1,c=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach((function(e){s||e.data.id!==t.data.id||(s=!0,(t=e).index=c),c++})),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),o.isGaugeType(t.data)&&(e=a.gauge_min,n=a.gauge_max,r=Math.PI*(a.gauge_fullCircle?2:1)/(n-e),i=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=a.gauge_startingAngle,t.endAngle=t.startAngle+r*i),s?t:null):null},t.prototype.getSvgArc=function(){var t=this,e=t.hasType("gauge"),n=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,r=t.d3.arc().outerRadius((function(r){return e?t.radius-n*r.index:t.radius})).innerRadius((function(r){return e?t.radius-n*(r.index+1):t.innerRadius})),i=function(e,n){var i;return n?r(e):(i=t.updateAngle(e))?r(i):"M 0 0"};return i.centroid=r.centroid,i},t.prototype.getSvgArcExpanded=function(t){t=t||1;var e=this,n=e.hasType("gauge"),r=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,i=Math.min(e.radiusExpanded*t-e.radius,.8*r-100*(1-t)),o=e.d3.arc().outerRadius((function(o){return n?e.radius-r*o.index+i:e.radiusExpanded*t})).innerRadius((function(t){return n?e.radius-r*(t.index+1):e.innerRadius}));return function(t){var n=e.updateAngle(t);return n?o(n):"M 0 0"}},t.prototype.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},t.prototype.transformForArcLabel=function(t){var e,n,r,i,o,a=this,s=a.config,c=a.updateAngle(t),l="",u=a.hasType("gauge");if(c&&!u)e=this.svgArc.centroid(c),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],i=Math.sqrt(n*n+r*r),l="translate("+n*(o=a.hasType("donut")&&s.donut_label_ratio?f(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,i):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?f(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,i):s.pie_label_ratio:a.radius&&i?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/i:0)+","+r*o+")";else if(c&&u&&a.filterTargetsToShow(a.data.targets).length>1){var h=Math.sin(c.endAngle-Math.PI/2);l="translate("+(n=Math.cos(c.endAngle-Math.PI/2)*(a.radiusExpanded+25))+","+(r=h*(a.radiusExpanded+15-Math.abs(10*h))+3)+")"}return l},t.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},t.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},t.prototype.textForArcLabel=function(t){var e,n,r,i,o,a=this;return a.shouldShowArcLabel()?(n=(e=a.updateAngle(t))?e.value:null,r=a.getRatio("arc",e),i=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(r)?(o=a.getArcLabelFormat())?o(n,r,i):a.defaultArcValueFormat(n,r):""):""},t.prototype.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},t.prototype.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval((function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))}),10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+_.chartArc)).each((function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each((function(t){n.isDonutType(t.data)}))})))},t.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+_.chartArc)).selectAll("path").transition().duration((function(t){return e.expandDuration(t.data.id)})).attr("d",e.svgArc),e.svg.selectAll("."+_.arc))},t.prototype.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},t.prototype.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},t.prototype.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},t.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},t.prototype.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},t.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},t.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},t.prototype.updateTargetsForArc=function(t){var e,n=this,r=n.main,i=n.classChartArc.bind(n),o=n.classArcs.bind(n),a=n.classFocus.bind(n);(e=r.select("."+_.chartArcs).selectAll("."+_.chartArc).data(n.pie(t)).attr("class",(function(t){return i(t)+a(t.data)})).enter().append("g").attr("class",i)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},t.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+_.chart).append("g").attr("class",_.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",_.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},t.prototype.redrawArc=function(t,e,n){var r,i,o,a,s=this,c=s.d3,l=s.config,u=s.main,h=s.hasType("gauge");if(i=(r=u.selectAll("."+_.arcs).selectAll("."+_.arc).data(s.arcData.bind(s))).enter().append("path").attr("class",s.classArc.bind(s)).style("fill",(function(t){return s.color(t.data)})).style("cursor",(function(t){return l.interaction_enabled&&l.data_selection_isselectable(t)?"pointer":null})).each((function(t){s.isGaugeType(t.data)&&(t.startAngle=t.endAngle=l.gauge_startingAngle),this._current=t})).merge(r),h&&(a=(o=u.selectAll("."+_.arcs).selectAll("."+_.arcLabelLine).data(s.arcData.bind(s))).enter().append("rect").attr("class",(function(t){return _.arcLabelLine+" "+_.target+" "+_.target+"-"+t.data.id})).merge(o),1===s.filterTargetsToShow(s.data.targets).length?a.style("display","none"):a.style("fill",(function(t){return s.levelColor?s.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):s.color(t.data)})).style("display",l.gauge_labelLine_show?"":"none").each((function(t){var e=0,n=0,r=0,i="";if(s.hiddenTargetIds.indexOf(t.data.id)<0){var o=s.updateAngle(t),a=s.gaugeArcWidth/s.filterTargetsToShow(s.data.targets).length*(o.index+1),l=o.endAngle-Math.PI/2,u=s.radius-a,h=l-(0===u?0:1/u);e=s.radiusExpanded-s.radius+a,n=Math.cos(h)*u,r=Math.sin(h)*u,i="rotate("+180*l/Math.PI+", "+n+", "+r+")"}c.select(this).attr("x",n).attr("y",r).attr("width",e).attr("height",2).attr("transform",i).style("stroke-dasharray","0, "+(e+2)+", 0")}))),i.attr("transform",(function(t){return!s.isGaugeType(t.data)&&n?"scale(0)":""})).on("mouseover",l.interaction_enabled?function(t){var e,n;s.transiting||(e=s.updateAngle(t))&&(n=s.convertToArcData(e),s.expandArc(e.data.id),s.api.focus(e.data.id),s.toggleFocusLegend(e.data.id,!0),s.config.data_onmouseover(n,this))}:null).on("mousemove",l.interaction_enabled?function(t){var e,n=s.updateAngle(t);n&&(e=[s.convertToArcData(n)],s.showTooltip(e,this))}:null).on("mouseout",l.interaction_enabled?function(t){var e,n;s.transiting||(e=s.updateAngle(t))&&(n=s.convertToArcData(e),s.unexpandArc(e.data.id),s.api.revert(),s.revertLegend(),s.hideTooltip(),s.config.data_onmouseout(n,this))}:null).on("click",l.interaction_enabled?function(t,e){var n,r=s.updateAngle(t);r&&(n=s.convertToArcData(r),s.toggleShape&&s.toggleShape(this,n,e),s.config.data_onclick.call(s.api,n,this))}:null).each((function(){s.transiting=!0})).transition().duration(t).attrTween("d",(function(t){var e,n=s.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=c.interpolate(this._current,n),this._current=e(0),function(n){if(null===s.config)return"M 0 0";var r=e(n);return r.data=t.data,s.getArc(r,!0)}):function(){return"M 0 0"}})).attr("transform",n?"scale(1)":"").style("fill",(function(t){return s.levelColor?s.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):s.color(t.data.id)})).call(s.endall,(function(){s.transiting=!1})),r.exit().transition().duration(e).style("opacity",0).remove(),u.selectAll("."+_.chartArc).select("text").style("opacity",0).attr("class",(function(t){return s.isGaugeType(t.data)?_.gaugeValue:""})).text(s.textForArcLabel.bind(s)).attr("transform",s.transformForArcLabel.bind(s)).style("font-size",(function(t){return s.isGaugeType(t.data)&&1===s.filterTargetsToShow(s.data.targets).length?Math.round(s.radius/5)+"px":""})).transition().duration(t).style("opacity",(function(t){return s.isTargetToShow(t.data.id)&&s.isArcType(t.data)?1:0})),u.select("."+_.chartArcsTitle).style("opacity",s.hasType("donut")||h?1:0),h){var f=0,d=s.arcs.select("g."+_.chartArcsBackground).selectAll("path."+_.chartArcsBackground).data(s.data.targets);d.enter().append("path").attr("class",(function(t,e){return _.chartArcsBackground+" "+_.chartArcsBackground+"-"+e})).merge(d).attr("d",(function(t){if(s.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var e={data:[{value:l.gauge_max}],startAngle:l.gauge_startingAngle,endAngle:-1*l.gauge_startingAngle*(l.gauge_fullCircle?Math.PI:1),index:f++};return s.getArc(e,!0,!0)})),d.exit().remove(),s.arcs.select("."+_.chartArcsGaugeUnit).attr("dy",".75em").text(l.gauge_label_show?l.gauge_units:""),s.arcs.select("."+_.chartArcsGaugeMin).attr("dx",-1*(s.innerRadius+(s.radius-s.innerRadius)/(l.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(l.gauge_label_show?s.textForGaugeMinMax(l.gauge_min,!1):""),s.arcs.select("."+_.chartArcsGaugeMax).attr("dx",s.innerRadius+(s.radius-s.innerRadius)/(l.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(l.gauge_label_show?s.textForGaugeMinMax(l.gauge_max,!0):"")}},t.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",_.chartArcsBackground),t.append("text").attr("class",_.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",_.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",_.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},t.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},t.prototype.addToCache=function(t,e){this.cache["$"+t]=e},t.prototype.getFromCache=function(t){return this.cache["$"+t]},t.prototype.resetCache=function(){var t=this;Object.keys(this.cache).filter((function(t){return/^\$/.test(t)})).forEach((function(e){delete t.cache[e]}))},t.prototype.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},t.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},t.prototype.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},t.prototype.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},t.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},t.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},t.prototype.classText=function(t){return this.generateClass(_.text,t.index)},t.prototype.classTexts=function(t){return this.generateClass(_.texts,t.id)},t.prototype.classShape=function(t){return this.generateClass(_.shape,t.index)},t.prototype.classShapes=function(t){return this.generateClass(_.shapes,t.id)},t.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(_.line,t.id)},t.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(_.lines,t.id)},t.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(_.circle,t.index)},t.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(_.circles,t.id)},t.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(_.bar,t.index)},t.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(_.bars,t.id)},t.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(_.arc,t.data.id)},t.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(_.arcs,t.data.id)},t.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(_.area,t.id)},t.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(_.areas,t.id)},t.prototype.classRegion=function(t,e){return this.generateClass(_.region,e)+" "+("class"in t?t.class:"")},t.prototype.classEvent=function(t){return this.generateClass(_.eventRect,t.index)},t.prototype.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+_.target+"-"+e),this.generateClass(_.target,t)+n},t.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},t.prototype.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?_.focused:"")},t.prototype.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?_.defocused:"")},t.prototype.classChartText=function(t){return _.chartText+this.classTarget(t.id)},t.prototype.classChartLine=function(t){return _.chartLine+this.classTarget(t.id)},t.prototype.classChartBar=function(t){return _.chartBar+this.classTarget(t.id)},t.prototype.classChartArc=function(t){return _.chartArc+this.classTarget(t.data.id)},t.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},t.prototype.selectorTarget=function(t,e){return(e||"")+"."+_.target+this.getTargetSelectorSuffix(t)},t.prototype.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map((function(t){return n.selectorTarget(t,e)})):null},t.prototype.selectorLegend=function(t){return"."+_.legendItem+this.getTargetSelectorSuffix(t)},t.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map((function(t){return e.selectorLegend(t)})):null},t.prototype.getClipPath=function(t){return"url("+(b(9)?"":document.URL.split("#")[0])+"#"+t+")"},t.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},t.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},t.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},t.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},t.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},t.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},t.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},t.prototype.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},t.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},t.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},t.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},t.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},t.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},t.prototype.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,r=v(t.color_pattern)?t.color_pattern:e.schemeCategory10,i=t.data_color,o=[];return function(t){var e,a=t.id||t.data&&t.data.id||t;return n[a]instanceof Function?e=n[a](t):n[a]?e=n[a]:(o.indexOf(a)<0&&o.push(a),e=r[o.indexOf(a)%r.length],n[a]=e),i instanceof Function?i(e,t):e}},t.prototype.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,r="value"===n.unit,i=n.values&&n.values.length?n.values:[],o=n.max||100;return v(n)&&v(e)?function(t){var n,a=e[e.length-1];for(n=0;n<i.length;n++)if((r?t:100*t/o)<i[n]){a=e[n];break}return a}:null},t.prototype.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach((function(e){t[e]=this.additionalConfig[e]}),this),t},t.prototype.additionalConfig={},t.prototype.loadConfig=function(t){var e,n,r,i=this.config;Object.keys(i).forEach((function(o){e=t,n=o.split("_"),r=function t(){var r=n.shift();return r&&e&&"object"==typeof e&&r in e?(e=e[r],t()):r?void 0:e}(),u(r)&&(i[o]=r)}))},t.prototype.convertUrlToData=function(t,e,n,r,i){var o,a,s=this,c=e||"csv";"json"===c?(o=s.d3.json,a=s.convertJsonToData):"tsv"===c?(o=s.d3.tsv,a=s.convertXsvToData):(o=s.d3.csv,a=s.convertXsvToData),o(t,n).then((function(t){i.call(s,a.call(s,t,r))})).catch((function(t){throw t}))},t.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=null,n))}),{})]}:{keys:e,rows:[].concat(t)}},t.prototype.convertJsonToData=function(t,e){var n,r,i=this,o=[];return e?(e.x?(n=e.value.concat(e.x),i.config.data_x=e.x):n=e.value,o.push(n),t.forEach((function(t){var e=[];n.forEach((function(n){var r=i.findValueInJson(t,n);g(r)&&(r=null),e.push(r)})),o.push(e)})),r=i.convertRowsToData(o)):(Object.keys(t).forEach((function(e){o.push([e].concat(t[e]))})),r=i.convertColumnsToData(o)),r},t.prototype.findValueInJson=function(t,e){if(e in t)return t[e];for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<n.length;++r){var i=n[r];if(!(i in t))return;t=t[i]}return t},t.prototype.convertRowsToData=function(t){for(var e=[],n=t[0],r=1;r<t.length;r++){for(var i={},o=0;o<t[r].length;o++){if(g(t[r][o]))throw new Error("Source data is missing a component at ("+r+","+o+")!");i[n[o]]=t[r][o]}e.push(i)}return{keys:n,rows:e}},t.prototype.convertColumnsToData=function(t){for(var e=[],n=[],r=0;r<t.length;r++){for(var i=t[r][0],o=1;o<t[r].length;o++){if(g(e[o-1])&&(e[o-1]={}),g(t[r][o]))throw new Error("Source data is missing a component at ("+r+","+o+")!");e[o-1][i]=t[r][o]}n.push(i)}return{keys:n,rows:e}},t.prototype.convertDataToTargets=function(t,e){var n,r,i,o,a,s=this,c=s.config;if(l(t)?o=Object.keys(t[0]):(o=t.keys,t=t.rows),i=o.filter(s.isX,s),s.isStanfordGraphType()){if(a=o.filter(s.isEpochs,s),r=o.filter(s.isNotXAndNotEpochs,s),1!==i.length||1!==a.length||1!==r.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else r=o.filter(s.isNotX,s);return r.forEach((function(n){var r=s.getXKey(n);s.isCustomX()||s.isTimeSeries()?i.indexOf(r)>=0?s.data.xs[n]=(e&&s.data.xs[n]?s.data.xs[n]:[]).concat(t.map((function(t){return t[r]})).filter(m).map((function(t,e){return s.generateTargetX(t,n,e)}))):c.data_x?s.data.xs[n]=s.getOtherTargetXs():v(c.data_xs)&&(s.data.xs[n]=s.getXValuesOfXKey(r,s.data.targets)):s.data.xs[n]=t.map((function(t,e){return e}))})),r.forEach((function(t){if(!s.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')})),(n=r.map((function(e,n){var r=c.data_idConverter(e);return{id:r,id_org:e,values:t.map((function(t,i){var o,l,u=t[s.getXKey(e)],h=null===t[e]||isNaN(t[e])?null:+t[e];return s.isCustomX()&&s.isCategorized()&&!g(u)?(0===n&&0===i&&(c.axis_x_categories=[]),-1===(o=c.axis_x_categories.indexOf(u))&&(o=c.axis_x_categories.length,c.axis_x_categories.push(u))):o=s.generateTargetX(u,e,i),(g(t[e])||s.data.xs[e].length<=i)&&(o=void 0),l={x:o,value:h,id:r},s.isStanfordGraphType()&&(l.epochs=t[a]),l})).filter((function(t){return u(t.x)}))}}))).forEach((function(t){var e;c.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),e=0,t.values.forEach((function(t){t.index=e++})),s.data.xs[t.id].sort((function(t,e){return t-e}))})),s.hasNegativeValue=s.hasNegativeValueInTargets(n),s.hasPositiveValue=s.hasPositiveValueInTargets(n),c.data_type&&s.setTargetType(s.mapToIds(n).filter((function(t){return!(t in c.data_types)})),c.data_type),n.forEach((function(t){s.addCache(t.id_org,t)})),n},t.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},t.prototype.isX=function(t){var e,n,r,i=this.config;return i.data_x&&t===i.data_x||v(i.data_xs)&&(e=i.data_xs,n=t,r=!1,Object.keys(e).forEach((function(t){e[t]===n&&(r=!0)})),r)},t.prototype.isNotX=function(t){return!this.isX(t)},t.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},t.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},t.prototype.isAxisNormalized=function(t){var e=this;return!!e.isStackNormalized()&&e.data.targets.filter((function(n){return e.axis.getId(n.id)===t})).some((function(t){return e.isTargetNormalized(t.id)}))},t.prototype.isTargetNormalized=function(t){return this.isStackNormalized()&&this.config.data_groups.some((function(e){return e.includes(t)}))},t.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:v(e.data_xs)?e.data_xs[t]:null},t.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var n=e.getFromCache("getTotalPerIndex");if(void 0!==n)return n[t];var r={y:[],y2:[]};return e.data.targets.filter((function(t){return e.isTargetNormalized(t.id)})).filter((function(t){return e.isTargetToShow(t.id)})).forEach((function(t){var n=r[e.axis.getId(t.id)];t.values.forEach((function(t,e){n[e]||(n[e]=0),n[e]+=d(t.value)?t.value:0}))})),e.addToCache("getTotalPerIndex",r),r[t]},t.prototype.getTotalDataSum=function(){var t=this,e=t.getFromCache("getTotalDataSum");if(void 0!==e)return e;var n,r=(n=t.data.targets.filter((function(e){return t.isTargetToShow(e.id)})).map((function(t){return t.values})),Array.isArray(n)?[].concat.apply([],n):[]).map((function(t){return t.value})).reduce((function(t,e){return t+e}),0);return t.addToCache("getTotalDataSum",r),r},t.prototype.getXValuesOfXKey=function(t,e){var n,r=this;return(e&&v(e)?r.mapToIds(e):[]).forEach((function(e){r.getXKey(e)===t&&(n=r.data.xs[e])})),n},t.prototype.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&m(this.data.xs[t][e])?this.data.xs[t][e]:e},t.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},t.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},t.prototype.addXs=function(t){var e=this;Object.keys(t).forEach((function(n){e.config.data_xs[n]=t[n]}))},t.prototype.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},t.prototype.getValueOnIndex=function(t,e){var n=t.filter((function(t){return t.index===e}));return n.length?n[0]:null},t.prototype.updateTargetX=function(t,e){var n=this;t.forEach((function(t){t.values.forEach((function(r,i){r.x=n.generateTargetX(e[i],t.id,i)})),n.data.xs[t.id]=e}))},t.prototype.updateTargetXs=function(t,e){var n=this;t.forEach((function(t){e[t.id]&&n.updateTargetX([t],e[t.id])}))},t.prototype.generateTargetX=function(t,e,n){var r=this;return r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?m(t)?+t:r.getXValue(e,n):n},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},t.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,(function(t){return t.values.length}))},t.prototype.mapToIds=function(t){return t.map((function(t){return t.id}))},t.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},t.prototype.hasTarget=function(t,e){var n,r=this.mapToIds(t);for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},t.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},t.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},t.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},t.prototype.filterTargetsToShow=function(t){var e=this;return t.filter((function(t){return e.isTargetToShow(t.id)}))},t.prototype.getTargets=function(){return this.data.targets},t.prototype.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map((function(t){return t.values.map((function(t){return+t.x}))})))).values();return(e=this.isTimeSeries()?e.map((function(t){return new Date(+t)})):e.map((function(t){return+t}))).sort((function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}))},t.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]));this.resetCache()},t.prototype.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter((function(e){return t.indexOf(e)<0})),this.resetCache()},t.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},t.prototype.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter((function(e){return t.indexOf(e)<0}))},t.prototype.getValuesAsIdKeyed=function(t){var e={};return t.forEach((function(t){e[t.id]=[],t.values.forEach((function(n){e[t.id].push(n.value)}))})),e},t.prototype.checkValueInTargets=function(t,e){var n,r,i,o=Object.keys(t);for(n=0;n<o.length;n++)for(i=t[o[n]].values,r=0;r<i.length;r++)if(e(i[r].value))return!0;return!1},t.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},t.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},t.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},t.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},t.prototype.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),n=this.isOrderDesc();if(e||n){var r=function(t,e){return t+Math.abs(e.value)};return function(t,n){var i=t.values.reduce(r,0),o=n.values.reduce(r,0);return e?o-i:i-o}}if(f(t.data_order))return t.data_order;if(l(t.data_order)){var i=t.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},t.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},t.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map((function(t){return t.values.filter((function(t){return t.index===e}))})))},t.prototype.filterByX=function(t,e){return this.d3.merge(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},t.prototype.filterRemoveNull=function(t){return t.filter((function(t){return m(t.value)}))},t.prototype.filterByXDomain=function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},t.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!v(t.data_labels))},t.prototype.getDataLabelLength=function(t,e,n){var r=this,i=[0,0];return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return r.dataLabelFormat(t.id)(t)})).each((function(t,e){i[e]=1.3*c(this)[n]})).remove(),i},t.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},t.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},t.prototype.findClosestFromTargets=function(t,e){var n=this,r=t.map((function(t){return n.findClosest(t.values,e,n.config.tooltip_horizontal?n.horizontalDistance.bind(n):n.dist.bind(n),n.config.point_sensitivity)})).filter((function(t){return t}));return 0===r.length?void 0:1===r.length?r[0]:n.findClosest(r,e,n.dist.bind(n))},t.prototype.findClosestFromTargetsByX=function(t,e){var n,r;return t.forEach((function(t){t.values.forEach((function(t){var i=Math.abs(e-t.x);(void 0===r||i<r)&&(n=t,r=i)}))})),n},t.prototype.findClosest=function(t,e,n,r){void 0===r&&(r=1/0);var i,o=this;return t.filter((function(t){return t&&o.isBarType(t.id)})).forEach((function(t){if(!i){var n=o.main.select("."+_.bars+o.getTargetSelectorSuffix(t.id)+" ."+_.bar+"-"+t.index).node();o.isWithinBar(e,n)&&(i=t)}})),t.filter((function(t){return t&&!o.isBarType(t.id)})).forEach((function(t){var o=n(t,e);o<r&&(r=o,i=t)})),i},t.prototype.dist=function(t,e){var n=this.config,r=n.axis_rotated?1:0,i=n.axis_rotated?0:1,o=this.circleY(t,t.index),a=this.x(t.x);return Math.sqrt(Math.pow(a-e[r],2)+Math.pow(o-e[i],2))},t.prototype.horizontalDistance=function(t,e){var n=this.config.axis_rotated?1:0,r=this.x(t.x);return Math.abs(r-e[n])},t.prototype.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},t.prototype.getRatio=function(t,e,n){void 0===n&&(n=!1);var r=this,i=r.api,o=0;if(e&&i.data.shown.call(i).length)if(o=e.ratio||e.value,"arc"===t)if(r.hasType("gauge"))o=(e.endAngle-e.startAngle)/(Math.PI*(r.config.gauge_fullCircle?2:1));else{var a=r.getTotalDataSum();o=e.value/a}else"index"===t&&(a=r.getTotalPerIndex(r.axis.getId(e.id)),e.ratio=d(e.value)&&a&&a[e.index]>0?e.value/a[e.index]:0,o=e.ratio);return n&&o?100*o:o},t.prototype.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach((function(t){n[t]=e[t]})),this.redraw({withLegend:!0})),n},t.prototype.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach((function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)})),n.data.targets.forEach((function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}})),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},t.prototype.loadFromArgs=function(t){var e=this;e.resetCache(),t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,(function(n){e.load(e.convertDataToTargets(n),t)})):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},t.prototype.unload=function(t,e){var n=this;n.resetCache(),e||(e=function(){}),(t=t.filter((function(t){return n.hasTarget(n.data.targets,t)})))&&0!==t.length?(n.svg.selectAll(t.map((function(t){return n.selectorTarget(t)}))).transition().style("opacity",0).remove().call(n.endall,e),t.forEach((function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+_.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter((function(e){return e.id!==t}))}))):e()},t.prototype.getYDomainMin=function(t){var e,n,r,i,o,a,s=this,c=s.config,l=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(c.data_groups.length>0)for(a=s.hasNegativeValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(i=c.data_groups[e].filter((function(t){return l.indexOf(t)>=0}))).length)for(r=i[0],a&&u[r]&&u[r].forEach((function(t,e){u[r][e]=t<0?t:0})),n=1;n<i.length;n++)o=i[n],u[o]&&u[o].forEach((function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!u[r]||a&&+t>0||(u[r][e]+=+t)}));return s.d3.min(Object.keys(u).map((function(t){return s.d3.min(u[t])})))},t.prototype.getYDomainMax=function(t){var e,n,r,i,o,a,s=this,c=s.config,l=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(c.data_groups.length>0)for(a=s.hasPositiveValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(i=c.data_groups[e].filter((function(t){return l.indexOf(t)>=0}))).length)for(r=i[0],a&&u[r]&&u[r].forEach((function(t,e){u[r][e]=t>0?t:0})),n=1;n<i.length;n++)o=i[n],u[o]&&u[o].forEach((function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!u[r]||a&&+t<0||(u[r][e]+=+t)}));return s.d3.max(Object.keys(u).map((function(t){return s.d3.max(u[t])})))},t.prototype.getYDomain=function(t,e,n){var r=this,i=r.config;if(r.isAxisNormalized(e))return[0,100];var a,s,c,l,u,h,f,d,p,g,y=t.filter((function(t){return r.axis.getId(t.id)===e})),b=n?r.filterByXDomain(y,n):y,x="y2"===e?i.axis_y2_min:i.axis_y_min,_="y2"===e?i.axis_y2_max:i.axis_y_max,w=r.getYDomainMin(b),S=r.getYDomainMax(b),T="y2"===e?i.axis_y2_center:i.axis_y_center,M=r.hasType("bar",b)&&i.bar_zerobased||r.hasType("area",b)&&i.area_zerobased,A="y2"===e?i.axis_y2_inverted:i.axis_y_inverted,E=r.hasDataLabel()&&i.axis_rotated,C=r.hasDataLabel()&&!i.axis_rotated;if(w=m(x)?x:m(_)?w<_?w:_-10:w,S=m(_)?_:m(x)?x<S?S:x+10:S,0===b.length)return"y2"===e?r.y2.domain():r.y.domain();if(isNaN(w)&&(w=0),isNaN(S)&&(S=w),w===S&&(w<0?S=0:w=0),p=w>=0&&S>=0,g=w<=0&&S<=0,(m(x)&&p||m(_)&&g)&&(M=!1),M&&(p&&(w=0),g&&(S=0)),c=l=.1*(s=Math.abs(S-w)),void 0!==T&&(S=T+(u=Math.max(Math.abs(w),Math.abs(S))),w=T-u),E)h=r.getDataLabelLength(w,S,"width"),f=o(r.y.range()),c+=s*((d=[h[0]/f,h[1]/f])[1]/(1-d[0]-d[1])),l+=s*(d[0]/(1-d[0]-d[1]));else if(C){h=r.getDataLabelLength(w,S,"height");var L=r.getY(i["axis_"+e+"_type"],[0,i.axis_rotated?r.width:r.height],[0,s]);c+=L(h[1]),l+=L(h[0])}return"y"===e&&v(i.axis_y_padding)&&(c=r.axis.getPadding(i.axis_y_padding,"top",c,s),l=r.axis.getPadding(i.axis_y_padding,"bottom",l,s)),"y2"===e&&v(i.axis_y2_padding)&&(c=r.axis.getPadding(i.axis_y2_padding,"top",c,s),l=r.axis.getPadding(i.axis_y2_padding,"bottom",l,s)),M&&(p&&(l=w),g&&(c=-S)),a=[w-l,S+c],A?a.reverse():a},t.prototype.getXDomainMin=function(t){var e=this,n=e.config;return u(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,(function(t){return e.d3.min(t.values,(function(t){return t.x}))}))},t.prototype.getXDomainMax=function(t){var e=this,n=e.config;return u(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,(function(t){return e.d3.max(t.values,(function(t){return t.x}))}))},t.prototype.getXDomainPadding=function(t){var e,n,r,i,o=this.config,a=t[1]-t[0];return n=this.isCategorized()?0:this.hasType("bar")?(e=this.getMaxDataCount())>1?a/(e-1)/2:.5:.01*a,"object"==typeof o.axis_x_padding&&v(o.axis_x_padding)?(r=m(o.axis_x_padding.left)?o.axis_x_padding.left:n,i=m(o.axis_x_padding.right)?o.axis_x_padding.right:n):r=i="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:r,right:i}},t.prototype.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],i=n[1],o=e.getXDomainPadding(n),a=0,s=0;return r-i!=0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()-o.left):r-o.left),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[a,s]},t.prototype.updateXDomain=function(t,e,n,r,i){var o=this,a=o.config;return n&&(o.x.domain(i||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.update(),o.subX.domain(o.x.domain()),o.brush&&o.brush.updateScale(o.subX)),e&&o.x.domain(i||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.selectionAsValue())),r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},t.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},t.prototype.drag=function(t){var e,n,r,i,o,a,c,l,u=this,h=u.config,f=u.main,d=u.d3;u.hasArcType()||h.data_selection_enabled&&h.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],i=t[1],o=Math.min(e,r),a=Math.max(e,r),c=h.data_selection_grouped?u.margin.top:Math.min(n,i),l=h.data_selection_grouped?u.height:Math.max(n,i),f.select("."+_.dragarea).attr("x",o).attr("y",c).attr("width",a-o).attr("height",l-c),f.selectAll("."+_.shapes).selectAll("."+_.shape).each((function(t,e){if(h.data_selection_isselectable(t)){var n,r,i,f,p,g,m=d.select(this),v=m.classed(_.SELECTED),y=m.classed(_.INCLUDED),b=!1;if(m.classed(_.circle))n=1*m.attr("cx"),r=1*m.attr("cy"),p=u.togglePoint,b=o<n&&n<a&&c<r&&r<l;else{if(!m.classed(_.bar))return;n=(g=s(this)).x,r=g.y,i=g.width,f=g.height,p=u.togglePath,b=!(a<n||n+i<o||l<r||r+f<c)}b^y&&(m.classed(_.INCLUDED,!y),m.classed(_.SELECTED,!v),p.call(u,!v,m,t,e))}})))},t.prototype.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+_.chart).append("rect").attr("class",_.dragarea).style("opacity",.1),e.dragging=!0)},t.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+_.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+_.shape).classed(_.INCLUDED,!1),t.dragging=!1)},t.prototype.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,i,o){return("y2"===e.axis.getId(o)?r:n).call(e,t,i)}},t.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},t.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},t.prototype.defaultValueFormat=function(t){return m(t)?+t:""},t.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},t.prototype.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return m(t)?+t:""};return"function"==typeof e.format?e.format:"object"==typeof e.format?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},t.prototype.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",_.grid),e.grid_x_show&&t.grid.append("g").attr("class",_.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",_.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",_.xgridFocus).append("line").attr("class",_.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},t.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",_.grid+" "+_.gridLines),t.gridLines.append("g").attr("class",_.xgridLines),t.gridLines.append("g").attr("class",_.ygridLines),t.xgridLines=e.selectAll([])},t.prototype.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,i=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1};var a=e.main.select("."+_.xgrids).selectAll("."+_.xgrid).data(i),s=a.enter().append("line").attr("class",_.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=s.merge(a),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),a.exit().remove()},t.prototype.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),r=t.main.select("."+_.ygrids).selectAll("."+_.ygrid).data(n),i=r.enter().append("line").attr("class",_.ygrid);t.ygrid=i.merge(r),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),r.exit().remove(),t.smoothLines(t.ygrid,"grid")},t.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},t.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},t.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},t.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},t.prototype.updateGrid=function(t){var e,n,r,i,o=this,a=o.main,s=o.config,c=o.xv.bind(o),l=o.yv.bind(o),u=o.xGridTextX.bind(o),h=o.yGridTextX.bind(o);o.grid.style("visibility",o.hasArcType()?"hidden":"visible"),a.select("line."+_.xgridFocus).style("visibility","hidden"),s.grid_x_show&&o.updateXGrid(),(n=(e=a.select("."+_.xgridLines).selectAll("."+_.xgridLine).data(s.grid_x_lines)).enter().append("g").attr("class",(function(t){return _.xgridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",s.axis_rotated?0:c).attr("x2",s.axis_rotated?o.width:c).attr("y1",s.axis_rotated?c:0).attr("y2",s.axis_rotated?c:o.height).style("opacity",0),n.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("x",s.axis_rotated?h:u).attr("y",c).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.xgridLines=n.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&o.updateYGrid(),(i=(r=a.select("."+_.ygridLines).selectAll("."+_.ygridLine).data(s.grid_y_lines)).enter().append("g").attr("class",(function(t){return _.ygridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",s.axis_rotated?l:0).attr("x2",s.axis_rotated?l:o.width).attr("y1",s.axis_rotated?0:l).attr("y2",s.axis_rotated?o.height:l).style("opacity",0),i.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("x",s.axis_rotated?u:h).attr("y",l).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.ygridLines=i.merge(r),o.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?l:0).attr("x2",s.axis_rotated?l:o.width).attr("y1",s.axis_rotated?0:l).attr("y2",s.axis_rotated?o.height:l).style("opacity",1),o.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?o.xGridTextX.bind(o):o.yGridTextX.bind(o)).attr("y",l).text((function(t){return t.text})).style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawGrid=function(t,e){var n=this,r=n.config,i=n.xv.bind(n),o=n.xgridLines.select("line"),a=n.xgridLines.select("text");return[(t?o.transition(e):o).attr("x1",r.axis_rotated?0:i).attr("x2",r.axis_rotated?n.width:i).attr("y1",r.axis_rotated?i:0).attr("y2",r.axis_rotated?i:n.height).style("opacity",1),(t?a.transition(e):a).attr("x",r.axis_rotated?n.yGridTextX.bind(n):n.xGridTextX.bind(n)).attr("y",i).text((function(t){return t.text})).style("opacity",1)]},t.prototype.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter((function(t){return t&&m(t.value)})),i=e.main.selectAll("line."+_.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("stanford")||e.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(i,"grid")))},t.prototype.hideXGridFocus=function(){this.main.select("line."+_.xgridFocus).style("visibility","hidden")},t.prototype.updateXgridFocus=function(){var t=this.config;this.main.select("line."+_.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},t.prototype.generateGridData=function(t,e){var n,r,i,o,a=[],s=this.main.select("."+_.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=this.getXDomain())[0].getFullYear(),i=n[1].getFullYear(),o=r;o<=i;o++)a.push(new Date(o+"-01-01 00:00:00"));else(a=e.ticks(10)).length>s&&(a=a.filter((function(t){return(""+t).indexOf(".")<0})));return a},t.prototype.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach((function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)})),n}:function(){return!0}},t.prototype.removeGridLines=function(t,e){var n=this.config,r=this.getGridFilterToRemove(t),i=function(t){return!r(t)},o=e?_.xgridLines:_.ygridLines,a=e?_.xgridLine:_.ygridLine;this.main.select("."+o).selectAll("."+a).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(i):n.grid_y_lines=n.grid_y_lines.filter(i)},t.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+_.chart).append("g").attr("class",_.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+_.eventRects).append("rect").attr("class",_.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},t.prototype.redrawEventRect=function(){var t=this,e=t.d3,n=t.config;function r(){t.svg.select("."+_.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()}var i=function(e,r){return r&&(t.isBarType(r.id)||t.dist(r,e)<n.point_sensitivity)},o=function(e){return e?t.addName(Object.assign({},e)):null};t.main.select("."+_.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null),t.eventRect.attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).on("mouseout",n.interaction_enabled?function(){n&&(t.hasArcType()||(t.mouseover&&(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),r()))}:null).on("mousemove",n.interaction_enabled?function(){if(!t.dragging){var a=t.getTargetsToShow();if(!t.hasArcType(a)){var s,c=e.mouse(this),l=o(t.findClosestFromTargets(a,c)),u=i(c,l);if(!t.mouseover||l&&l.id===t.mouseover.id&&l.index===t.mouseover.index||(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),l&&!t.mouseover&&(n.data_onmouseover.call(t.api,l),t.mouseover=l),t.svg.select("."+_.eventRect).style("cursor",u?"pointer":null),!n.tooltip_grouped||t.hasType("stanford",a))l&&(s=[l]);else{var h=void 0;if(l)h=l;else{var f=n.axis_rotated?c[1]:c[0];h=t.findClosestFromTargetsByX(a,t.x.invert(f))}h&&(s=t.filterByX(a,h.x))}if(!s||0===s.length)return r();s=s.map(o),t.showTooltip(s,this),n.point_focus_expand_enabled&&(t.unexpandCircles(),s.forEach((function(e){t.expandCircles(e.index,e.id,!1)}))),t.unexpandBars(),s.forEach((function(e){t.expandBars(e.index,e.id,!1)})),t.showXGridFocus(s)}}}:null).on("click",n.interaction_enabled?function(){var r=t.getTargetsToShow();if(!t.hasArcType(r)){var a=e.mouse(this),s=o(t.findClosestFromTargets(r,a));if(i(a,s)&&((!n.data_selection_grouped||t.isStanfordType(s)?[s]:t.filterByX(r,s.x)).forEach((function(e){t.main.selectAll("."+_.shapes+t.getTargetSelectorSuffix(e.id)).selectAll("."+_.shape+"-"+e.index).each((function(){(n.data_selection_grouped||t.isWithinShape(this,e))&&t.toggleShape(this,e,e.index)}))})),s)){var c=t.main.selectAll("."+_.shapes+t.getTargetSelectorSuffix(s.id)).select("."+_.shape+"-"+s.index);n.data_onclick.call(t.api,s,c.node())}}}:null).call(n.interaction_enabled&&n.data_selection_draggable&&t.drag?e.drag().on("drag",(function(){t.drag(e.mouse(this))})).on("start",(function(){t.dragstart(e.mouse(this))})).on("end",(function(){t.dragend()})):function(){})},t.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},t.prototype.dispatchEvent=function(t,e){var n="."+_.eventRect,r=this.main.select(n).node(),i=r.getBoundingClientRect(),o=i.left+(e?e[0]:0),a=i.top+(e?e[1]:0),s=document.createEvent("MouseEvents");s.initMouseEvent(t,!0,!0,window,0,o,a,o,a,!1,!1,!1,!1,0,null),r.dispatchEvent(s)},t.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},t.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},t.prototype.updateSizeForLegend=function(t,e){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?i.left:0}},t.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},t.prototype.updateLegendStep=function(t){this.legendStep=t},t.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},t.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},t.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},t.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},t.prototype.opacityForLegend=function(t){return t.classed(_.legendItemHidden)?null:1},t.prototype.opacityForUnfocusedLegend=function(t){return t.classed(_.legendItemHidden)?null:.3},t.prototype.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+_.legendItem).filter((function(e){return t.indexOf(e)>=0})).classed(_.legendItemFocused,e).transition().duration(100).style("opacity",(function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))}))},t.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+_.legendItem).classed(_.legendItemFocused,!1).transition().duration(100).style("opacity",(function(){return t.opacityForLegend(e.select(this))}))},t.prototype.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",(function(){return e.opacityForLegend(e.d3.select(this))}))},t.prototype.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&h(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},t.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},t.prototype.updateLegend=function(t,e,n){var r,i,o,s,c,l,h,f,d,p,g,m,v,y,b,x,w=this,S=w.config,T=0,M=0,A=S.legend_item_tile_width+5,E=0,C={},L={},P={},k=[0],R={},O=0;function I(e,n,r){var i,o,a=0===r,s=r===t.length-1,c=function(t,e){return w.legendItemTextBox[e]||(w.legendItemTextBox[e]=w.getTextRect(t.textContent,_.legendItem,t)),w.legendItemTextBox[e]}(e,n),l=c.width+A+(!s||w.isLegendRight||w.isLegendInset?10:0)+S.legend_padding,u=c.height+4,h=w.isLegendRight||w.isLegendInset?u:l,f=w.isLegendRight||w.isLegendInset?w.getLegendHeight():w.getLegendWidth();function d(t,e){e||(i=(f-E-h)/2)<10&&(i=(f-h)/2,E=0,O++),R[t]=O,k[O]=w.isLegendInset?10:i,C[t]=E,E+=h}a&&(E=0,O=0,T=0,M=0),!S.legend_show||w.isLegendToShow(n)?(L[n]=l,P[n]=u,(!T||l>=T)&&(T=l),(!M||u>=M)&&(M=u),o=w.isLegendRight||w.isLegendInset?M:T,S.legend_equally?(Object.keys(L).forEach((function(t){L[t]=T})),Object.keys(P).forEach((function(t){P[t]=M})),(i=(f-o*t.length)/2)<10?(E=0,O=0,t.forEach((function(t){d(t)}))):d(n,!0)):d(n)):L[n]=P[n]=R[n]=C[n]=0}t=t.filter((function(t){return!u(S.data_names[t])||null!==S.data_names[t]})),g=a(e=e||{},"withTransition",!0),m=a(e,"withTransitionForTransform",!0),w.isLegendInset&&(O=S.legend_inset_step?S.legend_inset_step:t.length,w.updateLegendStep(O)),w.isLegendRight?(r=function(t){return T*R[t]},s=function(t){return k[R[t]]+C[t]}):w.isLegendInset?(r=function(t){return T*R[t]+10},s=function(t){return k[R[t]]+C[t]}):(r=function(t){return k[R[t]]+C[t]},s=function(t){return M*R[t]}),i=function(t,e){return r(t,e)+4+S.legend_item_tile_width},c=function(t,e){return s(t,e)+9},o=function(t,e){return r(t,e)},l=function(t,e){return s(t,e)-5},h=function(t,e){return r(t,e)-2},f=function(t,e){return r(t,e)-2+S.legend_item_tile_width},d=function(t,e){return s(t,e)+4},(p=w.legend.selectAll("."+_.legendItem).data(t).enter().append("g").attr("class",(function(t){return w.generateClass(_.legendItem,t)})).style("visibility",(function(t){return w.isLegendToShow(t)?"visible":"hidden"})).style("cursor",(function(){return S.interaction_enabled?"pointer":"auto"})).on("click",S.interaction_enabled?function(t){S.legend_item_onclick?S.legend_item_onclick.call(w,t):w.d3.event.altKey?(w.api.hide(),w.api.show(t)):(w.api.toggle(t),w.isTargetToShow(t)?w.api.focus(t):w.api.revert())}:null).on("mouseover",S.interaction_enabled?function(t){S.legend_item_onmouseover?S.legend_item_onmouseover.call(w,t):(w.d3.select(this).classed(_.legendItemFocused,!0),!w.transiting&&w.isTargetToShow(t)&&w.api.focus(t))}:null).on("mouseout",S.interaction_enabled?function(t){S.legend_item_onmouseout?S.legend_item_onmouseout.call(w,t):(w.d3.select(this).classed(_.legendItemFocused,!1),w.api.revert())}:null)).append("text").text((function(t){return u(S.data_names[t])?S.data_names[t]:t})).each((function(t,e){I(this,t,e)})).style("pointer-events","none").attr("x",w.isLegendRight||w.isLegendInset?i:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:c),p.append("rect").attr("class",_.legendItemEvent).style("fill-opacity",0).attr("x",w.isLegendRight||w.isLegendInset?o:-200).attr("y",w.isLegendRight||w.isLegendInset?-200:l),p.append("line").attr("class",_.legendItemTile).style("stroke",w.color).style("pointer-events","none").attr("x1",w.isLegendRight||w.isLegendInset?h:-200).attr("y1",w.isLegendRight||w.isLegendInset?-200:d).attr("x2",w.isLegendRight||w.isLegendInset?f:-200).attr("y2",w.isLegendRight||w.isLegendInset?-200:d).attr("stroke-width",S.legend_item_tile_height),x=w.legend.select("."+_.legendBackground+" rect"),w.isLegendInset&&T>0&&0===x.size()&&(x=w.legend.insert("g","."+_.legendItem).attr("class",_.legendBackground).append("rect")),v=w.legend.selectAll("text").data(t).text((function(t){return u(S.data_names[t])?S.data_names[t]:t})).each((function(t,e){I(this,t,e)})),(g?v.transition():v).attr("x",i).attr("y",c),y=w.legend.selectAll("rect."+_.legendItemEvent).data(t),(g?y.transition():y).attr("width",(function(t){return L[t]})).attr("height",(function(t){return P[t]})).attr("x",o).attr("y",l),b=w.legend.selectAll("line."+_.legendItemTile).data(t),(g?b.transition():b).style("stroke",w.levelColor?function(t){return w.levelColor(w.cache[t].values.reduce((function(t,e){return t+e.value}),0))}:w.color).attr("x1",h).attr("y1",d).attr("x2",f).attr("y2",d),x&&(g?x.transition():x).attr("height",w.getLegendHeight()-12).attr("width",T*(O+1)+10),w.legend.selectAll("."+_.legendItem).classed(_.legendItemHidden,(function(t){return!w.isTargetToShow(t)})),w.updateLegendItemWidth(T),w.updateLegendItemHeight(M),w.updateLegendStep(O),w.updateSizes(),w.updateScales(),w.updateSvgSize(),w.transformAll(m,n),w.legendHasRendered=!0},t.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",_.regions)},t.prototype.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var r=e.main.select("."+_.regions).selectAll("."+_.region).data(n.regions),i=r.enter().append("g");i.append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",(function(t){return m(t.opacity)?t.opacity:.1})),i.append("text").text(e.labelRegion.bind(e)),e.mainRegion=i.merge(r).attr("class",e.classRegion.bind(e)),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawRegion=function(t,e){var n=this,r=n.mainRegion,i=n.mainRegion.selectAll("text");return[(t?r.transition(e):r).attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",(function(t){return m(t.opacity)?t.opacity:.1})),(t?i.transition(e):i).attr("x",n.labelOffsetX.bind(n)).attr("y",n.labelOffsetY.bind(n)).attr("transform",n.labelTransform.bind(n)).attr("style","text-anchor: left;")]},t.prototype.regionX=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?r(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},t.prototype.regionY=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?r(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},t.prototype.regionWidth=function(t){var e,n=this,r=n.config,i=n.regionX(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?o(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<i?0:e-i},t.prototype.regionHeight=function(t){var e,n=this,r=n.config,i=this.regionY(t),o="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?o(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<i?0:e-i},t.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},t.prototype.labelRegion=function(t){return"label"in t?t.label:""},t.prototype.labelTransform=function(t){return"vertical"in t&&t.vertical?"rotate(90)":""},t.prototype.labelOffsetX=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?this.regionY(t)+n:this.regionX(t)+e},t.prototype.labelOffsetY=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+n},t.prototype.getScale=function(t,e,n){return(n?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},t.prototype.getX=function(t,e,n,r){var i,o=this.getScale(t,e,this.isTimeSeries()),a=n?o.domain(n):o;for(i in this.isCategorized()?(r=r||function(){return 0},o=function(t,e){var n=a(t)+r(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=a(t);return e?n:Math.ceil(n)},a)o[i]=a[i];return o.orgDomain=function(){return a.domain()},this.isCategorized()&&(o.domain=function(t){return arguments.length?(a.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},t.prototype.getY=function(t,e,n){var r;if("timeseries"===t||"time"===t)r=this.d3.scaleTime();else if("log"===t)r=M(this.d3);else{if("linear"!==t&&void 0!==t)throw new Error('Invalid Y axis type: "'+t+'"');r=this.d3.scaleLinear()}return e&&r.domain(e),n&&r.range(n),r},t.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},t.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},t.prototype.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),(function(){return t.xAxis.tickOffset()})),t.y=t.getY(e.axis_y_type,n?e.axis_y_default:t.y.domain(),[t.yMin,t.yMax]),t.y2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.y2.domain(),[t.yMin,t.yMax]),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,(function(e){return e%1?0:t.subXAxis.tickOffset()})),t.subY=t.getY(e.axis_y_type,n?e.axis_y_default:t.subY.domain(),[t.subYMin,t.subYMax]),t.subY2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.subY2.domain(),[t.subYMin,t.subYMax]),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis("y",t.y,t.yOrient,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis("y2",t.y2,t.y2Orient,t.y2AxisTickValues,e.axis_y2_tick_outer),n||t.brush&&t.brush.updateScale(t.subX),t.updateArc&&t.updateArc()},t.prototype.selectPoint=function(t,e,n){var r=this,i=r.config,o=(i.axis_rotated?r.circleY:r.circleX).bind(r),a=(i.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);i.data_onselected.call(r.api,e,t.node()),r.main.select("."+_.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+_.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",(function(){return r.generateClass(_.selectedCircle,n)})).attr("cx",o).attr("cy",a).attr("stroke",(function(){return r.color(e)})).attr("r",(function(t){return 1.4*r.pointSelectR(t)})).transition().duration(100).attr("r",s)},t.prototype.unselectPoint=function(t,e,n){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+_.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+_.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},t.prototype.togglePoint=function(t,e,n,r){t?this.selectPoint(e,n,r):this.unselectPoint(e,n,r)},t.prototype.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.d3.rgb(n.color(e)).brighter(.75)}))},t.prototype.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.color(e)}))},t.prototype.togglePath=function(t,e,n,r){t?this.selectPath(e,n,r):this.unselectPath(e,n,r)},t.prototype.getToggle=function(t,e){var n;return"circle"===t.nodeName?n=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(n=this.togglePath),n},t.prototype.toggleShape=function(t,e,n){var r=this,i=r.d3,o=r.config,a=i.select(t),s=a.classed(_.SELECTED),c=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+_.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+_.shape).each((function(t,e){var n=i.select(this);n.classed(_.SELECTED)&&c(!1,n.classed(_.SELECTED,!1),t,e)})),a.classed(_.SELECTED,!s),c(!s,a,e,n))},t.prototype.initBar=function(){this.main.select("."+_.chart).append("g").attr("class",_.chartBars)},t.prototype.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),i=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+_.chartBars).selectAll("."+_.chartBar).data(t).attr("class",(function(t){return r(t)+o(t)})).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",i).style("cursor",(function(t){return n.data_selection_isselectable(t)?"pointer":null}))},t.prototype.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),i=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)},a=e.main.selectAll("."+_.bars).selectAll("."+_.bar).data(n),s=a.enter().append("path").attr("class",r).style("stroke",o).style("fill",o);e.mainBar=s.merge(a).style("opacity",i),a.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawBar=function(t,e,n){var r=this;return[(e?this.mainBar.transition(n):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",(function(t){return r.isTargetToShow(t.id)?1:0}))]},t.prototype.getBarW=function(t,e){var n=this.config,r="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},t.prototype.getBars=function(t,e){return(e?this.main.selectAll("."+_.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+_.bar+(m(t)?"-"+t:""))},t.prototype.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(_.EXPANDED,!0)},t.prototype.unexpandBars=function(t){this.getBars(t).classed(_.EXPANDED,!1)},t.prototype.generateDrawBar=function(t,e){var n=this.config,r=this.generateGetBarPoints(t,e);return function(t,e){var i=r(t,e),o=n.axis_rotated?1:0,a=n.axis_rotated?0:1;return"M "+i[0][o]+","+i[0][a]+" L"+i[1][o]+","+i[1][a]+" L"+i[2][o]+","+i[2][a]+" L"+i[3][o]+","+i[3][a]+" z"}},t.prototype.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,i=t.__max__+1,o=n.getBarW(r,i),a=n.getShapeX(o,i,t,!!e),s=n.getShapeY(!!e),c=n.getShapeOffset(n.isBarType,t,!!e),l=o*(n.config.bar_space/2),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),i=c(t,e)||r,h=a(t),f=s(t);return n.config.axis_rotated&&(0<t.value&&f<r||t.value<0&&r<f)&&(f=r),[[h+l,i],[h+l,f-=r-i],[h+o-l,f],[h+o-l,i]]}},t.prototype.isWithinBar=function(t,e){return function(t,e,n){void 0===n&&(n=0);var r=e.x-n,i=e.x+e.width+n,o=e.y+e.height+n,a=e.y-n;return r<t[0]&&t[0]<i&&a<t[1]&&t[1]<o}(t,c(e),2)},t.prototype.getShapeIndices=function(t){var e,n,r=this.config,i={},o=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach((function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in i){i[t.id]=i[r.data_groups[e][n]];break}g(i[t.id])&&(i[t.id]=o++)})),i.__max__=o-1,i},t.prototype.getShapeX=function(t,e,n,r){var i=r?this.subX:this.x;return function(r){var o=r.id in n?n[r.id]:0;return r.x||0===r.x?i(r.x)-t*(e/2-o):0}},t.prototype.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(e.isTargetNormalized(n.id)?e.getRatio("index",n,!0):n.value)}},t.prototype.getShapeOffset=function(t,e,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),o=i.map((function(t){return t.id}));return function(t,a){var s=n?r.getSubYScale(t.id):r.getYScale(t.id),c=s(0),l=c;return i.forEach((function(n){var i=r.isStepType(t)?r.convertValuesToStep(n.values):n.values,u=r.isTargetNormalized(t.id),h=i.map((function(t){return u?r.getRatio("index",t,!0):t.value}));n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&((g(i[a])||+i[a].x!=+t.x)&&(a=-1,i.forEach((function(e,n){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(a=n)}))),a in i&&i[a].value*t.value>=0&&(l+=s(h[a])-c))})),l}},t.prototype.isWithinShape=function(t,e){var n,r=this,i=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!i.classed(_.bar)||r.isWithinBar(r.d3.mouse(t),t)):n=!1,n},t.prototype.getInterpolate=function(t){var e=this,n=e.d3,r={linear:n.curveLinear,"linear-closed":n.curveLinearClosed,basis:n.curveBasis,"basis-open":n.curveBasisOpen,"basis-closed":n.curveBasisClosed,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-open":n.curveCardinalOpen,"cardinal-closed":n.curveCardinalClosed,monotone:n.curveMonotoneX,step:n.curveStep,"step-before":n.curveStepBefore,"step-after":n.curveStepAfter};return e.isSplineType(t)?r[e.config.spline_interpolation_type]||r.cardinal:e.isStepType(t)?r[e.config.line_step_type]:r.linear},t.prototype.initLine=function(){this.main.select("."+_.chart).append("g").attr("class",_.chartLines)},t.prototype.updateTargetsForLine=function(t){var e,n=this,r=n.config,i=n.classChartLine.bind(n),o=n.classLines.bind(n),a=n.classAreas.bind(n),s=n.classCircles.bind(n),c=n.classFocus.bind(n);(e=n.main.select("."+_.chartLines).selectAll("."+_.chartLine).data(t).attr("class",(function(t){return i(t)+c(t)})).enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",(function(t){return n.generateClass(_.selectedCircles,t.id)})),e.append("g").attr("class",s).style("cursor",(function(t){return r.data_selection_isselectable(t)?"pointer":null})),t.forEach((function(t){n.main.selectAll("."+_.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+_.selectedCircle).each((function(e){e.value=t.values[e.index].value}))}))},t.prototype.updateLine=function(t){var e=this,n=e.main.selectAll("."+_.lines).selectAll("."+_.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=r.merge(n).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",(function(t){return e.isStepType(t)?"crispEdges":""})).attr("transform",null),n.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawLine=function(t,e,n){return[(e?this.mainLine.transition(n):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},t.prototype.generateDrawLine=function(t,e){var n=this,r=n.config,i=n.d3.line(),o=n.generateGetLinePoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return r.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x(c).y(s):i.x(s).y(c),r.line_connectNull||(i=i.defined((function(t){return null!=t.value}))),function(t){var o,s=r.line_connectNull?n.filterRemoveNull(t.values):t.values,c=e?n.subX:n.x,l=a.call(n,t.id),u=0,h=0;return n.isLineType(t)?r.data_regions[t.id]?o=n.lineWithRegions(s,c,l,r.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),o=i.curve(n.getInterpolate(t))(s)):(s[0]&&(u=c(s[0].x),h=l(s[0].value)),o=r.axis_rotated?"M "+h+" "+u:"M "+u+" "+h),o||"M 0 0"}},t.prototype.generateGetLinePoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,o=n.getShapeX(0,i,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var i=c.call(n,t.id)(0),l=s(t,e)||i,u=o(t),h=a(t);return r.axis_rotated&&(0<t.value&&h<i||t.value<0&&i<h)&&(h=i),[[u,h-(i-l)],[u,h-(i-l)],[u,h-(i-l)],[u,h-(i-l)]]}},t.prototype.lineWithRegions=function(t,e,n,r){var i,o,a,s,c,l,h,f,d,p,m,v=this,y=v.config,b="M",x=v.isCategorized()?.5:0,_=[];function w(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}if(u(r))for(i=0;i<r.length;i++)_[i]={},g(r[i].start)?_[i].start=t[0].x:_[i].start=v.isTimeSeries()?v.parseDate(r[i].start):r[i].start,g(r[i].end)?_[i].end=t[t.length-1].x:_[i].end=v.isTimeSeries()?v.parseDate(r[i].end):r[i].end;function S(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(p=y.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},m=y.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},a=v.isTimeSeries()?function(t,r,i,o){var a=t.x.getTime(),s=r.x-t.x,l=new Date(a+s*i),u=new Date(a+s*(i+o));return S(y.axis_rotated?[[n(c(i)),e(l)],[n(c(i+o)),e(u)]]:[[e(l),n(c(i))],[e(u),n(c(i+o))]])}:function(t,r,i,o){return S(y.axis_rotated?[[n(c(i),!0),e(s(i))],[n(c(i+o),!0),e(s(i+o))]]:[[e(s(i),!0),n(c(i))],[e(s(i+o),!0),n(c(i+o))]])},i=0;i<t.length;i++){if(g(_)||!w(t[i].x,_))b+=" "+p(t[i])+" "+m(t[i]);else for(s=v.getScale(t[i-1].x+x,t[i].x+x,v.isTimeSeries()),c=v.getScale(t[i-1].value,t[i].value),l=e(t[i].x)-e(t[i-1].x),h=n(t[i].value)-n(t[i-1].value),d=2*(f=2/Math.sqrt(Math.pow(l,2)+Math.pow(h,2))),o=f;o<=1;o+=d)b+=a(t[i-1],t[i],o,f);t[i].x}return b},t.prototype.updateArea=function(t){var e=this,n=e.d3,r=e.main.selectAll("."+_.areas).selectAll("."+_.area).data(e.lineData.bind(e)),i=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));e.mainArea=i.merge(r).style("opacity",e.orgAreaOpacity),r.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawArea=function(t,e,n){return[(e?this.mainArea.transition(n):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},t.prototype.generateDrawArea=function(t,e){var n=this,r=n.config,i=n.d3.area(),o=n.generateGetAreaPoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},c=function(t,e){return r.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(n.getAreaBaseValue(t.id))},l=function(t,e){return r.data_groups.length>0?o(t,e)[1][1]:a.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x0(c).x1(l).y(s):i.x(s).y0(r.area_above?0:c).y1(l),r.line_connectNull||(i=i.defined((function(t){return null!==t.value}))),function(t){var e,o=r.line_connectNull?n.filterRemoveNull(t.values):t.values,a=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=i.curve(n.getInterpolate(t))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(t.id)(o[0].value)),e=r.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),e||"M 0 0"}},t.prototype.getAreaBaseValue=function(){return 0},t.prototype.generateGetAreaPoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,o=n.getShapeX(0,i,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),c=e?n.getSubYScale:n.getYScale;return function(t,e){var i=c.call(n,t.id)(0),l=s(t,e)||i,u=o(t),h=a(t);return r.axis_rotated&&(0<t.value&&h<i||t.value<0&&i<h)&&(h=i),[[u,l],[u,h-(i-l)],[u,h-(i-l)],[u,l]]}},t.prototype.updateCircle=function(t,e){var n=this,r=n.main.selectAll("."+_.circles).selectAll("."+_.circle).data(n.lineOrScatterOrStanfordData.bind(n)),i=r.enter().append("circle").attr("shape-rendering",n.isStanfordGraphType()?"crispEdges":"").attr("class",n.classCircle.bind(n)).attr("cx",t).attr("cy",e).attr("r",n.pointR.bind(n)).style("color",n.isStanfordGraphType()?n.getStanfordPointColor.bind(n):n.color);n.mainCircle=i.merge(r).style("opacity",n.isStanfordGraphType()?1:n.initialOpacityForCircle.bind(n)),r.exit().style("opacity",0)},t.prototype.redrawCircle=function(t,e,n,r){var i=this,o=i.main.selectAll("."+_.selectedCircle);return[(n?i.mainCircle.transition(r):i.mainCircle).style("opacity",this.opacityForCircle.bind(i)).style("color",i.isStanfordGraphType()?i.getStanfordPointColor.bind(i):i.color).attr("cx",t).attr("cy",e),(n?o.transition(r):o).attr("cx",t).attr("cy",e)]},t.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},t.prototype.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},t.prototype.getCircles=function(t,e){return(e?this.main.selectAll("."+_.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+_.circle+(m(t)?"-"+t:""))},t.prototype.expandCircles=function(t,e,n){var r=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(t,e).classed(_.EXPANDED,!0).attr("r",r)},t.prototype.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter((function(){return e.d3.select(this).classed(_.EXPANDED)})).classed(_.EXPANDED,!1).attr("r",n)},t.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:f(e.point_r)?e.point_r(t):e.point_r},t.prototype.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?f(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},t.prototype.pointSelectR=function(t){var e=this.config;return f(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},t.prototype.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),i=n.select(t),o=+i.attr("cx"),a=+i.attr("cy");return Math.sqrt(Math.pow(o-r[0],2)+Math.pow(a-r[1],2))<e},t.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},t.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},t.prototype.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},t.prototype.getCurrentPaddingTop=function(){var t=this.config,e=m(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},t.prototype.getCurrentPaddingBottom=function(){var t=this.config;return m(t.padding_bottom)?t.padding_bottom:0},t.prototype.getCurrentPaddingLeft=function(t){var e=this.config;return m(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(i(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:i(this.getAxisWidthByAxisId("y",t))},t.prototype.getCurrentPaddingRight=function(){var t=this,e=t.config,n=0,r=t.isLegendRight?t.getLegendWidth()+20:0;return n=m(e.padding_right)?e.padding_right+1:e.axis_rotated?10+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):i(t.getAxisWidthByAxisId("y2"))+r,t.colorScale&&t.colorScale.node()&&(n+=t.getColorScalePadding()),n},t.prototype.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},t.prototype.getParentWidth=function(){return this.getParentRectValue("width")},t.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},t.prototype.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?_.axisX:_.axisY,o=e.main.select("."+i).node(),a=o&&r?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),c=e.hasArcType(),l=a.right-s.left-(c?0:e.getCurrentPaddingLeft(t));return l>0?l:0},t.prototype.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},t.prototype.getHorizontalAxisHeight=function(t,e){var n=this,r=n.config,i=30;return"x"!==t||(u(e)&&e?r.subchart_axis_x_show:r.axis_x_show)?"x"===t&&r.axis_x_height?r.axis_x_height:"y"!==t||r.axis_y_show?"y2"!==t||r.axis_y2_show?("x"===t&&!r.axis_rotated&&r.axis_x_tick_rotate&&(i=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(r.axis_x_tick_rotate))/180)),"y"===t&&r.axis_rotated&&r.axis_y_tick_rotate&&(i=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(r.axis_y_tick_rotate))/180)),i+(n.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):n.rotated_padding_top:!r.legend_show||n.isLegendRight||n.isLegendInset?1:10:8},t.prototype.initBrush=function(t){var e=this,n=e.d3;return e.brush=(e.config.axis_rotated?n.brushY():n.brushX()).on("brush",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.redrawForBrush()})).on("end",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.brush.empty()&&t&&"end"!==t.type&&e.brush.clear()})),e.brush.updateExtent=function(){var t,n=this.scale.range();return t=e.config.axis_rotated?[[0,n[0]],[e.width2,n[1]]]:[[n[0],0],[n[1],e.height2]],this.extent(t),this},e.brush.updateScale=function(t){return this.scale=t,this},e.brush.update=function(t){this.updateScale(t||e.subX).updateExtent(),e.context.select("."+_.brush).call(this)},e.brush.clear=function(){e.context.select("."+_.brush).call(e.brush.move,null)},e.brush.selection=function(){return n.brushSelection(e.context.select("."+_.brush).node())},e.brush.selectionAsValue=function(t,n){var r,i;return t?(e.context&&(r=[this.scale(t[0]),this.scale(t[1])],i=e.context.select("."+_.brush),n&&(i=i.transition()),e.brush.move(i,r)),[]):(r=e.brush.selection()||[0,0],[this.scale.invert(r[0]),this.scale.invert(r[1])])},e.brush.empty=function(){var t=e.brush.selection();return!t||t[0]===t[1]},e.brush.updateScale(t)},t.prototype.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility","visible"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",_.chart),n.select("."+_.chart).append("g").attr("class",_.chartBars),n.select("."+_.chart).append("g").attr("class",_.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",_.brush),t.axes.subx=n.append("g").attr("class",_.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?"visible":"hidden")},t.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+_.brush).call(this.brush)},t.prototype.updateTargetsForSubchart=function(t){var e,n,r,i,o=this,a=o.context,s=o.config,c=o.classChartBar.bind(o),l=o.classBars.bind(o),u=o.classChartLine.bind(o),h=o.classLines.bind(o),f=o.classAreas.bind(o);(r=(i=a.select("."+_.chartBars).selectAll("."+_.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(i).attr("class",c),r.append("g").attr("class",l),(e=(n=a.select("."+_.chartLines).selectAll("."+_.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(n).attr("class",u),e.append("g").attr("class",h),e.append("g").attr("class",f),a.selectAll("."+_.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?o.width2:o.height2)},t.prototype.updateBarForSubchart=function(t){var e=this,n=e.context.selectAll("."+_.bars).selectAll("."+_.bar).data(e.barData.bind(e)),r=n.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextBar=r.merge(n).style("opacity",e.initialOpacity.bind(e))},t.prototype.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},t.prototype.updateLineForSubchart=function(t){var e=this,n=e.context.selectAll("."+_.lines).selectAll("."+_.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextLine=r.merge(n).style("opacity",e.initialOpacity.bind(e))},t.prototype.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},t.prototype.updateAreaForSubchart=function(t){var e=this,n=e.d3,r=e.context.selectAll("."+_.areas).selectAll("."+_.area).data(e.lineData.bind(e)),i=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));r.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=i.merge(r).style("opacity",0)},t.prototype.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},t.prototype.redrawSubchart=function(t,e,n,r,i,o,a){var s,c,l,u=this,h=u.d3;h.event&&"zoom"===h.event.type&&u.brush.selectionAsValue(u.x.orgDomain()),t&&(u.brush.empty()||u.brush.selectionAsValue(u.x.orgDomain()),s=u.generateDrawArea(i,!0),c=u.generateDrawBar(o,!0),l=u.generateDrawLine(a,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(c,n,n),u.redrawLineForSubchart(l,n,n),u.redrawAreaForSubchart(s,n,n))},t.prototype.redrawForBrush=function(){var t,e=this,n=e.x,r=e.d3;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=r.event.selection||e.brush.scale.range(),e.main.select("."+_.eventRect).call(e.zoom.transform,r.zoomIdentity.scale(e.width/(t[1]-t[0])).translate(-t[0],0)),e.config.subchart_onbrush.call(e.api,n.orgDomain())},t.prototype.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+_.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},t.prototype.getDefaultSelection=function(){var t=this,e=t.config,n=f(e.axis_x_selection)?e.axis_x_selection(t.getXDomain(t.data.targets)):e.axis_x_selection;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},t.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},t.prototype.initText=function(){this.main.select("."+_.chart).append("g").attr("class",_.chartTexts),this.mainText=this.d3.selectAll([])},t.prototype.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),i=e.classFocus.bind(e),o=e.main.select("."+_.chartTexts).selectAll("."+_.chartText).data(t),a=o.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none");a.append("g").attr("class",r),a.merge(o).attr("class",(function(t){return n(t)+i(t)}))},t.prototype.updateText=function(t,e,n){var r=this,i=r.config,o=r.barOrLineData.bind(r),a=r.classText.bind(r),s=r.main.selectAll("."+_.texts).selectAll("."+_.text).data(o),c=s.enter().append("text").attr("class",a).attr("text-anchor",(function(t){return i.axis_rotated?t.value<0?"end":"start":"middle"})).style("stroke","none").attr("x",t).attr("y",e).style("fill",(function(t){return r.color(t)})).style("fill-opacity",0);r.mainText=c.merge(s).text((function(t,e,n){return r.dataLabelFormat(t.id)(t.value,t.id,e,n)})),s.exit().transition().duration(n).style("fill-opacity",0).remove()},t.prototype.redrawText=function(t,e,n,r,i){return[(r?this.mainText.transition(i):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},t.prototype.getTextRect=function(t,e,n){var r,i=this.d3.select("body").append("div").classed("c3",!0),o=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each((function(){r=c(this)})),i.remove(),r},t.prototype.generateXYForText=function(t,e,n,r){var i=this,o=i.generateGetAreaPoints(t,!1),a=i.generateGetBarPoints(e,!1),s=i.generateGetLinePoints(n,!1),c=r?i.getXForText:i.getYForText;return function(t,e){var n=i.isAreaType(t)?o:i.isBarType(t)?a:s;return c.call(i,n(t,e),t,this)}},t.prototype.getXForText=function(t,e,n){var r,i,o=this,a=c(n);return o.config.axis_rotated?(i=o.isBarType(e)?4:6,r=t[2][1]+i*(e.value<0?-1:1)):r=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>o.width?r=o.width-a.width:r<0&&(r=4)),r},t.prototype.getYForText=function(t,e,n){var r,i=this,o=c(n);return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*o.height)/2:(r=t[2][1],e.value<0||0===e.value&&!i.hasPositiveValue?(r+=o.height,i.isBarType(e)&&i.isSafari()?r-=3:!i.isBarType(e)&&i.isChrome()&&(r+=3)):r+=i.isBarType(e)?-3:-6),null!==e.value||i.config.axis_rotated||(r<o.height?r=o.height:r>this.height&&(r=this.height-4)),r},t.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},t.prototype.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},t.prototype.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},t.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},t.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},t.prototype.drawColorScale=function(){var t,e,n,r,i,o,a,s=this,c=s.d3,l=s.config,u=s.data.targets[0];if((t=isNaN(l.stanford_scaleWidth)?20:l.stanford_scaleWidth)<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");a=s.height-l.stanford_padding.bottom-l.stanford_padding.top,n=c.range(l.stanford_padding.bottom,a,5),o=c.scaleSequential(u.colors).domain([n[n.length-1],n[0]]),s.colorScale&&s.colorScale.remove(),s.colorScale=s.svg.append("g").attr("width",50).attr("height",a).attr("class",_.colorScale),s.colorScale.append("g").attr("transform","translate(0, "+l.stanford_padding.top+")").selectAll("bars").data(n).enter().append("rect").attr("y",(function(t,e){return 5*e})).attr("x",0).attr("width",t).attr("height",5).attr("fill",(function(t){return o(t)})),i=c.scaleLog().domain([u.minEpochs,u.maxEpochs]).range([n[0]+l.stanford_padding.top+n[n.length-1]+5-1,n[0]+l.stanford_padding.top]),r=c.axisRight(i),"pow10"===l.stanford_scaleFormat?r.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):f(l.stanford_scaleFormat)?r.tickFormat(l.stanford_scaleFormat):r.tickFormat(c.format("d")),f(l.stanford_scaleValues)&&r.tickValues(l.stanford_scaleValues(u.minEpochs,u.maxEpochs)),e=s.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+t+",0)").call(r),"pow10"===l.stanford_scaleFormat&&e.selectAll(".tick text").text(null).filter(A).text(10).append("tspan").attr("dy","-.7em").text((function(t){return Math.round(Math.log(t)/Math.LN10)})),s.colorScale.attr("transform","translate("+(s.currentWidth-s.xForColorScale())+", 0)")},t.prototype.xForColorScale=function(){return this.config.stanford_padding.right+c(this.colorScale.node()).width},t.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},t.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},t.prototype.initStanfordData=function(){var t,e,n,r=this.d3,i=this.config,o=this.data.targets[0];if(o.values.sort(L),t=o.values.map((function(t){return t.epochs})),(n=isNaN(i.stanford_scaleMin)?r.min(t):i.stanford_scaleMin)>(e=isNaN(i.stanford_scaleMax)?r.max(t):i.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");o.colors=f(i.stanford_colors)?i.stanford_colors:r.interpolateHslLong(r.hsl(250,1,.5),r.hsl(0,1,.5)),o.colorscale=r.scaleSequentialLog(o.colors).domain([n,e]),o.minEpochs=n,o.maxEpochs=e},t.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},t.prototype.getCentroid=function(t){var e,n,r,i,o,a=E(t),s=0,c=0;for(e=0,n=t.length-1;e<t.length;n=e,e+=1)i=t[e],o=t[n],r=i.x*o.y-o.x*i.y,s+=(i.x+o.x)*r,c+=(i.y+o.y)*r;return{x:s/(r=6*a),y:c/r}},t.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText("x"),n=this.axis.getLabelText("y");return"\n      <tr><th>"+(e?y(e):"x")+"</th><th class='value'>"+t.x+"</th></tr>\n      <tr><th>"+(n?y(n):"y")+"</th><th class='value'>"+t.value+"</th></tr>\n    "},t.prototype.countEpochsInRegion=function(t){var e,n,r=this.data.targets[0];return e=r.values.reduce((function(t,e){return t+Number(e.epochs)}),0),{value:n=r.values.reduce((function(e,n){return C(n,t)?e+Number(n.epochs):e}),0),percentage:0!==n?(n/e*100).toFixed(1):0}};var E=function(t){var e,n,r,i,o=0;for(e=0,n=t.length-1;e<t.length;n=e,e+=1)r=t[e],i=t[n],o+=r.x*i.y,o-=r.y*i.x;return o/=2},C=function(t,e){for(var n,r,i,o,a=t.x,s=t.value,c=!1,l=0,u=e.length-1;l<e.length;u=l++)n=e[l].x,r=e[l].y,o=e[u].x,r>s!=(i=e[u].y)>s&&a<(o-n)*(s-r)/(i-r)+n&&(c=!c);return c},L=function(t,e){return t.epochs<e.epochs?-1:t.epochs>e.epochs?1:0};return t.prototype.initStanfordElements=function(){var t=this;t.stanfordElements=t.main.select("."+_.chart).append("g").attr("class",_.stanfordElements),t.stanfordElements.append("g").attr("class",_.stanfordLines),t.stanfordElements.append("g").attr("class",_.stanfordTexts),t.stanfordElements.append("g").attr("class",_.stanfordRegions)},t.prototype.updateStanfordElements=function(t){var e,n,r,i,o,a,s=this,c=s.main,l=s.config,u=s.xvCustom.bind(s),h=s.yvCustom.bind(s),f=s.countEpochsInRegion.bind(s);(n=(e=c.select("."+_.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+_.stanfordLine).data(l.stanford_lines)).enter().append("g").attr("class",(function(t){return _.stanfordLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",(function(t){return l.axis_rotated?h(t,"value_y1"):u(t,"value_x1")})).attr("x2",(function(t){return l.axis_rotated?h(t,"value_y2"):u(t,"value_x2")})).attr("y1",(function(t){return l.axis_rotated?u(t,"value_x1"):h(t,"value_y1")})).attr("y2",(function(t){return l.axis_rotated?u(t,"value_x2"):h(t,"value_y2")})).style("opacity",0),s.stanfordLines=n.merge(e),s.stanfordLines.select("line").transition().duration(t).attr("x1",(function(t){return l.axis_rotated?h(t,"value_y1"):u(t,"value_x1")})).attr("x2",(function(t){return l.axis_rotated?h(t,"value_y2"):u(t,"value_x2")})).attr("y1",(function(t){return l.axis_rotated?u(t,"value_x1"):h(t,"value_y1")})).attr("y2",(function(t){return l.axis_rotated?u(t,"value_x2"):h(t,"value_y2")})).style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove(),(a=(o=c.select("."+_.stanfordTexts).selectAll("."+_.stanfordText).data(l.stanford_texts)).enter().append("g").attr("class",(function(t){return _.stanfordText+(t.class?" "+t.class:"")}))).append("text").attr("x",(function(t){return l.axis_rotated?h(t,"y"):u(t,"x")})).attr("y",(function(t){return l.axis_rotated?u(t,"x"):h(t,"y")})).style("opacity",0),s.stanfordTexts=a.merge(o),s.stanfordTexts.select("text").transition().duration(t).attr("x",(function(t){return l.axis_rotated?h(t,"y"):u(t,"x")})).attr("y",(function(t){return l.axis_rotated?u(t,"x"):h(t,"y")})).text((function(t){return t.content})).style("opacity",1),o.exit().transition().duration(t).style("opacity",0).remove(),(i=(r=c.select("."+_.stanfordRegions).selectAll("."+_.stanfordRegion).data(l.stanford_regions)).enter().append("g").attr("class",(function(t){return _.stanfordRegion+(t.class?" "+t.class:"")}))).append("polygon").attr("points",(function(t){return t.points.map((function(t){return[l.axis_rotated?h(t,"y"):u(t,"x"),l.axis_rotated?u(t,"x"):h(t,"y")].join(",")})).join(" ")})).style("opacity",0),i.append("text").attr("x",(function(t){return s.getCentroid(t.points).x})).attr("y",(function(t){return s.getCentroid(t.points).y})).style("opacity",0),s.stanfordRegions=i.merge(r),s.stanfordRegions.select("polygon").transition().duration(t).attr("points",(function(t){return t.points.map((function(t){return[l.axis_rotated?h(t,"y"):u(t,"x"),l.axis_rotated?u(t,"x"):h(t,"y")].join(",")})).join(" ")})).style("opacity",(function(t){return t.opacity?t.opacity:.2})),s.stanfordRegions.select("text").transition().duration(t).attr("x",(function(t){return l.axis_rotated?h(s.getCentroid(t.points),"y"):u(s.getCentroid(t.points),"x")})).attr("y",(function(t){return l.axis_rotated?u(s.getCentroid(t.points),"x"):h(s.getCentroid(t.points),"y")})).text((function(t){var e,n,r;return t.text?(s.isStanfordGraphType()&&(e=(r=f(t.points)).value,n=r.percentage),t.text(e,n)):""})).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",_.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&p(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map((function(t){return e.addName(t.values[n.tooltip_init_x])})),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},t.prototype.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map((function(t){return t.id}));return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var r=e.tooltip_order;void 0===r&&(r=e.data_order);var i=function(t){return t?t.value:null};if(p(r)&&"asc"===r.toLowerCase())return function(t,e){return i(t)-i(e)};if(p(r)&&"desc"===r.toLowerCase())return function(t,e){return i(e)-i(t)};if(f(r)){var o=r;return void 0===e.tooltip_order&&(o=function(t,e){return r(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),o}return l(r)?function(t,e){return r.indexOf(t.id)-r.indexOf(e.id)}:void 0},t.prototype.getTooltipContent=function(t,e,n,r){var i,o,a,s,c,l,u=this,h=u.config,f=h.tooltip_format_title||e,d=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value;p||(p=u.isTargetNormalized(t.id)?function(t,e){return(100*e).toFixed(2)+"%"}:n);var g=this.getTooltipSortFunction();for(g&&t.sort(g),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)){if(u.isStanfordGraphType())i||(a=u.getStanfordTooltipTitle(t[o]),i="<table class='"+u.CLASS.tooltip+"'>"+a),l=u.getStanfordPointColor(t[o]),c=y(h.data_epochs),s=t[o].epochs;else if(i||(a=y(f?f(t[o].x,t[o].index):t[o].x),i="<table class='"+u.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=y(p(t[o].value,t[o].ratio,t[o].id,t[o].index,t)))){if(null===t[o].name)continue;c=y(d(t[o].name,t[o].ratio,t[o].id,t[o].index)),l=u.levelColor?u.levelColor(t[o].value):r(t[o].id)}void 0!==s&&(i+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(t[o].id)+"'>",i+="<td class='name'><span style='background-color:"+l+"'></span>"+c+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>")}return i+"</table>"},t.prototype.tooltipPosition=function(t,e,n,r){var i,o,a,s,c,l=this,u=l.config,h=l.d3,f=l.hasArcType(),d=h.mouse(r);return f?(o=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+d[0],s=(l.hasType("gauge")?l.height:l.height/2)+d[1]+20):(i=l.getSvgLeft(!0),u.axis_rotated?(a=(o=i+d[0]+100)+e,c=l.currentWidth-l.getCurrentPaddingRight(),s=l.x(t[0].x)+20):(a=(o=i+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20)+e,c=i+l.currentWidth-l.getCurrentPaddingRight(),s=d[1]+15),a>c&&(o-=a-c+20),s+n>l.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},t.prototype.showTooltip=function(e,n){var r,i,o,a=this,s=a.config,c=a.hasArcType(),l=e.filter((function(t){return t&&m(t.value)})),u=s.tooltip_position||t.prototype.tooltipPosition;0!==l.length&&s.tooltip_show?(a.tooltip.html(s.tooltip_contents.call(a,e,a.axis.getXAxisTickFormat(),a.getYFormat(c),a.color)).style("display","block"),r=a.tooltip.property("offsetWidth"),i=a.tooltip.property("offsetHeight"),o=u.call(this,l,r,i,n),a.tooltip.style("top",o.top+"px").style("left",o.left+"px")):a.hideTooltip()},t.prototype.hideTooltip=function(){this.tooltip.style("display","none")},t.prototype.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach((function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e})),t||(r.data_type=e)},t.prototype.hasType=function(t,e){var n=this.config.data_types,r=!1;return(e=e||this.data.targets)&&e.length?e.forEach((function(e){var i=n[e.id];(i&&i.indexOf(t)>=0||!i&&"line"===t)&&(r=!0)})):Object.keys(n).length?Object.keys(n).forEach((function(e){n[e]===t&&(r=!0)})):r=this.config.data_type===t,r},t.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},t.prototype.isLineType=function(t){var e=this.config,n=p(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},t.prototype.isStepType=function(t){var e=p(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},t.prototype.isSplineType=function(t){var e=p(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},t.prototype.isAreaType=function(t){var e=p(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},t.prototype.isBarType=function(t){var e=p(t)?t:t.id;return"bar"===this.config.data_types[e]},t.prototype.isScatterType=function(t){var e=p(t)?t:t.id;return"scatter"===this.config.data_types[e]},t.prototype.isStanfordType=function(t){var e=p(t)?t:t.id;return"stanford"===this.config.data_types[e]},t.prototype.isPieType=function(t){var e=p(t)?t:t.id;return"pie"===this.config.data_types[e]},t.prototype.isGaugeType=function(t){var e=p(t)?t:t.id;return"gauge"===this.config.data_types[e]},t.prototype.isDonutType=function(t){var e=p(t)?t:t.id;return"donut"===this.config.data_types[e]},t.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},t.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},t.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},t.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},t.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},t.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},t.prototype.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},t.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},t.prototype.initZoom=function(){var t,e=this,n=e.d3,r=e.config;return e.zoom=n.zoom().on("start",(function(){if("scroll"===r.zoom_type){var i=n.event.sourceEvent;i&&"brush"===i.type||(t=i,r.zoom_onzoomstart.call(e.api,i))}})).on("zoom",(function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(e.redrawForZoom(),r.zoom_onzoom.call(e.api,e.x.orgDomain()))}})).on("end",(function(){if("scroll"===r.zoom_type){var i=n.event.sourceEvent;i&&"brush"===i.type||i&&t.clientX===i.clientX&&t.clientY===i.clientY||r.zoom_onzoomend.call(e.api,e.x.orgDomain())}})),e.zoom.updateDomain=function(){return n.event&&n.event.transform&&(r.axis_rotated&&"scroll"===r.zoom_type&&"mousemove"===n.event.sourceEvent.type?e.x.domain(n.event.transform.rescaleY(e.subX).domain()):e.x.domain(n.event.transform.rescaleX(e.subX).domain())),this},e.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[e.width,e.height]]).extent([[0,0],[e.width,e.height]]),this},e.zoom.update=function(){return this.updateExtent().updateDomain()},e.zoom.updateExtent()},t.prototype.zoomTransform=function(t){var e=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(e[1]-e[0])).translate(-e[0],0)},t.prototype.initDragZoom=function(){var t=this,e=t.d3,n=t.config,r=t.context=t.svg,i=t.margin.left+20.5,o=t.margin.top+.5;if("drag"===n.zoom_type&&n.zoom_enabled){var a=function(e){return e&&e.map((function(e){return t.x.invert(e)}))},s=t.dragZoomBrush=e.brushX().on("start",(function(){t.api.unzoom(),t.svg.select("."+_.dragZoom).classed("disabled",!1),n.zoom_onzoomstart.call(t.api,e.event.sourceEvent)})).on("brush",(function(){n.zoom_onzoom.call(t.api,a(e.event.selection))})).on("end",(function(){if(null!=e.event.selection){var r=a(e.event.selection);n.zoom_disableDefaultBehavior||t.api.zoom(r),t.svg.select("."+_.dragZoom).classed("disabled",!0),n.zoom_onzoomend.call(t.api,r)}}));r.append("g").classed(_.dragZoom,!0).attr("clip-path",t.clipPath).attr("transform","translate("+i+","+o+")").call(s)}},t.prototype.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},t.prototype.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,i=t.x;n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(r.update(),n.zoom_disableDefaultBehavior||(t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},T}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return g}));n(4),n(7),n(2),n(107),n(5),n(3),n(6),n(156),n(101),n(45),n(35);var r=n(0),i=n.n(r),o=n(114),a=n.n(o),s=n(115);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){l=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function h(t,e,n,i){var o=e&&e.prototype instanceof p?e:p,a=Object.create(o.prototype),s=new E(i||[]);return r(a,"_invoke",{value:S(t,n,s)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var d={};function p(){}function g(){}function m(){}var v={};u(v,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(C([])));b&&b!==e&&n.call(b,o)&&(v=b);var x=m.prototype=p.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var i;r(this,"_invoke",{value:function(r,o){function a(){return new e((function(i,a){!function r(i,o,a,s){var l=f(t[i],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==c(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function S(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function T(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return g.prototype=m,r(x,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:g,configurable:!0}),g.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},_(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(h(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(x),u(x,s,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function u(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){u(o,r,i,a,s,"next",t)}function s(t){u(o,r,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var p=new(n(116).a),g=d((function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=!0;t.env.MIX_DISP_LOADING,i.a.use(a.a),i.a.init({preventRunning:!0,prevent:s.a,timeout:1e4,cacheIgnore:["/contact/","/entry/"],views:[{namespace:"not-loading",beforeEnter:function(t){p.mask.style.visibility="hidden",n=!1},beforeLeave:function(t){p.mask.style.visibility="visible",n=!0}}],transitions:[{sync:!0,beforeOnce:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.beforeOnce(t);case 2:case"end":return e.stop()}}),e)})))()},once:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.once(t);case 2:case"end":return e.stop()}}),e)})))()},afterOnce:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.afterOnce(t);case 2:case"end":return e.stop()}}),e)})))()},beforeLeave:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,p.beforeLeave(t);case 3:case"end":return e.stop()}}),e)})))()},leave:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n="back"!=t.trigger&&"forward"!=t.trigger)){e.next=4;break}return e.next=4,p.leave(t);case 4:case"end":return e.stop()}}),e)})))()},afterLeave:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,p.afterLeave(t);case 3:case"end":return e.stop()}}),e)})))()},beforeEnter:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,p.beforeEnter(t);case 3:case"end":return e.stop()}}),e)})))()},enter:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,p.enter(t);case 3:case"end":return e.stop()}}),e)})))()},afterEnter:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,p.afterEnter(t);case 3:e.next=6;break;case 5:t.next.container.querySelector("[data-scroll-container]").style.opacity=1;case 6:case"end":return e.stop()}}),e)})))()},after:function(t){return h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,p.after(t);case 3:case"end":return e.stop()}}),e)})))()}}]})}))}).call(this,n(106))},function(t,e,n){var r;t.exports=(r=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},new(function(){function t(){this.name="@barba/prefetch",this.version="2.1.10",this.toPrefetch=new Set}var e=t.prototype;return e.install=function(t,e){var n=void 0===e?{}:e,r=n.root,i=void 0===r?document.body:r,o=n.timeout,a=void 0===o?2e3:o;this.logger=new t.Logger(this.name),this.logger.info(this.version),this.barba=t,this.root=i,this.timeout=a},e.init=function(){var t=this;this.barba.prefetchIgnore?this.logger.warn("barba.prefetchIgnore is enabled"):this.barba.cacheIgnore?this.logger.warn("barba.cacheIgnore is enabled"):(this.observer=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var n=e.target,r=t.barba.dom.getHref(n);t.toPrefetch.has(r)&&(t.observer.unobserve(n),t.barba.cache.has(r)?t.barba.cache.update(r,{action:"prefetch"}):t.barba.cache.set(r,t.barba.request(r,t.barba.timeout,t.barba.onRequestError.bind(t.barba,"barba")).catch((function(e){t.logger.error(e)})),"prefetch"))}}))})),this.observe(),this.barba.hooks.after(this.observe,this))},e.observe=function(){var t=this;r((function(){t.root.querySelectorAll("a").forEach((function(e){var n=e,r=t.barba.dom.getHref(n);t.barba.cache.has(r)||t.barba.prevent.checkHref(r)||t.barba.prevent.checkLink(n,{},r)||(t.observer.observe(e),t.toPrefetch.add(r))}))}),{timeout:this.timeout})},t}()))},function(t,e,n){"use strict";n(94),n(20);e.a=function(t){var e=t.el,n=(t.event,t.href),r=location.protocol+"//"+location.host;if(!n.startsWith(r))return e.setAttribute("target","_blank"),!0;var i=location.protocol+"//"+location.host+location.pathname,o=n.replace(/#.*$/,"");if(n.startsWith(location.protocol+"//"+location.host)&&n.indexOf("#")>-1&&o!=i)return!1;if(/\.(xlsx?|docx?|pptx?|pdf|jpe?g|png|gif|svg)/.test(n.toLowerCase()))return e.setAttribute("target","_blank"),!0;["ab-item"].forEach((function(t){if(e.classList.contains(t))return e.setAttribute("target","_blank"),!0}))}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));n(2),n(107),n(20),n(4),n(7),n(5),n(3),n(6);var r=n(1),i=n(11);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var s=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.mask=document.querySelector("#js-loading__mask"),this.first="#js-loading__mask .js-loading__first",this.second="#js-loading__mask .js-loading__second",this.logoAnimation_elm=document.querySelector("#logo-animation"),this.mask&&(this.mask.style.display="block"),t.env.MIX_DISP_LOADING}var n,o,s;return n=e,(o=[{key:"beforeOnce",value:function(t){var e=this;return new Promise((function(n){"not-loading"==t.next.namespace&&n();var i=r.a.timeline();t.next.container.querySelector("#p-index")?(i.fromTo("#logo-animation",{opacity:0},{opacity:1}),i.fromTo("#logo-animation .logo-animation__ja svg",{y:"100%"},{y:0,ease:"power3.inOut",duration:.8,stagger:{each:.024}}),i.fromTo("#logo-animation .logo-animation__en svg",{y:"200%"},{y:0,ease:"power3.inOut",duration:.5,stagger:{each:.012},onComplete:function(){setTimeout((function(){e.initialScroll()}),100),n()}},"-=.5")):setTimeout((function(){e.page=document.querySelector("#page"),e.page&&(e.page.style.opacity="1"),setTimeout((function(){e.initialScroll()}),100),n()}),500)}))}},{key:"once",value:function(t){var e=this;return new Promise((function(n){e.page=document.querySelector("#page"),"not-loading"==t.next.namespace&&(e.page&&(e.page.style.opacity="1"),n());var i=function(){document.querySelector('[data-barba="container"]').removeAttribute("style"),e.mask=document.querySelector("#js-loading__mask"),e.mask&&(e.mask.style.display="none"),n()},o=r.a.timeline();t.next.container.querySelector("#p-index")?(o.fromTo(".js-loading__first",{x:0},{x:"100%",ease:"power4.inOut",duration:2.5,onStart:function(){r.a.fromTo(".js-loading__first .m-curve-wrapper",{scaleX:1},{scaleX:0,ease:"expo.inOut",duration:1}),r.a.fromTo(".js-loading__second .m-curve-wrapper",{scaleX:1},{scaleX:0,ease:"expo.inOut",duration:1}),r.a.to("#logo-animation",{opacity:0,scale:.9,delay:.5,ease:"back.inOut(1.8)",duration:.4}),r.a.to("#page",{opacity:1,delay:.5,ease:"power3.out",duration:1})}},"-=.7"),o.fromTo(".js-loading__second",{x:0},{x:"100%",ease:"expo.inOut",duration:2,onComplete:function(){i()}},"-=2")):(o.fromTo(".js-loading__first",{x:0},{x:"100%",ease:"power4.inOut",duration:2.5,onStart:function(){r.a.fromTo(".js-loading__first .m-curve-wrapper",{scaleX:1},{scaleX:0,ease:"expo.inOut",duration:1}),r.a.fromTo(".js-loading__second .m-curve-wrapper",{scaleX:1},{scaleX:0,ease:"expo.inOut",duration:1})}},"-=.7"),o.fromTo(".js-loading__second",{x:0},{x:"100%",ease:"expo.inOut",duration:2,onComplete:function(){i()}},"-=2"))}))}},{key:"afterOnce",value:function(t){return new Promise((function(t){t()}))}},{key:"beforeLeave",value:function(t){return new Promise((function(t){t()}))}},{key:"leave",value:function(t){return new Promise((function(t){t()}))}},{key:"afterLeave",value:function(t){var e=this;return new Promise((function(n){e.mask=document.querySelector("#js-loading__mask"),e.mask&&(e.mask.style.display="block"),"not-loading"==t.next.namespace&&n();var o=0;window.isDrawerLinkClicked&&(window.isDrawerLinkClicked=!1,o=300),setTimeout((function(){r.a.set(t.next.container,{opacity:0}),r.a.set(t.current.container,{width:"100vw",height:"100vh",position:"absolute",left:0,top:0,"z-index":10}),i.a.matchMedia({"(max-width: 1023px)":function(){r.a.set(t.current.container.querySelector("[data-scroll-container]"),{transform:"translateY(-"+window.scrollY+"px)",width:"100vw",position:"absolute",left:0,top:0})}}),r.a.set("#wrapper",{perspective:"3000px",height:"100vh"}),r.a.fromTo(t.current.container,{filter:"blur(0px) brightness(1)"},{opacity:0,scale:.96,filter:"blur(15px) brightness(1.2)",ease:"power4.inOut",duration:.8,onComplete:function(){r.a.set("#wrapper",{clearProps:"height"}),t.current.container.style.display="none",n()}})}),o)}))}},{key:"beforeEnter",value:function(t){return new Promise((function(t){t()}))}},{key:"enter",value:function(t){return new Promise((function(t){t()}))}},{key:"afterEnter",value:function(t){var e=this;return new Promise((function(n){"not-loading"==t.next.namespace&&(t.next.container.style.opacity=1,e.initialScroll(),n()),r.a.set(t.next.container,{"max-height":"100vh"}),r.a.set("#wrapper",{perspective:"3000px"}),r.a.timeline().fromTo(t.next.container,{opacity:0,scale:1.1,filter:"blur(15px) brightness(1.2)"},{opacity:1,scale:1,filter:"blur(0px) brightness(1)",ease:"expo.inOut",duration:.8,onStart:function(){},onComplete:function(){e.initialScroll(),t.next.container.removeAttribute("style"),r.a.set("#wrapper",{clearProps:"perspective"}),e.mask=document.querySelector("#js-loading__mask"),e.mask&&(e.mask.style.display="none"),n()}})}))}},{key:"after",value:function(t){return new Promise((function(t){t()}))}},{key:"initialScroll",value:function(){if(""==location.hash)window.scrollTo(0,0);else{var t=location.hash.replace(/^#/,""),e=document.getElementById(t);if(!e)return;if(e){var n=e.getBoundingClientRect(),r=(window.pageYOffset||document.documentElement.scrollTop,n.top,document.querySelector("[data-header]"));r&&r&&r.clientHeight,window.LocomotiveScroll.scrollTo(e,{offset:0,duration:500})}}}}])&&a(n.prototype,o),s&&a(n,s),Object.defineProperty(n,"prototype",{writable:!1}),e}()}).call(this,n(106))},function(t,e,n){n(160),n(161),n(163),t.exports=n(165)},function(t,e){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document,e=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,a=null,s=null;if(this.POLL_INTERVAL?a=n.setInterval(r,this.POLL_INTERVAL):(i(n,"resize",r,!0),i(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(a&&t.clearInterval(a),o(t,"resize",r,!0)),o(e,"scroll",r,!0),s&&s.disconnect()})),e!=(this.root&&this.root.ownerDocument||t)){var c=u(e);c&&this._monitorIntersections(c.ownerDocument)}}},r.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&this.root.ownerDocument||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var i=u(n);if((n=i&&i.ownerDocument)==e)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),e!=r){var o=u(e);o&&this._unmonitorIntersections(o.ownerDocument)}}}},r.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,o=s(i),a=this._rootContainsTarget(i),c=r.entry,l=t&&a&&this._computeTargetAndRootIntersection(i,o,e),u=r.entry=new n({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:o,rootBounds:e,intersectionRect:l});c?t&&a?this._hasCrossedThreshold(c,u)&&this._queuedEntries.push(u):c&&c.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(e,n,r){if("none"!=window.getComputedStyle(e).display){for(var i,o,c,u,h=n,f=l(e),d=!1;!d&&f;){var p=null,g=1==f.nodeType?window.getComputedStyle(f):{};if("none"==g.display)return null;if(f==this.root||9==f.nodeType)if(d=!0,f==this.root||f==t)p=r;else{var m=l(f),v=m&&s(m),y=m&&this._computeTargetAndRootIntersection(m,v,r);v&&y?(f=m,i=v,c=void 0,u=void 0,c=(o=y).top-i.top,u=o.left-i.left,p={top:c,left:u,height:o.height,width:o.width,bottom:c+o.height,right:u+o.width}):(f=null,h=null)}else{var b=f.ownerDocument;f!=b.body&&f!=b.documentElement&&"visible"!=g.overflow&&(p=s(f))}if(p&&(h=a(p,h)),!h)break;f=f&&l(f)}return h}},r.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},r.prototype._rootContainsTarget=function(e){return c(this.root||t,e)&&(!this.root||this.root.ownerDocument==e.ownerDocument)},r.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},r.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function r(t,e){var n,r,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function i(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t,e){var n=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),o=Math.min(t.right,e.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}||null}function s(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?u(e):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}function u(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}}()},function(t,e,n){"use strict";var r=n(60);n(9)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){t.exports=n(48)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(37),i=n(67),o=n(52);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),c=o.f,l=0;s.length>l;)c.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(19),i=n(15),o=n(37);t.exports=n(18)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,c=0;s>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(33),i=n(53).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(17),i=n(15),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(30)(Function.call,n(54).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r=n(9),i=n(31),o=n(16),a=n(126),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(t,e,n){var i={},s=o((function(){return!!a[t]()||""!=""[t]()})),c=i[t]=s?e(h):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},h=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(43),i=n(41),o=n(42),a={};n(28)(a,n(10)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(14),i=n(69),o=n(19).f,a=n(53).f,s=n(71),c=n(50),l=r.RegExp,u=l,h=l.prototype,f=/a/g,d=/a/g,p=new l(f)!==f;if(n(18)&&(!p||n(16)((function(){return d[n(10)("match")]=!1,l(f)!=f||l(d)==d||"/a/i"!=l(f,"i")})))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(p?new u(r&&!o?t.source:t,e):u((r=t instanceof l)?t.source:t,r&&o?c.call(t):e),n?this:h,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=a(u),v=0;m.length>v;)g(m[v++]);h.constructor=l,l.prototype=h,n(22)(r,"RegExp",l)}n(72)("RegExp")},function(t,e,n){var r=n(130);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(17),i=n(87),o=n(10)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(132);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(93)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(92)(!1)).push([t.i,"/*!\n * Toastify js 1.12.0\n * https://github.com/apvarun/toastify-js\n * @license MIT licensed\n *\n * Copyright (C) 2018 Varun A P\n */\n\n.toastify {\n    padding: 12px 20px;\n    color: #ffffff;\n    display: inline-block;\n    box-shadow: 0 3px 6px -1px rgba(0, 0, 0, 0.12), 0 10px 36px -4px rgba(77, 96, 232, 0.3);\n    background: linear-gradient(135deg, #73a5ff, #5477f5);\n    position: fixed;\n    opacity: 0;\n    transition: all 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n    max-width: calc(50% - 20px);\n    z-index: 2147483647;\n}\n\n.toastify.on {\n    opacity: 1;\n}\n\n.toast-close {\n    background: transparent;\n    border: 0;\n    color: white;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 1em;\n    opacity: 0.4;\n    padding: 0 5px;\n}\n\n.toastify-right {\n    right: 15px;\n}\n\n.toastify-left {\n    left: 15px;\n}\n\n.toastify-top {\n    top: -150px;\n}\n\n.toastify-bottom {\n    bottom: -150px;\n}\n\n.toastify-rounded {\n    border-radius: 25px;\n}\n\n.toastify-avatar {\n    width: 1.5em;\n    height: 1.5em;\n    margin: -7px 5px;\n    border-radius: 2px;\n}\n\n.toastify-center {\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    max-width: fit-content;\n    max-width: -moz-fit-content;\n}\n\n@media only screen and (max-width: 360px) {\n    .toastify-right, .toastify-left {\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        right: 0;\n        max-width: -moz-fit-content;\n        max-width: fit-content;\n    }\n}\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r,i="fslightbox-",o="".concat(i,"styles"),a="".concat(i,"cursor-grabbing"),s="".concat(i,"full-dimension"),c="".concat(i,"flex-centered"),l="".concat(i,"open"),u="".concat(i,"transform-transition"),h="".concat(i,"absoluted"),f="".concat(i,"slide-btn"),d="".concat(f,"-container"),p="".concat(i,"fade-in"),g="".concat(i,"fade-out"),m=p+"-strong",v=g+"-strong",y="".concat(i,"opacity-"),b="".concat(y,"1"),x="".concat(i,"source");function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t){var e,n=t.props,r=0,i={};this.getSourceTypeFromLocalStorageByUrl=function(t){return e[t]?e[t]:o(t)},this.handleReceivedSourceTypeForUrl=function(t,n){!1===i[n]&&(r--,"invalid"!==t?i[n]=t:delete i[n],0===r&&(function(t,e){for(var n in e)t[n]=e[n]}(e,i),localStorage.setItem("fslightbox-types",JSON.stringify(e))))};var o=function(t){r++,i[t]=!1};n.disableLocalStorage?(this.getSourceTypeFromLocalStorageByUrl=function(){},this.handleReceivedSourceTypeForUrl=function(){}):(e=JSON.parse(localStorage.getItem("fslightbox-types")))||(e={},this.getSourceTypeFromLocalStorageByUrl=o)}function S(t,e,n,r){var i=t.data,o=t.elements.sources,a=n/r,s=0;this.adjustSize=function(){if((s=i.maxSourceWidth/a)<i.maxSourceHeight)return n<i.maxSourceWidth&&(s=r),c();s=r>i.maxSourceHeight?i.maxSourceHeight:r,c()};var c=function(){o[e].style.width=s*a+"px",o[e].style.height=s+"px"}}function T(t,e){var n=this,r=t.collections.sourceSizers,i=t.elements,o=i.sourceAnimationWrappers,a=i.sourceMainWrappers,s=i.sources,c=t.resolve;function l(t,n){r[e]=c(S,[e,t,n]),r[e].adjustSize()}this.runActions=function(t,r){s[e].classList.add(b),o[e].classList.add(m),a[e].removeChild(a[e].firstChild),l(t,r),n.runActions=l}}function M(t,e){var n,r=this,i=t.elements.sources,o=t.props,a=(0,t.resolve)(T,[e]);this.handleImageLoad=function(t){var e=t.target,n=e.naturalWidth,r=e.naturalHeight;a.runActions(n,r)},this.handleVideoLoad=function(t){var e=t.target,r=e.videoWidth,i=e.videoHeight;n=!0,a.runActions(r,i)},this.handleNotMetaDatedVideoLoad=function(){n||r.handleYoutubeLoad()},this.handleYoutubeLoad=function(){var t=1920,e=1080;o.maxYoutubeDimensions&&(t=o.maxYoutubeDimensions.width,e=o.maxYoutubeDimensions.height),a.runActions(t,e)},this.handleCustomLoad=function(){setTimeout((function(){var t=i[e];a.runActions(t.offsetWidth,t.offsetHeight)}))}}function A(t,e,n){var r=t.elements.sources,i=t.props.customClasses,o=i[e]?i[e]:"";r[e].className=n+" "+o}function E(t,e){var n=t.elements.sources,r=t.props.customAttributes;for(var i in r[e])n[e].setAttribute(i,r[e][i])}function C(t,e){var n=t.collections.sourceLoadHandlers,r=t.elements,i=r.sources,o=r.sourceAnimationWrappers,a=t.props.sources;i[e]=document.createElement("img"),A(t,e,x),i[e].src=a[e],i[e].onload=n[e].handleImageLoad,E(t,e),o[e].appendChild(i[e])}function L(t,e){var n=t.collections.sourceLoadHandlers,r=t.elements,i=r.sources,o=r.sourceAnimationWrappers,a=t.props,s=a.sources,c=a.videosPosters;i[e]=document.createElement("video"),A(t,e,x),i[e].src=s[e],i[e].onloadedmetadata=function(t){n[e].handleVideoLoad(t)},i[e].controls=!0,E(t,e),c[e]&&(i[e].poster=c[e]);var l=document.createElement("source");l.src=s[e],i[e].appendChild(l),setTimeout(n[e].handleNotMetaDatedVideoLoad,3e3),o[e].appendChild(i[e])}function P(t,e){var n=t.collections.sourceLoadHandlers,r=t.elements,o=r.sources,a=r.sourceAnimationWrappers,s=t.props.sources;o[e]=document.createElement("iframe"),A(t,e,"".concat(x," ").concat(i,"youtube-iframe")),o[e].src="https://www.youtube.com/embed/".concat(s[e].match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/)[2],"?enablejsapi=1"),o[e].allowFullscreen=!0,E(t,e),a[e].appendChild(o[e]),n[e].handleYoutubeLoad()}function k(t,e){var n=t.collections.sourceLoadHandlers,r=t.elements,i=r.sources,o=r.sourceAnimationWrappers,a=t.props.sources;i[e]=a[e],A(t,e,"".concat(i[e].className," ").concat(x)),o[e].appendChild(i[e]),n[e].handleCustomLoad()}function R(t,e){var n=t.elements,r=n.sources,o=n.sourceAnimationWrappers,a=n.sourceMainWrappers;t.props.sources,r[e]=document.createElement("div"),r[e].className="".concat(i,"invalid-file-wrapper ").concat(c),r[e].innerHTML="Invalid source",o[e].classList.add(m),o[e].appendChild(r[e]),a[e].removeChild(a[e].firstChild)}function O(t){var e=t.collections,n=e.sourceLoadHandlers,r=e.sourcesRenderFunctions,i=t.core.sourceDisplayFacade,o=t.resolve;this.runActionsForSourceTypeAndIndex=function(e,a){var s;switch("invalid"!==e&&(n[a]=o(M,[a])),e){case"image":s=C;break;case"video":s=L;break;case"youtube":s=P;break;case"custom":s=k;break;default:s=R}r[a]=function(){return s(t,a)},i.displaySourcesWhichShouldBeDisplayed()}}function I(){var t,e,n,r=function(t){var e=document.createElement("a");return e.href=t,"www.youtube.com"===e.hostname},i=function(t){return t.slice(0,t.indexOf("/"))};function o(){if(4!==n.readyState){if(2===n.readyState){var t;switch(i(n.getResponseHeader("content-type"))){case"image":t="image";break;case"video":t="video";break;default:t="invalid"}n.onreadystatechange=null,n.abort(),e(t)}}else e("invalid")}this.setUrlToCheck=function(e){t=e},this.getSourceType=function(i){if(r(t))return i("youtube");e=i,(n=new XMLHttpRequest).onreadystatechange=o,n.open("GET",t,!0),n.send()}}function D(t,e,n){var r=t.props,i=r.types,o=r.type,a=r.sources,s=t.resolve;this.getTypeSetByClientForIndex=function(t){var e;return i&&i[t]?e=i[t]:o&&(e=o),e},this.retrieveTypeWithXhrForIndex=function(t){var r=s(I);r.setUrlToCheck(a[t]),r.getSourceType((function(r){e.handleReceivedSourceTypeForUrl(r,a[t]),n.runActionsForSourceTypeAndIndex(r,t)}))}}function N(t,e){var n=t.componentsServices.hideSourceLoaderIfNotYetCollection,r=t.elements,i=r.sourceWrappersContainer,o=r.sourceMainWrappers;o[e]=document.createElement("div"),o[e].className="".concat(h," ").concat(s," ").concat(c),o[e].innerHTML='<div class="fslightbox-loader"><div></div><div></div><div></div><div></div></div>';var a=o[e].firstChild;n[e]=function(){o[e].contains(a)&&o[e].removeChild(a)},i.appendChild(o[e]),function(t,e){var n=t.elements,r=n.sourceMainWrappers,i=n.sourceAnimationWrappers;i[e]=document.createElement("div"),r[e].appendChild(i[e])}(t,e)}function F(t,e,n,r){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"width",e),o.setAttributeNS(null,"height",e),o.setAttributeNS(null,"viewBox",n);var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttributeNS(null,"class","".concat(i,"svg-path")),a.setAttributeNS(null,"d",r),o.appendChild(a),t.appendChild(o),o}function G(t,e){var n=document.createElement("div");return n.className="".concat(i,"toolbar-button ").concat(c),n.title=e,t.appendChild(n),n}function B(t){var e=t.props.sources,n=t.elements.container,r=document.createElement("div");r.className="".concat(i,"nav"),n.appendChild(r),function(t,e){var n=document.createElement("div");n.className="".concat(i,"toolbar"),e.appendChild(n),function(t,e){var n=t.componentsServices,r=t.core.fullscreenToggler,i=t.data,o="M4.5 11H3v4h4v-1.5H4.5V11zM3 7h1.5V4.5H7V3H3v4zm10.5 6.5H11V15h4v-4h-1.5v2.5zM11 3v1.5h2.5V7H15V3h-4z",a=G(e);a.title="Enter fullscreen";var s=F(a,"20px","0 0 18 18",o);n.enterFullscreen=function(){i.isFullscreenOpen=!0,a.title="Exit fullscreen",s.setAttributeNS(null,"width","24px"),s.setAttributeNS(null,"height","24px"),s.setAttributeNS(null,"viewBox","0 0 950 1024"),s.firstChild.setAttributeNS(null,"d","M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z")},n.exitFullscreen=function(){i.isFullscreenOpen=!1,a.title="Enter fullscreen",s.setAttributeNS(null,"width","20px"),s.setAttributeNS(null,"height","20px"),s.setAttributeNS(null,"viewBox","0 0 18 18"),s.firstChild.setAttributeNS(null,"d",o)},a.onclick=function(){i.isFullscreenOpen?r.exitFullscreen():r.enterFullscreen()}}(t,n),function(t,e){var n=G(e,"Close");n.onclick=t.core.lightboxCloser.closeLightbox,F(n,"20px","0 0 24 24","M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z")}(t,n)}(t,r),e.length>1&&function(t,e){var n=t.componentsServices,r=t.props.sources,o=(t.stageIndexes,document.createElement("div"));o.className="".concat(i,"slide-number-container");var a=document.createElement("div");a.className=c;var s=document.createElement("span");n.setSlideNumber=function(t){return s.innerHTML=t};var l=document.createElement("span");l.className="".concat(i,"slash");var u=document.createElement("div");u.innerHTML=r.length,o.appendChild(a),a.appendChild(s),a.appendChild(l),a.appendChild(u),e.appendChild(o),setTimeout((function(){a.offsetWidth>55&&(o.style.justifyContent="flex-start")}))}(t,r)}function V(t,e){var n=this,r=t.elements.sourceMainWrappers,i=t.props,o=0;this.byValue=function(t){return o=t,n},this.negative=function(){a(-s())},this.zero=function(){a(0)},this.positive=function(){a(s())};var a=function(t){r[e].style.transform="translateX(".concat(t+o,"px)"),o=0},s=function(){return(1+i.slideDistance)*innerWidth}}function z(t,e,n,r){var i=t.elements.container,o=n.charAt(0).toUpperCase()+n.slice(1),a=document.createElement("div");a.className="".concat(d," ").concat(d,"-").concat(n),a.title="".concat(o," slide"),a.onclick=e,function(t,e){var n=document.createElement("div");n.className="".concat(f," ").concat(c),F(n,"20px","0 0 20 20",e),t.appendChild(n)}(a,r),i.appendChild(a)}function U(t,e){var n=t.classList;n.contains(e)&&n.remove(e)}function j(t){var e=this,n=t.core,r=n.eventsDispatcher,i=n.fullscreenToggler,o=n.globalEventsController,a=n.scrollbarRecompensor,s=t.data,c=t.elements,u=t.props,h=t.sourcePointerProps;this.isLightboxFadingOut=!1,this.runActions=function(){e.isLightboxFadingOut=!0,c.container.classList.add(v),o.removeListeners(),u.exitFullscreenOnClose&&s.isFullscreenOpen&&i.exitFullscreen(),setTimeout((function(){e.isLightboxFadingOut=!1,h.isPointering=!1,c.container.classList.remove(v),document.documentElement.classList.remove(l),a.removeRecompense(),document.body.removeChild(c.container),r.dispatch("onClose")}),270)}}function H(t){var e=t.core,n=e.lightboxCloser,r=e.fullscreenToggler,i=e.slideChangeFacade;this.listener=function(t){switch(t.key){case"Escape":n.closeLightbox();break;case"ArrowLeft":i.changeToPrevious();break;case"ArrowRight":i.changeToNext();break;case"F11":t.preventDefault(),r.enterFullscreen()}}}function W(t){var e=t.collections.sourceMainWrappersTransformers,n=t.elements,r=t.sourcePointerProps,i=t.stageIndexes;function o(t,n){e[t].byValue(r.swipedX)[n]()}this.runActionsForEvent=function(t){var e,s,c;n.container.contains(n.slideSwipingHoverer)||n.container.appendChild(n.slideSwipingHoverer),e=n.container,s=a,(c=e.classList).contains(s)||c.add(s),r.swipedX=t.screenX-r.downScreenX,o(i.current,"zero"),void 0!==i.previous&&r.swipedX>0?o(i.previous,"negative"):void 0!==i.next&&r.swipedX<0&&o(i.next,"positive")}}function X(t){var e=t.props.sources,n=t.resolve,r=t.sourcePointerProps,i=n(W);1===e.length?this.listener=function(){r.swipedX=1}:this.listener=function(t){r.isPointering&&i.runActionsForEvent(t)}}function Y(t){var e=t.collections.sourceMainWrappersTransformers,n=t.core.slideIndexChanger,r=t.elements.sourceMainWrappers,i=t.stageIndexes;this.runPositiveSwipedXActions=function(){void 0===i.previous||(o("positive"),n.changeTo(i.previous)),o("zero")},this.runNegativeSwipedXActions=function(){void 0===i.next||(o("negative"),n.changeTo(i.next)),o("zero")};var o=function(t){r[i.current].classList.add(u),e[i.current][t]()}}function q(t,e){t.contains(e)&&t.removeChild(e)}function Q(t){var e=t.core.lightboxCloser,n=t.elements,r=t.resolve,i=t.sourcePointerProps,o=r(Y);this.runNoSwipeActions=function(){q(n.container,n.slideSwipingHoverer),i.isSourceDownEventTarget||e.closeLightbox(),i.isPointering=!1},this.runActions=function(){i.swipedX>0?o.runPositiveSwipedXActions():o.runNegativeSwipedXActions(),q(n.container,n.slideSwipingHoverer),n.container.classList.remove(a),i.isPointering=!1}}function Z(t){var e=t.resolve,n=t.sourcePointerProps,r=e(Q);this.listener=function(){n.isPointering&&(n.swipedX?r.runActions():r.runNoSwipeActions())}}function $(t){var e,n,r;n=(e=t).core.classFacade,r=e.elements,n.removeFromEachElementClassIfContains=function(t,e){for(var n=0;n<r[t].length;n++)U(r[t][n],e)},function(t){var e=t.core.eventsDispatcher,n=t.props;e.dispatch=function(t){n[t]&&n[t]()}}(t),function(t){var e=t.componentsServices,n=t.core.fullscreenToggler;n.enterFullscreen=function(){e.enterFullscreen();var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},n.exitFullscreen=function(){e.exitFullscreen(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}(t),function(t){var e=t.core,n=e.globalEventsController,r=e.windowResizeActioner,i=t.resolve,o=i(H),a=i(X),s=i(Z);n.attachListeners=function(){document.addEventListener("pointermove",a.listener),document.addEventListener("pointerup",s.listener),addEventListener("resize",r.runActions),document.addEventListener("keydown",o.listener)},n.removeListeners=function(){document.removeEventListener("pointermove",a.listener),document.removeEventListener("pointerup",s.listener),removeEventListener("resize",r.runActions),document.removeEventListener("keydown",o.listener)}}(t),function(t){var e=t.core.lightboxCloser,n=(0,t.resolve)(j);e.closeLightbox=function(){n.isLightboxFadingOut||n.runActions()}}(t),J(t),function(t){var e=t.data,n=t.core.scrollbarRecompensor;function r(){document.body.offsetHeight>innerHeight&&(document.body.style.marginRight=e.scrollbarWidth+"px")}n.addRecompense=function(){"complete"===document.readyState?r():addEventListener("load",(function(){r(),n.addRecompense=r}))},n.removeRecompense=function(){document.body.style.removeProperty("margin-right")}}(t),function(t){var e=t.core,n=e.slideChangeFacade,r=e.slideIndexChanger,i=e.stageManager;t.props.sources.length>1?(n.changeToPrevious=function(){r.jumpTo(i.getPreviousSlideIndex())},n.changeToNext=function(){r.jumpTo(i.getNextSlideIndex())}):(n.changeToPrevious=function(){},n.changeToNext=function(){})}(t),function(t){var e,n,r=t.collections.sourceMainWrappersTransformers,i=t.componentsServices,o=t.core,a=o.classFacade,s=o.slideIndexChanger,c=o.sourceDisplayFacade,l=o.stageManager,h=t.elements.sourceAnimationWrappers,f=t.stageIndexes,d=(e=function(){a.removeFromEachElementClassIfContains("sourceAnimationWrappers",g)},n=[],function(){n.push(!0),setTimeout((function(){n.pop(),n.length||e()}),300)});s.changeTo=function(t){f.current=t,l.updateStageIndexes(),i.setSlideNumber(t+1),c.displaySourcesWhichShouldBeDisplayed()},s.jumpTo=function(t){var e=f.current;s.changeTo(t),a.removeFromEachElementClassIfContains("sourceMainWrappers",u),U(h[e],m),U(h[e],p),h[e].classList.add(g),U(h[t],m),U(h[t],g),h[t].classList.add(p),d(),r[t].zero(),setTimeout((function(){e!==f.current&&r[e].negative()}),270)}}(t),function(t){var e=t.core,n=e.classFacade,r=e.sourcesPointerDown,i=t.elements.sources,o=t.sourcePointerProps,a=t.stageIndexes;r.listener=function(t){"VIDEO"!==t.target.tagName&&t.preventDefault(),o.isPointering=!0,o.downScreenX=t.screenX,o.swipedX=0;var e=i[a.current];e&&e.contains(t.target)?o.isSourceDownEventTarget=!0:o.isSourceDownEventTarget=!1,n.removeFromEachElementClassIfContains("sourceMainWrappers",u)}}(t),function(t){var e=t.collections.sourcesRenderFunctions,n=t.core.sourceDisplayFacade,r=t.props,i=t.stageIndexes;function o(t){e[t]&&(e[t](),delete e[t])}n.displaySourcesWhichShouldBeDisplayed=function(){if(r.loadOnlyCurrentSource)o(i.current);else for(var t in i)o(i[t])}}(t),function(t){var e=t.stageIndexes,n=t.core.stageManager,r=t.props.sources.length-1;n.getPreviousSlideIndex=function(){return 0===e.current?r:e.current-1},n.getNextSlideIndex=function(){return e.current===r?0:e.current+1},n.updateStageIndexes=0===r?function(){}:1===r?function(){0===e.current?(e.next=1,delete e.previous):(e.previous=0,delete e.next)}:function(){e.previous=n.getPreviousSlideIndex(),e.next=n.getNextSlideIndex()},n.isSourceInStage=r<=2?function(){return!0}:function(t){var n=e.current;if(0===n&&t===r||n===r&&0===t)return!0;var i=n-t;return-1===i||0===i||1===i}}(t),function(t){var e=t.collections,n=e.sourceMainWrappersTransformers,r=e.sourceSizers,i=t.core.windowResizeActioner,o=t.data,a=t.elements.sourceMainWrappers,s=t.props,c=t.stageIndexes;i.runActions=function(){innerWidth<992?o.maxSourceWidth=innerWidth:o.maxSourceWidth=.9*innerWidth,o.maxSourceHeight=.9*innerHeight;for(var t=0;t<s.sources.length;t++)U(a[t],u),t!==c.current&&n[t].negative(),r[t]&&r[t].adjustSize()}}(t)}function K(t){var e=t.core.eventsDispatcher,n=t.data,r=t.elements,o=t.props.sources;n.isInitialized=!0,n.scrollbarWidth=function(t){var e=t.props.disableLocalStorage;if(!e){var n=localStorage.getItem("fslightbox-scrollbar-width");if(n)return n}var r=function(){var t=document.createElement("div"),e=t.style;return e.visibility="hidden",e.width="100px",e.msOverflowStyle="scrollbar",e.overflow="scroll",t}(),i=function(){var t=document.createElement("div");return t.style.width="100%",t}();document.body.appendChild(r);var o=r.offsetWidth;r.appendChild(i);var a=i.offsetWidth;document.body.removeChild(r);var s=o-a;return e||localStorage.setItem("fslightbox-scrollbar-width",s.toString()),s}(t),function(t){for(var e=t.collections.sourceMainWrappersTransformers,n=t.props.sources,r=t.resolve,i=0;i<n.length;i++)e[i]=r(V,[i])}(t),$(t),r.container=document.createElement("div"),r.container.className="".concat(i,"container ").concat(s," ").concat(m),function(t){var e=t.elements;e.slideSwipingHoverer=document.createElement("div"),e.slideSwipingHoverer.className="".concat(i,"slide-swiping-hoverer ").concat(s," ").concat(h)}(t),B(t),function(t){var e=t.core.sourcesPointerDown,n=t.elements,r=t.props.sources,i=document.createElement("div");i.className="".concat(h," ").concat(s),n.container.appendChild(i),i.addEventListener("pointerdown",e.listener),n.sourceWrappersContainer=i;for(var o=0;o<r.length;o++)N(t,o)}(t),o.length>1&&function(t){var e=t.core.slideChangeFacade;z(t,e.changeToPrevious,"previous","M18.271,9.212H3.615l4.184-4.184c0.306-0.306,0.306-0.801,0-1.107c-0.306-0.306-0.801-0.306-1.107,0L1.21,9.403C1.194,9.417,1.174,9.421,1.158,9.437c-0.181,0.181-0.242,0.425-0.209,0.66c0.005,0.038,0.012,0.071,0.022,0.109c0.028,0.098,0.075,0.188,0.142,0.271c0.021,0.026,0.021,0.061,0.045,0.085c0.015,0.016,0.034,0.02,0.05,0.033l5.484,5.483c0.306,0.307,0.801,0.307,1.107,0c0.306-0.305,0.306-0.801,0-1.105l-4.184-4.185h14.656c0.436,0,0.788-0.353,0.788-0.788S18.707,9.212,18.271,9.212z"),z(t,e.changeToNext,"next","M1.729,9.212h14.656l-4.184-4.184c-0.307-0.306-0.307-0.801,0-1.107c0.305-0.306,0.801-0.306,1.106,0l5.481,5.482c0.018,0.014,0.037,0.019,0.053,0.034c0.181,0.181,0.242,0.425,0.209,0.66c-0.004,0.038-0.012,0.071-0.021,0.109c-0.028,0.098-0.075,0.188-0.143,0.271c-0.021,0.026-0.021,0.061-0.045,0.085c-0.015,0.016-0.034,0.02-0.051,0.033l-5.483,5.483c-0.306,0.307-0.802,0.307-1.106,0c-0.307-0.305-0.307-0.801,0-1.105l4.184-4.185H1.729c-0.436,0-0.788-0.353-0.788-0.788S1.293,9.212,1.729,9.212z")}(t),function(t){for(var e=t.props.sources,n=t.resolve,r=n(w),i=n(O),o=n(D,[r,i]),a=0;a<e.length;a++)if("string"==typeof e[a]){var s=o.getTypeSetByClientForIndex(a);if(s)i.runActionsForSourceTypeAndIndex(s,a);else{var c=r.getSourceTypeFromLocalStorageByUrl(e[a]);c?i.runActionsForSourceTypeAndIndex(c,a):o.retrieveTypeWithXhrForIndex(a)}}else i.runActionsForSourceTypeAndIndex("custom",a)}(t),e.dispatch("onInit")}function J(t){var e=t.collections.sourceMainWrappersTransformers,n=t.componentsServices,r=t.core,i=r.eventsDispatcher,o=r.lightboxOpener,a=r.globalEventsController,s=r.scrollbarRecompensor,c=r.sourceDisplayFacade,u=r.stageManager,h=r.windowResizeActioner,f=t.data,d=t.elements,p=t.stageIndexes;o.open=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;p.current=r,f.isInitialized?i.dispatch("onShow"):K(t),u.updateStageIndexes(),c.displaySourcesWhichShouldBeDisplayed(),n.setSlideNumber(r+1),document.body.appendChild(d.container),document.documentElement.classList.add(l),s.addRecompense(),a.attachListeners(),h.runActions(),e[p.current].zero(),i.dispatch("onOpen")}}function tt(t,e,n){return(tt=et()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&nt(i,n.prototype),i}).apply(null,arguments)}function et(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function nt(t,e){return(nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){return function(t){if(Array.isArray(t))return it(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ot(){for(var t=document.getElementsByTagName("a"),e=function(e){if(!t[e].hasAttribute("data-fslightbox"))return"continue";var n=t[e].getAttribute("data-fslightbox"),r=t[e].getAttribute("href");fsLightboxInstances[n]||(fsLightboxInstances[n]=new FsLightbox);var i=null;"#"===r.charAt(0)?(i=document.getElementById(r.substring(1)).cloneNode(!0)).removeAttribute("id"):i=r,fsLightboxInstances[n].props.sources.push(i),fsLightboxInstances[n].elements.a.push(t[e]);var o=fsLightboxInstances[n].props.sources.length-1;t[e].onclick=function(t){t.preventDefault(),fsLightboxInstances[n].open(o)},h("types","data-type"),h("videosPosters","data-video-poster"),h("customClasses","data-class"),h("customClasses","data-custom-class");for(var a=["href","data-fslightbox","data-type","data-video-poster","data-class","data-custom-class"],s=t[e].attributes,c=fsLightboxInstances[n].props.customAttributes,l=0;l<s.length;l++)if(-1===a.indexOf(s[l].name)&&"data-"===s[l].name.substr(0,5)){c[o]||(c[o]={});var u=s[l].name.substr(5);c[o][u]=s[l].value}function h(r,i){t[e].hasAttribute(i)&&(fsLightboxInstances[n].props[r][o]=t[e].getAttribute(i))}},n=0;n<t.length;n++)e(n);var r=Object.keys(fsLightboxInstances);window.fsLightbox=fsLightboxInstances[r[r.length-1]]}"object"===("undefined"==typeof document?"undefined":_(document))&&((r=document.createElement("style")).className=o,r.appendChild(document.createTextNode(".fslightbox-absoluted{position:absolute;top:0;left:0}.fslightbox-fade-in{animation:fslightbox-fade-in .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out{animation:fslightbox-fade-out .3s ease}.fslightbox-fade-in-strong{animation:fslightbox-fade-in-strong .3s cubic-bezier(0,0,.7,1)}.fslightbox-fade-out-strong{animation:fslightbox-fade-out-strong .3s ease}@keyframes fslightbox-fade-in{from{opacity:.65}to{opacity:1}}@keyframes fslightbox-fade-out{from{opacity:.35}to{opacity:0}}@keyframes fslightbox-fade-in-strong{from{opacity:.3}to{opacity:1}}@keyframes fslightbox-fade-out-strong{from{opacity:1}to{opacity:0}}.fslightbox-cursor-grabbing{cursor:grabbing}.fslightbox-full-dimension{width:100%;height:100%}.fslightbox-open{overflow:hidden;height:100%}.fslightbox-flex-centered{display:flex;justify-content:center;align-items:center}.fslightbox-opacity-0{opacity:0!important}.fslightbox-opacity-1{opacity:1!important}.fslightbox-scrollbarfix{padding-right:17px}.fslightbox-transform-transition{transition:transform .3s}.fslightbox-container{font-family:Arial,sans-serif;position:fixed;top:0;left:0;background:linear-gradient(rgba(30,30,30,.9),#000 1810%);touch-action:pinch-zoom;z-index:1000000000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.fslightbox-container *{box-sizing:border-box}.fslightbox-svg-path{transition:fill .15s ease;fill:#ddd}.fslightbox-nav{height:45px;width:100%;position:absolute;top:0;left:0}.fslightbox-slide-number-container{display:flex;justify-content:center;align-items:center;position:relative;height:100%;font-size:15px;color:#d7d7d7;z-index:0;max-width:55px;text-align:left}.fslightbox-slide-number-container .fslightbox-flex-centered{height:100%}.fslightbox-slash{display:block;margin:0 5px;width:1px;height:12px;transform:rotate(15deg);background:#fff}.fslightbox-toolbar{position:absolute;z-index:3;right:0;top:0;height:100%;display:flex;background:rgba(35,35,35,.65)}.fslightbox-toolbar-button{height:100%;width:45px;cursor:pointer}.fslightbox-toolbar-button:hover .fslightbox-svg-path{fill:#fff}.fslightbox-slide-btn-container{display:flex;align-items:center;padding:12px 12px 12px 6px;position:absolute;top:50%;cursor:pointer;z-index:3;transform:translateY(-50%)}@media (min-width:476px){.fslightbox-slide-btn-container{padding:22px 22px 22px 6px}}@media (min-width:768px){.fslightbox-slide-btn-container{padding:30px 30px 30px 6px}}.fslightbox-slide-btn-container:hover .fslightbox-svg-path{fill:#f1f1f1}.fslightbox-slide-btn{padding:9px;font-size:26px;background:rgba(35,35,35,.65)}@media (min-width:768px){.fslightbox-slide-btn{padding:10px}}@media (min-width:1600px){.fslightbox-slide-btn{padding:11px}}.fslightbox-slide-btn-container-previous{left:0}@media (max-width:475.99px){.fslightbox-slide-btn-container-previous{padding-left:3px}}.fslightbox-slide-btn-container-next{right:0;padding-left:12px;padding-right:3px}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-left:22px}}@media (min-width:768px){.fslightbox-slide-btn-container-next{padding-left:30px}}@media (min-width:476px){.fslightbox-slide-btn-container-next{padding-right:6px}}.fslightbox-down-event-detector{position:absolute;z-index:1}.fslightbox-slide-swiping-hoverer{z-index:4}.fslightbox-invalid-file-wrapper{font-size:22px;color:#eaebeb;margin:auto}.fslightbox-video{object-fit:cover}.fslightbox-youtube-iframe{border:0}.fslightbox-loader{display:block;margin:auto;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:67px;height:67px}.fslightbox-loader div{box-sizing:border-box;display:block;position:absolute;width:54px;height:54px;margin:6px;border:5px solid;border-color:#999 transparent transparent transparent;border-radius:50%;animation:fslightbox-loader 1.2s cubic-bezier(.5,0,.5,1) infinite}.fslightbox-loader div:nth-child(1){animation-delay:-.45s}.fslightbox-loader div:nth-child(2){animation-delay:-.3s}.fslightbox-loader div:nth-child(3){animation-delay:-.15s}@keyframes fslightbox-loader{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.fslightbox-source{position:relative;z-index:2;opacity:0}")),document.head.appendChild(r)),window.FsLightbox=function(){var t=this;this.props={sources:[],customAttributes:[],customClasses:[],types:[],videosPosters:[],slideDistance:.3},this.data={isInitialized:!1,isFullscreenOpen:!1,maxSourceWidth:0,maxSourceHeight:0,scrollbarWidth:0},this.sourcePointerProps={downScreenX:null,isPointering:!1,isSourceDownEventTarget:!1,swipedX:0},this.stageIndexes={},this.elements={a:[],container:null,slideSwipingHoverer:null,sourceWrappersContainer:null,sources:[],sourceMainWrappers:[],sourceAnimationWrappers:[]},this.componentsServices={enterFullscreen:null,exitFullscreen:null,hideSourceLoaderIfNotYetCollection:[],setSlideNumber:function(){}},this.resolve=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.unshift(t),tt(e,rt(n))},this.collections={sourceMainWrappersTransformers:[],sourceLoadHandlers:[],sourcesRenderFunctions:[],sourceSizers:[]},this.core={classFacade:{},eventsDispatcher:{},fullscreenToggler:{},globalEventsController:{},lightboxCloser:{},lightboxOpener:{},lightboxUpdater:{},scrollbarRecompensor:{},slideChangeFacade:{},slideIndexChanger:{},sourcesPointerDown:{},sourceDisplayFacade:{},stageManager:{},windowResizeActioner:{}},J(this),this.open=function(e){return t.core.lightboxOpener.open(e)},this.close=function(){return t.core.lightboxCloser.closeLightbox()}},window.fsLightboxInstances={},ot(),window.refreshFsLightbox=function(){for(var t in fsLightboxInstances){var e=fsLightboxInstances[t].props;fsLightboxInstances[t]=new FsLightbox,fsLightboxInstances[t].props=e,fsLightboxInstances[t].props.sources=[],fsLightboxInstances[t].elements.a=[]}ot()}}])},function(t,e,n){"use strict";var r=n(18),i=n(37),o=n(67),a=n(52),s=n(25),c=n(63),l=Object.assign;t.exports=!l||n(16)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=s(t),l=arguments.length,u=1,h=o.f,f=a.f;l>u;)for(var d,p=c(arguments[u++]),g=h?i(p).concat(h(p)):i(p),m=g.length,v=0;m>v;)d=g[v++],r&&!f.call(p,d)||(n[d]=p[d]);return n}:l},function(t,e,n){"use strict";var r=n(19),i=n(41);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){n(18)&&"g"!=/./g.flags&&n(19).f(RegExp.prototype,"flags",{configurable:!0,get:n(50)})},function(t,e,n){var r=n(9),i=n(43),o=n(36),a=n(15),s=n(17),c=n(16),l=n(139),u=(n(14).Reflect||{}).construct,h=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),f=!c((function(){u((function(){}))}));r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var c=n.prototype,d=i(s(c)?c:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},function(t,e,n){"use strict";var r=n(36),i=n(17),o=n(102),a=[].slice,s={},c=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?c(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){"use strict";var r=n(141),i=n(103);t.exports=n(142)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(19).f,i=n(43),o=n(76),a=n(30),s=n(77),c=n(78),l=n(70),u=n(89),h=n(72),f=n(18),d=n(62).fastKey,p=n(103),g=f?"_s":"size",m=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t((function(t,r){s(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&c(r,n,t[l],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),f&&r(u.prototype,"size",{get:function(){return p(this,e)[g]}}),u},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(14),i=n(9),o=n(22),a=n(76),s=n(62),c=n(78),l=n(77),u=n(17),h=n(16),f=n(75),d=n(42),p=n(69);t.exports=function(t,e,n,g,m,v){var y=r[t],b=y,x=m?"set":"add",_=b&&b.prototype,w={},S=function(t){var e=_[t];o(_,t,"delete"==t||"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||_.forEach&&!h((function(){(new b).entries().next()})))){var T=new b,M=T[x](v?{}:-0,1)!=T,A=h((function(){T.has(1)})),E=f((function(t){new b(t)})),C=!v&&h((function(){for(var t=new b,e=5;e--;)t[x](e,e);return!t.has(-0)}));E||((b=e((function(e,n){l(e,b,t);var r=p(new y,e,b);return null!=n&&c(n,m,r[x],r),r}))).prototype=_,_.constructor=b),(A||C)&&(S("delete"),S("has"),m&&S("get")),(C||M)&&S(x),v&&_.clear&&delete _.clear}else b=g.getConstructor(e,t,m,x),a(b.prototype,n),s.NEED=!0;return d(b,t),w[t]=b,i(i.G+i.W+i.F*(b!=y),w),v||g.setStrong(b,t,m),b}},function(t,e,n){var r=n(33),i=n(54).f;n(74)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(9);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";var r=n(25),i=n(64),o=n(23);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>s;)e[s++]=t;return e}},function(t,e,n){var r=n(9);r(r.S,"Math",{sign:n(147)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r=n(9);r(r.P,"String",{repeat:n(149)})},function(t,e,n){"use strict";var r=n(38),i=n(31);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(15),i=n(151),o=n(46);n(49)("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=o(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(14),i=n(108).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(27)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(14).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(15),i=n(17),o=n(109);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){n(84)("asyncIterator")},function(t,e,n){var r=n(158);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(93)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(92)(!1)).push([t.i,"/**\n * Swiper 8.4.4\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2022 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: October 12, 2022\n */\n\n@font-face{font-family:swiper-icons;src:url('data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA');font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-start:var(--swiper-centered-offset-before);margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-before:var(--swiper-centered-offset-before);margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}.swiper-virtual .swiper-slide{-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:'prev'}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:'next'}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:10px;position:relative;-ms-touch-action:none;background:rgba(0,0,0,.1)}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:1%;bottom:3px;z-index:50;height:5px;width:98%}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;right:3px;top:1%;z-index:50;width:5px;height:98%}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:rgba(0,0,0,.5);border-radius:10px;left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}.swiper-zoom-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}.swiper-zoom-container>canvas,.swiper-zoom-container>img,.swiper-zoom-container>svg{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}.swiper-slide-zoomed{cursor:move}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader,.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear}.swiper-lazy-preloader-white{--swiper-preloader-color:#fff}.swiper-lazy-preloader-black{--swiper-preloader-color:#000}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-fade .swiper-slide-active,.swiper-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-cube.swiper-rtl .swiper-slide{transform-origin:100% 0}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-next,.swiper-cube .swiper-slide-next+.swiper-slide,.swiper-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-cube .swiper-slide-shadow-bottom,.swiper-cube .swiper-slide-shadow-left,.swiper-cube .swiper-slide-shadow-right,.swiper-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-flip{overflow:visible}.swiper-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-flip .swiper-slide-active,.swiper-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-flip .swiper-slide-shadow-bottom,.swiper-flip .swiper-slide-shadow-left,.swiper-flip .swiper-slide-shadow-right,.swiper-flip .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-creative .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards .swiper-slide{transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",""])},function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return r})),n.d(e,"bisect",(function(){return l})),n.d(e,"bisectRight",(function(){return s})),n.d(e,"bisectLeft",(function(){return c})),n.d(e,"ascending",(function(){return i})),n.d(e,"bisector",(function(){return o})),n.d(e,"cross",(function(){return f})),n.d(e,"descending",(function(){return d})),n.d(e,"deviation",(function(){return m})),n.d(e,"extent",(function(){return v})),n.d(e,"histogram",(function(){return k})),n.d(e,"thresholdFreedmanDiaconis",(function(){return O})),n.d(e,"thresholdScott",(function(){return I})),n.d(e,"thresholdSturges",(function(){return P})),n.d(e,"max",(function(){return D})),n.d(e,"mean",(function(){return N})),n.d(e,"median",(function(){return F})),n.d(e,"merge",(function(){return G})),n.d(e,"min",(function(){return B})),n.d(e,"pairs",(function(){return u})),n.d(e,"permute",(function(){return V})),n.d(e,"quantile",(function(){return R})),n.d(e,"range",(function(){return S})),n.d(e,"scan",(function(){return z})),n.d(e,"shuffle",(function(){return U})),n.d(e,"sum",(function(){return j})),n.d(e,"ticks",(function(){return E})),n.d(e,"tickIncrement",(function(){return C})),n.d(e,"tickStep",(function(){return L})),n.d(e,"transpose",(function(){return H})),n.d(e,"variance",(function(){return g})),n.d(e,"zip",(function(){return X})),n.d(e,"axisTop",(function(){return et})),n.d(e,"axisRight",(function(){return nt})),n.d(e,"axisBottom",(function(){return rt})),n.d(e,"axisLeft",(function(){return it})),n.d(e,"brush",(function(){return Ai})),n.d(e,"brushX",(function(){return Ti})),n.d(e,"brushY",(function(){return Mi})),n.d(e,"brushSelection",(function(){return Si})),n.d(e,"chord",(function(){return Di})),n.d(e,"ribbon",(function(){return Qi})),n.d(e,"nest",(function(){return Ji})),n.d(e,"set",(function(){return so})),n.d(e,"map",(function(){return Ki})),n.d(e,"keys",(function(){return co})),n.d(e,"values",(function(){return lo})),n.d(e,"entries",(function(){return uo})),n.d(e,"color",(function(){return He})),n.d(e,"rgb",(function(){return qe})),n.d(e,"hsl",(function(){return en})),n.d(e,"lab",(function(){return mo})),n.d(e,"hcl",(function(){return To})),n.d(e,"lch",(function(){return So})),n.d(e,"gray",(function(){return go})),n.d(e,"cubehelix",(function(){return Ro})),n.d(e,"contours",(function(){return Uo})),n.d(e,"contourDensity",(function(){return qo})),n.d(e,"dispatch",(function(){return ht})),n.d(e,"drag",(function(){return ea})),n.d(e,"dragDisable",(function(){return Ae})),n.d(e,"dragEnable",(function(){return Ee})),n.d(e,"dsvFormat",(function(){return ca})),n.d(e,"csvParse",(function(){return ua})),n.d(e,"csvParseRows",(function(){return ha})),n.d(e,"csvFormat",(function(){return fa})),n.d(e,"csvFormatBody",(function(){return da})),n.d(e,"csvFormatRows",(function(){return pa})),n.d(e,"csvFormatRow",(function(){return ga})),n.d(e,"csvFormatValue",(function(){return ma})),n.d(e,"tsvParse",(function(){return ya})),n.d(e,"tsvParseRows",(function(){return ba})),n.d(e,"tsvFormat",(function(){return xa})),n.d(e,"tsvFormatBody",(function(){return _a})),n.d(e,"tsvFormatRows",(function(){return wa})),n.d(e,"tsvFormatRow",(function(){return Sa})),n.d(e,"tsvFormatValue",(function(){return Ta})),n.d(e,"autoType",(function(){return Ma})),n.d(e,"easeLinear",(function(){return Ea})),n.d(e,"easeQuad",(function(){return Pa})),n.d(e,"easeQuadIn",(function(){return Ca})),n.d(e,"easeQuadOut",(function(){return La})),n.d(e,"easeQuadInOut",(function(){return Pa})),n.d(e,"easeCubic",(function(){return Yr})),n.d(e,"easeCubicIn",(function(){return Wr})),n.d(e,"easeCubicOut",(function(){return Xr})),n.d(e,"easeCubicInOut",(function(){return Yr})),n.d(e,"easePoly",(function(){return Oa})),n.d(e,"easePolyIn",(function(){return ka})),n.d(e,"easePolyOut",(function(){return Ra})),n.d(e,"easePolyInOut",(function(){return Oa})),n.d(e,"easeSin",(function(){return Ga})),n.d(e,"easeSinIn",(function(){return Na})),n.d(e,"easeSinOut",(function(){return Fa})),n.d(e,"easeSinInOut",(function(){return Ga})),n.d(e,"easeExp",(function(){return Ua})),n.d(e,"easeExpIn",(function(){return Va})),n.d(e,"easeExpOut",(function(){return za})),n.d(e,"easeExpInOut",(function(){return Ua})),n.d(e,"easeCircle",(function(){return Wa})),n.d(e,"easeCircleIn",(function(){return ja})),n.d(e,"easeCircleOut",(function(){return Ha})),n.d(e,"easeCircleInOut",(function(){return Wa})),n.d(e,"easeBounce",(function(){return Ya})),n.d(e,"easeBounceIn",(function(){return Xa})),n.d(e,"easeBounceOut",(function(){return Ya})),n.d(e,"easeBounceInOut",(function(){return qa})),n.d(e,"easeBack",(function(){return $a})),n.d(e,"easeBackIn",(function(){return Qa})),n.d(e,"easeBackOut",(function(){return Za})),n.d(e,"easeBackInOut",(function(){return $a})),n.d(e,"easeElastic",(function(){return ts})),n.d(e,"easeElasticIn",(function(){return Ja})),n.d(e,"easeElasticOut",(function(){return ts})),n.d(e,"easeElasticInOut",(function(){return es})),n.d(e,"blob",(function(){return rs})),n.d(e,"buffer",(function(){return os})),n.d(e,"dsv",(function(){return ls})),n.d(e,"csv",(function(){return us})),n.d(e,"tsv",(function(){return hs})),n.d(e,"image",(function(){return fs})),n.d(e,"json",(function(){return ps})),n.d(e,"text",(function(){return ss})),n.d(e,"xml",(function(){return ms})),n.d(e,"html",(function(){return vs})),n.d(e,"svg",(function(){return ys})),n.d(e,"forceCenter",(function(){return bs})),n.d(e,"forceCollide",(function(){return Rs})),n.d(e,"forceLink",(function(){return Ds})),n.d(e,"forceManyBody",(function(){return Vs})),n.d(e,"forceRadial",(function(){return zs})),n.d(e,"forceSimulation",(function(){return Bs})),n.d(e,"forceX",(function(){return Us})),n.d(e,"forceY",(function(){return js})),n.d(e,"formatDefaultLocale",(function(){return oc})),n.d(e,"format",(function(){return $s})),n.d(e,"formatPrefix",(function(){return Ks})),n.d(e,"formatLocale",(function(){return ic})),n.d(e,"formatSpecifier",(function(){return Ys})),n.d(e,"FormatSpecifier",(function(){return qs})),n.d(e,"precisionFixed",(function(){return ac})),n.d(e,"precisionPrefix",(function(){return sc})),n.d(e,"precisionRound",(function(){return cc})),n.d(e,"geoArea",(function(){return Jc})),n.d(e,"geoBounds",(function(){return Wl})),n.d(e,"geoCentroid",(function(){return ru})),n.d(e,"geoCircle",(function(){return pu})),n.d(e,"geoClipAntimeridian",(function(){return Au})),n.d(e,"geoClipCircle",(function(){return Eu})),n.d(e,"geoClipExtent",(function(){return Ru})),n.d(e,"geoClipRectangle",(function(){return Cu})),n.d(e,"geoContains",(function(){return Zu})),n.d(e,"geoDistance",(function(){return zu})),n.d(e,"geoGraticule",(function(){return Ju})),n.d(e,"geoGraticule10",(function(){return th})),n.d(e,"geoInterpolate",(function(){return oh})),n.d(e,"geoLength",(function(){return Gu})),n.d(e,"geoPath",(function(){return rf})),n.d(e,"geoAlbers",(function(){return Sf})),n.d(e,"geoAlbersUsa",(function(){return Tf})),n.d(e,"geoAzimuthalEqualArea",(function(){return Cf})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return Ef})),n.d(e,"geoAzimuthalEquidistant",(function(){return Pf})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Lf})),n.d(e,"geoConicConformal",(function(){return Nf})),n.d(e,"geoConicConformalRaw",(function(){return Df})),n.d(e,"geoConicEqualArea",(function(){return wf})),n.d(e,"geoConicEqualAreaRaw",(function(){return _f})),n.d(e,"geoConicEquidistant",(function(){return Vf})),n.d(e,"geoConicEquidistantRaw",(function(){return Bf})),n.d(e,"geoEqualEarth",(function(){return Yf})),n.d(e,"geoEqualEarthRaw",(function(){return Xf})),n.d(e,"geoEquirectangular",(function(){return Gf})),n.d(e,"geoEquirectangularRaw",(function(){return Ff})),n.d(e,"geoGnomonic",(function(){return Qf})),n.d(e,"geoGnomonicRaw",(function(){return qf})),n.d(e,"geoIdentity",(function(){return Zf})),n.d(e,"geoProjection",(function(){return yf})),n.d(e,"geoProjectionMutator",(function(){return bf})),n.d(e,"geoMercator",(function(){return Rf})),n.d(e,"geoMercatorRaw",(function(){return kf})),n.d(e,"geoNaturalEarth1",(function(){return Kf})),n.d(e,"geoNaturalEarth1Raw",(function(){return $f})),n.d(e,"geoOrthographic",(function(){return td})),n.d(e,"geoOrthographicRaw",(function(){return Jf})),n.d(e,"geoStereographic",(function(){return nd})),n.d(e,"geoStereographicRaw",(function(){return ed})),n.d(e,"geoTransverseMercator",(function(){return id})),n.d(e,"geoTransverseMercatorRaw",(function(){return rd})),n.d(e,"geoRotation",(function(){return hu})),n.d(e,"geoStream",(function(){return Wc})),n.d(e,"geoTransform",(function(){return of})),n.d(e,"cluster",(function(){return cd})),n.d(e,"hierarchy",(function(){return ud})),n.d(e,"pack",(function(){return Dd})),n.d(e,"packSiblings",(function(){return Ld})),n.d(e,"packEnclose",(function(){return md})),n.d(e,"partition",(function(){return zd})),n.d(e,"stratify",(function(){return Xd})),n.d(e,"tree",(function(){return Jd})),n.d(e,"treemap",(function(){return ip})),n.d(e,"treemapBinary",(function(){return op})),n.d(e,"treemapDice",(function(){return Vd})),n.d(e,"treemapSlice",(function(){return tp})),n.d(e,"treemapSliceDice",(function(){return ap})),n.d(e,"treemapSquarify",(function(){return rp})),n.d(e,"treemapResquarify",(function(){return sp})),n.d(e,"interpolate",(function(){return Ln})),n.d(e,"interpolateArray",(function(){return bn})),n.d(e,"interpolateBasis",(function(){return an})),n.d(e,"interpolateBasisClosed",(function(){return sn})),n.d(e,"interpolateDate",(function(){return _n})),n.d(e,"interpolateDiscrete",(function(){return cp})),n.d(e,"interpolateHue",(function(){return lp})),n.d(e,"interpolateNumber",(function(){return wn})),n.d(e,"interpolateNumberArray",(function(){return vn})),n.d(e,"interpolateObject",(function(){return Sn})),n.d(e,"interpolateRound",(function(){return up})),n.d(e,"interpolateString",(function(){return Cn})),n.d(e,"interpolateTransformCss",(function(){return fr})),n.d(e,"interpolateTransformSvg",(function(){return dr})),n.d(e,"interpolateZoom",(function(){return dp})),n.d(e,"interpolateRgb",(function(){return dn})),n.d(e,"interpolateRgbBasis",(function(){return gn})),n.d(e,"interpolateRgbBasisClosed",(function(){return mn})),n.d(e,"interpolateHsl",(function(){return gp})),n.d(e,"interpolateHslLong",(function(){return mp})),n.d(e,"interpolateLab",(function(){return vp})),n.d(e,"interpolateHcl",(function(){return bp})),n.d(e,"interpolateHclLong",(function(){return xp})),n.d(e,"interpolateCubehelix",(function(){return wp})),n.d(e,"interpolateCubehelixLong",(function(){return Sp})),n.d(e,"piecewise",(function(){return Tp})),n.d(e,"quantize",(function(){return Mp})),n.d(e,"path",(function(){return ji})),n.d(e,"polygonArea",(function(){return Ap})),n.d(e,"polygonCentroid",(function(){return Ep})),n.d(e,"polygonHull",(function(){return Pp})),n.d(e,"polygonContains",(function(){return kp})),n.d(e,"polygonLength",(function(){return Rp})),n.d(e,"quadtree",(function(){return As})),n.d(e,"randomUniform",(function(){return Ip})),n.d(e,"randomNormal",(function(){return Dp})),n.d(e,"randomLogNormal",(function(){return Np})),n.d(e,"randomBates",(function(){return Gp})),n.d(e,"randomIrwinHall",(function(){return Fp})),n.d(e,"randomExponential",(function(){return Bp})),n.d(e,"scaleBand",(function(){return Yp})),n.d(e,"scalePoint",(function(){return Qp})),n.d(e,"scaleIdentity",(function(){return lg})),n.d(e,"scaleLinear",(function(){return cg})),n.d(e,"scaleLog",(function(){return yg})),n.d(e,"scaleSymlog",(function(){return wg})),n.d(e,"scaleOrdinal",(function(){return Xp})),n.d(e,"scaleImplicit",(function(){return Wp})),n.d(e,"scalePow",(function(){return Eg})),n.d(e,"scaleSqrt",(function(){return Cg})),n.d(e,"scaleQuantile",(function(){return Lg})),n.d(e,"scaleQuantize",(function(){return Pg})),n.d(e,"scaleThreshold",(function(){return kg})),n.d(e,"scaleTime",(function(){return py})),n.d(e,"scaleUtc",(function(){return Ty})),n.d(e,"scaleSequential",(function(){return Ey})),n.d(e,"scaleSequentialLog",(function(){return Cy})),n.d(e,"scaleSequentialPow",(function(){return Py})),n.d(e,"scaleSequentialSqrt",(function(){return ky})),n.d(e,"scaleSequentialSymlog",(function(){return Ly})),n.d(e,"scaleSequentialQuantile",(function(){return Ry})),n.d(e,"scaleDiverging",(function(){return Iy})),n.d(e,"scaleDivergingLog",(function(){return Dy})),n.d(e,"scaleDivergingPow",(function(){return Fy})),n.d(e,"scaleDivergingSqrt",(function(){return Gy})),n.d(e,"scaleDivergingSymlog",(function(){return Ny})),n.d(e,"tickFormat",(function(){return ag})),n.d(e,"schemeCategory10",(function(){return Vy})),n.d(e,"schemeAccent",(function(){return zy})),n.d(e,"schemeDark2",(function(){return Uy})),n.d(e,"schemePaired",(function(){return jy})),n.d(e,"schemePastel1",(function(){return Hy})),n.d(e,"schemePastel2",(function(){return Wy})),n.d(e,"schemeSet1",(function(){return Xy})),n.d(e,"schemeSet2",(function(){return Yy})),n.d(e,"schemeSet3",(function(){return qy})),n.d(e,"schemeTableau10",(function(){return Qy})),n.d(e,"interpolateBrBG",(function(){return Ky})),n.d(e,"schemeBrBG",(function(){return $y})),n.d(e,"interpolatePRGn",(function(){return tb})),n.d(e,"schemePRGn",(function(){return Jy})),n.d(e,"interpolatePiYG",(function(){return nb})),n.d(e,"schemePiYG",(function(){return eb})),n.d(e,"interpolatePuOr",(function(){return ib})),n.d(e,"schemePuOr",(function(){return rb})),n.d(e,"interpolateRdBu",(function(){return ab})),n.d(e,"schemeRdBu",(function(){return ob})),n.d(e,"interpolateRdGy",(function(){return cb})),n.d(e,"schemeRdGy",(function(){return sb})),n.d(e,"interpolateRdYlBu",(function(){return ub})),n.d(e,"schemeRdYlBu",(function(){return lb})),n.d(e,"interpolateRdYlGn",(function(){return fb})),n.d(e,"schemeRdYlGn",(function(){return hb})),n.d(e,"interpolateSpectral",(function(){return pb})),n.d(e,"schemeSpectral",(function(){return db})),n.d(e,"interpolateBuGn",(function(){return mb})),n.d(e,"schemeBuGn",(function(){return gb})),n.d(e,"interpolateBuPu",(function(){return yb})),n.d(e,"schemeBuPu",(function(){return vb})),n.d(e,"interpolateGnBu",(function(){return xb})),n.d(e,"schemeGnBu",(function(){return bb})),n.d(e,"interpolateOrRd",(function(){return wb})),n.d(e,"schemeOrRd",(function(){return _b})),n.d(e,"interpolatePuBuGn",(function(){return Tb})),n.d(e,"schemePuBuGn",(function(){return Sb})),n.d(e,"interpolatePuBu",(function(){return Ab})),n.d(e,"schemePuBu",(function(){return Mb})),n.d(e,"interpolatePuRd",(function(){return Cb})),n.d(e,"schemePuRd",(function(){return Eb})),n.d(e,"interpolateRdPu",(function(){return Pb})),n.d(e,"schemeRdPu",(function(){return Lb})),n.d(e,"interpolateYlGnBu",(function(){return Rb})),n.d(e,"schemeYlGnBu",(function(){return kb})),n.d(e,"interpolateYlGn",(function(){return Ib})),n.d(e,"schemeYlGn",(function(){return Ob})),n.d(e,"interpolateYlOrBr",(function(){return Nb})),n.d(e,"schemeYlOrBr",(function(){return Db})),n.d(e,"interpolateYlOrRd",(function(){return Gb})),n.d(e,"schemeYlOrRd",(function(){return Fb})),n.d(e,"interpolateBlues",(function(){return Vb})),n.d(e,"schemeBlues",(function(){return Bb})),n.d(e,"interpolateGreens",(function(){return Ub})),n.d(e,"schemeGreens",(function(){return zb})),n.d(e,"interpolateGreys",(function(){return Hb})),n.d(e,"schemeGreys",(function(){return jb})),n.d(e,"interpolatePurples",(function(){return Xb})),n.d(e,"schemePurples",(function(){return Wb})),n.d(e,"interpolateReds",(function(){return qb})),n.d(e,"schemeReds",(function(){return Yb})),n.d(e,"interpolateOranges",(function(){return Zb})),n.d(e,"schemeOranges",(function(){return Qb})),n.d(e,"interpolateCividis",(function(){return $b})),n.d(e,"interpolateCubehelixDefault",(function(){return Kb})),n.d(e,"interpolateRainbow",(function(){return nx})),n.d(e,"interpolateWarm",(function(){return Jb})),n.d(e,"interpolateCool",(function(){return tx})),n.d(e,"interpolateSinebow",(function(){return ax})),n.d(e,"interpolateTurbo",(function(){return sx})),n.d(e,"interpolateViridis",(function(){return lx})),n.d(e,"interpolateMagma",(function(){return ux})),n.d(e,"interpolateInferno",(function(){return hx})),n.d(e,"interpolatePlasma",(function(){return fx})),n.d(e,"create",(function(){return dx})),n.d(e,"creator",(function(){return re})),n.d(e,"local",(function(){return gx})),n.d(e,"matcher",(function(){return mt})),n.d(e,"mouse",(function(){return On})),n.d(e,"namespace",(function(){return Tt})),n.d(e,"namespaces",(function(){return St})),n.d(e,"clientPoint",(function(){return kn})),n.d(e,"select",(function(){return Se})),n.d(e,"selectAll",(function(){return vx})),n.d(e,"selection",(function(){return we})),n.d(e,"selector",(function(){return dt})),n.d(e,"selectorAll",(function(){return gt})),n.d(e,"style",(function(){return Dt})),n.d(e,"touch",(function(){return Rn})),n.d(e,"touches",(function(){return yx})),n.d(e,"window",(function(){return kt})),n.d(e,"event",(function(){return le})),n.d(e,"customEvent",(function(){return ge})),n.d(e,"arc",(function(){return Bx})),n.d(e,"area",(function(){return Wx})),n.d(e,"line",(function(){return Hx})),n.d(e,"pie",(function(){return qx})),n.d(e,"areaRadial",(function(){return t_})),n.d(e,"radialArea",(function(){return t_})),n.d(e,"lineRadial",(function(){return Jx})),n.d(e,"radialLine",(function(){return Jx})),n.d(e,"pointRadial",(function(){return e_})),n.d(e,"linkHorizontal",(function(){return l_})),n.d(e,"linkVertical",(function(){return u_})),n.d(e,"linkRadial",(function(){return h_})),n.d(e,"symbol",(function(){return L_})),n.d(e,"symbols",(function(){return C_})),n.d(e,"symbolCircle",(function(){return f_})),n.d(e,"symbolCross",(function(){return d_})),n.d(e,"symbolDiamond",(function(){return m_})),n.d(e,"symbolSquare",(function(){return __})),n.d(e,"symbolStar",(function(){return x_})),n.d(e,"symbolTriangle",(function(){return S_})),n.d(e,"symbolWye",(function(){return E_})),n.d(e,"curveBasisClosed",(function(){return D_})),n.d(e,"curveBasisOpen",(function(){return F_})),n.d(e,"curveBasis",(function(){return O_})),n.d(e,"curveBundle",(function(){return B_})),n.d(e,"curveCardinalClosed",(function(){return H_})),n.d(e,"curveCardinalOpen",(function(){return X_})),n.d(e,"curveCardinal",(function(){return U_})),n.d(e,"curveCatmullRomClosed",(function(){return $_})),n.d(e,"curveCatmullRomOpen",(function(){return J_})),n.d(e,"curveCatmullRom",(function(){return Q_})),n.d(e,"curveLinearClosed",(function(){return ew})),n.d(e,"curveLinear",(function(){return zx})),n.d(e,"curveMonotoneX",(function(){return lw})),n.d(e,"curveMonotoneY",(function(){return uw})),n.d(e,"curveNatural",(function(){return dw})),n.d(e,"curveStep",(function(){return gw})),n.d(e,"curveStepAfter",(function(){return vw})),n.d(e,"curveStepBefore",(function(){return mw})),n.d(e,"stack",(function(){return _w})),n.d(e,"stackOffsetExpand",(function(){return ww})),n.d(e,"stackOffsetDiverging",(function(){return Sw})),n.d(e,"stackOffsetNone",(function(){return yw})),n.d(e,"stackOffsetSilhouette",(function(){return Tw})),n.d(e,"stackOffsetWiggle",(function(){return Mw})),n.d(e,"stackOrderAppearance",(function(){return Aw})),n.d(e,"stackOrderAscending",(function(){return Cw})),n.d(e,"stackOrderDescending",(function(){return Pw})),n.d(e,"stackOrderInsideOut",(function(){return kw})),n.d(e,"stackOrderNone",(function(){return bw})),n.d(e,"stackOrderReverse",(function(){return Rw})),n.d(e,"timeInterval",(function(){return Ig})),n.d(e,"timeMillisecond",(function(){return gm})),n.d(e,"timeMilliseconds",(function(){return mm})),n.d(e,"utcMillisecond",(function(){return gm})),n.d(e,"utcMilliseconds",(function(){return mm})),n.d(e,"timeSecond",(function(){return fm})),n.d(e,"timeSeconds",(function(){return dm})),n.d(e,"utcSecond",(function(){return fm})),n.d(e,"utcSeconds",(function(){return dm})),n.d(e,"timeMinute",(function(){return lm})),n.d(e,"timeMinutes",(function(){return um})),n.d(e,"timeHour",(function(){return am})),n.d(e,"timeHours",(function(){return sm})),n.d(e,"timeDay",(function(){return rm})),n.d(e,"timeDays",(function(){return im})),n.d(e,"timeWeek",(function(){return Ug})),n.d(e,"timeWeeks",(function(){return Qg})),n.d(e,"timeSunday",(function(){return Ug})),n.d(e,"timeSundays",(function(){return Qg})),n.d(e,"timeMonday",(function(){return jg})),n.d(e,"timeMondays",(function(){return Zg})),n.d(e,"timeTuesday",(function(){return Hg})),n.d(e,"timeTuesdays",(function(){return $g})),n.d(e,"timeWednesday",(function(){return Wg})),n.d(e,"timeWednesdays",(function(){return Kg})),n.d(e,"timeThursday",(function(){return Xg})),n.d(e,"timeThursdays",(function(){return Jg})),n.d(e,"timeFriday",(function(){return Yg})),n.d(e,"timeFridays",(function(){return tm})),n.d(e,"timeSaturday",(function(){return qg})),n.d(e,"timeSaturdays",(function(){return em})),n.d(e,"timeMonth",(function(){return Bg})),n.d(e,"timeMonths",(function(){return Vg})),n.d(e,"timeYear",(function(){return Ng})),n.d(e,"timeYears",(function(){return Fg})),n.d(e,"utcMinute",(function(){return wy})),n.d(e,"utcMinutes",(function(){return Sy})),n.d(e,"utcHour",(function(){return by})),n.d(e,"utcHours",(function(){return xy})),n.d(e,"utcDay",(function(){return Om})),n.d(e,"utcDays",(function(){return Im})),n.d(e,"utcWeek",(function(){return ym})),n.d(e,"utcWeeks",(function(){return Mm})),n.d(e,"utcSunday",(function(){return ym})),n.d(e,"utcSundays",(function(){return Mm})),n.d(e,"utcMonday",(function(){return bm})),n.d(e,"utcMondays",(function(){return Am})),n.d(e,"utcTuesday",(function(){return xm})),n.d(e,"utcTuesdays",(function(){return Em})),n.d(e,"utcWednesday",(function(){return _m})),n.d(e,"utcWednesdays",(function(){return Cm})),n.d(e,"utcThursday",(function(){return wm})),n.d(e,"utcThursdays",(function(){return Lm})),n.d(e,"utcFriday",(function(){return Sm})),n.d(e,"utcFridays",(function(){return Pm})),n.d(e,"utcSaturday",(function(){return Tm})),n.d(e,"utcSaturdays",(function(){return km})),n.d(e,"utcMonth",(function(){return my})),n.d(e,"utcMonths",(function(){return vy})),n.d(e,"utcYear",(function(){return Nm})),n.d(e,"utcYears",(function(){return Fm})),n.d(e,"timeFormatDefaultLocale",(function(){return uy})),n.d(e,"timeFormat",(function(){return jm})),n.d(e,"timeParse",(function(){return Hm})),n.d(e,"utcFormat",(function(){return Wm})),n.d(e,"utcParse",(function(){return Xm})),n.d(e,"timeFormatLocale",(function(){return zm})),n.d(e,"isoFormat",(function(){return Ow})),n.d(e,"isoParse",(function(){return Iw})),n.d(e,"now",(function(){return Un})),n.d(e,"timer",(function(){return Wn})),n.d(e,"timerFlush",(function(){return Xn})),n.d(e,"timeout",(function(){return Zn})),n.d(e,"interval",(function(){return Dw})),n.d(e,"transition",(function(){return Ur})),n.d(e,"active",(function(){return $r})),n.d(e,"interrupt",(function(){return sr})),n.d(e,"voronoi",(function(){return xS})),n.d(e,"zoom",(function(){return IS})),n.d(e,"zoomTransform",(function(){return MS})),n.d(e,"zoomIdentity",(function(){return TS}));var r="5.16.0",i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},o=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var a=o(i),s=a.right,c=a.left,l=s,u=function(t,e){null==e&&(e=h);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function h(t,e){return[t,e]}var f=function(t,e,n){var r,i,o,a,s=t.length,c=e.length,l=new Array(s*c);for(null==n&&(n=h),r=o=0;r<s;++r)for(a=t[r],i=0;i<c;++i,++o)l[o]=n(a,e[i]);return l},d=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},g=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,c=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(c+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(c+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return c/(o-1)},m=function(t,e){var n=g(t,e);return n?Math.sqrt(n):n},v=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},y=Array.prototype,b=y.slice,x=y.map,_=function(t){return function(){return t}},w=function(t){return t},S=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},T=Math.sqrt(50),M=Math.sqrt(10),A=Math.sqrt(2),E=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=C(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function C(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=T?10:o>=M?5:o>=A?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=T?10:o>=M?5:o>=A?2:1)}function L(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=T?i*=10:o>=M?i*=5:o>=A&&(i*=2),e<t?-i:i}var P=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},k=function(){var t=w,e=v,n=P;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),u=c[0],h=c[1],f=n(s,u,h);Array.isArray(f)||(f=L(u,h,f),f=S(Math.ceil(u/f)*f,h,f));for(var d=f.length;f[0]<=u;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?f[i-1]:u,p.x1=i<d?f[i]:h;for(i=0;i<a;++i)u<=(o=s[i])&&o<=h&&g[l(f,o,0,d)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:_(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:_([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_(b.call(t)):_(t),r):n},r},R=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},O=function(t,e,n){return t=x.call(t,p).sort(i),Math.ceil((n-e)/(2*(R(t,.75)-R(t,.25))*Math.pow(t.length,-1/3)))},I=function(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))},D=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},N=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},F=function(t,e){var n,r=t.length,o=-1,a=[];if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return R(a.sort(i),.5)},G=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},B=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},V=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},z=function(t,e){if(n=t.length){var n,r,o=0,a=0,s=t[a];for(null==e&&(e=i);++o<n;)(e(r=t[o],s)<0||0!==e(s,s))&&(s=r,a=o);return 0===e(s,s)?a:void 0}},U=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},j=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},H=function(t){if(!(i=t.length))return[];for(var e=-1,n=B(t,W),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function W(t){return t.length}var X=function(){return H(arguments)},Y=Array.prototype.slice,q=function(t){return t};function Q(t){return"translate("+(t+.5)+",0)"}function Z(t){return"translate(0,"+(t+.5)+")"}function $(t){return function(e){return+t(e)}}function K(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function J(){return!this.__axis}function tt(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",u=1===t||3===t?Q:Z;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):q:i,p=Math.max(o,0)+s,g=e.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(e.bandwidth?K:$)(e.copy()),b=h.selection?h.selection():h,x=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(f,e).order(),w=_.exit(),S=_.enter().append("g").attr("class","tick"),T=_.select("line"),M=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(S),T=T.merge(S.append("line").attr("stroke","currentColor").attr(l+"2",c*o)),M=M.merge(S.append("text").attr("fill","currentColor").attr(l,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(x=x.transition(h),_=_.transition(h),T=T.transition(h),M=M.transition(h),w=w.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=y(t))?u(t):this.getAttribute("transform")})),S.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:y(t))}))),w.remove(),x.attr("d",4===t||2==t?a?"M"+c*a+","+m+"H0.5V"+v+"H"+c*a:"M0.5,"+m+"V"+v:a?"M"+m+","+c*a+"V0.5H"+v+"V"+c*a:"M"+m+",0.5H"+v),_.attr("opacity",1).attr("transform",(function(t){return u(y(t))})),T.attr(l+"2",c*o),M.attr(l,c*p).text(d),b.filter(J).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Y.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Y.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Y.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function et(t){return tt(1,t)}function nt(t){return tt(2,t)}function rt(t){return tt(3,t)}function it(t){return tt(4,t)}var ot={value:function(){}};function at(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new st(r)}function st(t){this._=t}function ct(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function lt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ut(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ot,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}st.prototype=at.prototype={constructor:st,on:function(t,e){var n,r=this._,i=ct(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ut(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ut(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=lt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new st(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ht=at;function ft(){}var dt=function(t){return null==t?ft:function(){return this.querySelector(t)}};function pt(){return[]}var gt=function(t){return null==t?pt:function(){return this.querySelectorAll(t)}},mt=function(t){return function(){return this.matches(t)}},vt=function(t){return new Array(t.length)};function yt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}yt.prototype={constructor:yt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bt(t,e,n,r,i,o){for(var a,s=0,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new yt(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function xt(t,e,n,r,i,o,a){var s,c,l,u={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(c=e[s])&&(d[s]=l="$"+a.call(c,c.__data__,s,e),l in u?i[s]=c:u[l]=c);for(s=0;s<f;++s)(c=u[l="$"+a.call(t,o[s],s,o)])?(r[s]=c,c.__data__=o[s],u[l]=null):n[s]=new yt(t,o[s]);for(s=0;s<h;++s)(c=e[s])&&u[d[s]]===c&&(i[s]=c)}function _t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var wt="http://www.w3.org/1999/xhtml",St={svg:"http://www.w3.org/2000/svg",xhtml:wt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),St.hasOwnProperty(e)?{space:St[e],local:t}:t};function Mt(t){return function(){this.removeAttribute(t)}}function At(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Et(t,e){return function(){this.setAttribute(t,e)}}function Ct(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Pt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var kt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Rt(t){return function(){this.style.removeProperty(t)}}function Ot(t,e,n){return function(){this.style.setProperty(t,e,n)}}function It(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Dt(t,e){return t.style.getPropertyValue(e)||kt(t).getComputedStyle(t,null).getPropertyValue(e)}function Nt(t){return function(){delete this[t]}}function Ft(t,e){return function(){this[t]=e}}function Gt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Bt(t){return t.trim().split(/^|\s+/)}function Vt(t){return t.classList||new zt(t)}function zt(t){this._node=t,this._names=Bt(t.getAttribute("class")||"")}function Ut(t,e){for(var n=Vt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function jt(t,e){for(var n=Vt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ht(t){return function(){Ut(this,t)}}function Wt(t){return function(){jt(this,t)}}function Xt(t,e){return function(){(e.apply(this,arguments)?Ut:jt)(this,t)}}zt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Yt(){this.textContent=""}function qt(t){return function(){this.textContent=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Zt(){this.innerHTML=""}function $t(t){return function(){this.innerHTML=t}}function Kt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Jt(){this.nextSibling&&this.parentNode.appendChild(this)}function te(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ee(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wt&&e.documentElement.namespaceURI===wt?e.createElement(t):e.createElementNS(n,t)}}function ne(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var re=function(t){var e=Tt(t);return(e.local?ne:ee)(e)};function ie(){return null}function oe(){var t=this.parentNode;t&&t.removeChild(this)}function ae(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function se(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ce={},le=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ce={mouseenter:"mouseover",mouseleave:"mouseout"}));function ue(t,e,n){return t=he(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function he(t,e,n){return function(r){var i=le;le=r;try{t.call(this,this.__data__,e,n)}finally{le=i}}}function fe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function de(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function pe(t,e,n){var r=ce.hasOwnProperty(t.type)?ue:he;return function(i,o,a){var s,c=this.__on,l=r(e,o,a);if(c)for(var u=0,h=c.length;u<h;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function ge(t,e,n,r){var i=le;t.sourceEvent=le,le=t;try{return e.apply(n,r)}finally{le=i}}function me(t,e,n){var r=kt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ve(t,e){return function(){return me(this,t,e)}}function ye(t,e){return function(){return me(this,t,e.apply(this,arguments))}}var be=[null];function xe(t,e){this._groups=t,this._parents=e}function _e(){return new xe([[document.documentElement]],be)}xe.prototype=_e.prototype={constructor:xe,select:function(t){"function"!=typeof t&&(t=dt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),l[u]=a);return new xe(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=gt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new xe(r,i)},filter:function(t){"function"!=typeof t&&(t=mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new xe(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,r=e?xt:bt,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var h=i[u],f=o[u],d=f.length,p=t.call(h,h&&h.__data__,u,i),g=p.length,m=c[u]=new Array(g),v=s[u]=new Array(g);r(h,f,m,v,l[u]=new Array(d),p,e);for(var y,b,x=0,_=0;x<g;++x)if(y=m[x]){for(x>=_&&(_=x+1);!(b=v[_])&&++_<g;);y._next=b||null}}return(s=new xe(s,i))._enter=c,s._exit=l,s},enter:function(){return new xe(this._enter||this._groups.map(vt),this._parents)},exit:function(){return new xe(this._exit||this._groups.map(vt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(c=l[d]||u[d])&&(f[d]=c);for(;s<r;++s)a[s]=e[s];return new xe(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=_t);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],c=s.length,l=i[o]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new xe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Tt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?At:Mt:"function"==typeof e?n.local?Pt:Lt:n.local?Ct:Et)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Rt:"function"==typeof e?It:Ot)(t,e,null==n?"":n)):Dt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Nt:"function"==typeof e?Gt:Ft)(t,e)):this.node()[t]},classed:function(t,e){var n=Bt(t+"");if(arguments.length<2){for(var r=Vt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Xt:e?Ht:Wt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Yt:("function"==typeof t?Qt:qt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Zt:("function"==typeof t?Kt:$t)(t)):this.node().innerHTML},raise:function(){return this.each(Jt)},lower:function(){return this.each(te)},append:function(t){var e="function"==typeof t?t:re(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:re(t),r=null==e?ie:"function"==typeof e?e:dt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(oe)},clone:function(t){return this.select(t?se:ae)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=fe(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?pe:de,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?ye:ve)(t,e))}};var we=_e,Se=function(t){return"string"==typeof t?new xe([[document.querySelector(t)]],[document.documentElement]):new xe([[t]],be)};function Te(){le.stopImmediatePropagation()}var Me=function(){le.preventDefault(),le.stopImmediatePropagation()},Ae=function(t){var e=t.document.documentElement,n=Se(t).on("dragstart.drag",Me,!0);"onselectstart"in e?n.on("selectstart.drag",Me,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Ee(t,e){var n=t.document.documentElement,r=Se(t).on("dragstart.drag",null);e&&(r.on("click.drag",Me,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ce=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Le(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pe(){}var ke="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ie=/^#([0-9a-f]{3,8})$/,De=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Ne=new RegExp("^rgb\\("+[Oe,Oe,Oe]+"\\)$"),Fe=new RegExp("^rgba\\("+[ke,ke,ke,Re]+"\\)$"),Ge=new RegExp("^rgba\\("+[Oe,Oe,Oe,Re]+"\\)$"),Be=new RegExp("^hsl\\("+[Re,Oe,Oe]+"\\)$"),Ve=new RegExp("^hsla\\("+[Re,Oe,Oe,Re]+"\\)$"),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ue(){return this.rgb().formatHex()}function je(){return this.rgb().formatRgb()}function He(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?We(e):3===n?new Qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=De.exec(t))?new Qe(e[1],e[2],e[3],1):(e=Ne.exec(t))?new Qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Fe.exec(t))?Xe(e[1],e[2],e[3],e[4]):(e=Ge.exec(t))?Xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Be.exec(t))?Je(e[1],e[2]/100,e[3]/100,1):(e=Ve.exec(t))?Je(e[1],e[2]/100,e[3]/100,e[4]):ze.hasOwnProperty(t)?We(ze[t]):"transparent"===t?new Qe(NaN,NaN,NaN,0):null}function We(t){return new Qe(t>>16&255,t>>8&255,255&t,1)}function Xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qe(t,e,n,r)}function Ye(t){return t instanceof Pe||(t=He(t)),t?new Qe((t=t.rgb()).r,t.g,t.b,t.opacity):new Qe}function qe(t,e,n,r){return 1===arguments.length?Ye(t):new Qe(t,e,n,null==r?1:r)}function Qe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ze(){return"#"+Ke(this.r)+Ke(this.g)+Ke(this.b)}function $e(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ke(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nn(t,e,n,r)}function tn(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=He(t)),!t)return new nn;if(t instanceof nn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new nn(a,s,c,t.opacity)}function en(t,e,n,r){return 1===arguments.length?tn(t):new nn(t,e,n,null==r?1:r)}function nn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function rn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function on(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Ce(Pe,He,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ue,formatHex:Ue,formatHsl:function(){return tn(this).formatHsl()},formatRgb:je,toString:je}),Ce(Qe,qe,Le(Pe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ze,formatHex:Ze,formatRgb:$e,toString:$e})),Ce(nn,en,Le(Pe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qe(rn(t>=240?t-240:t+120,i,r),rn(t,i,r),rn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var an=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return on((n-r/e)*e,a,i,o,s)}},sn=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return on((n-r/e)*e,i,o,a,s)}},cn=function(t){return function(){return t}};function ln(t,e){return function(n){return t+n*e}}function un(t,e){var n=e-t;return n?ln(t,n>180||n<-180?n-360*Math.round(n/360):n):cn(isNaN(t)?e:t)}function hn(t){return 1==(t=+t)?fn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):cn(isNaN(e)?n:e)}}function fn(t,e){var n=e-t;return n?ln(t,n):cn(isNaN(t)?e:t)}var dn=function t(e){var n=hn(e);function r(t,e){var r=n((t=qe(t)).r,(e=qe(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=fn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function pn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=qe(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var gn=pn(an),mn=pn(sn),vn=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function yn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var bn=function(t,e){return(yn(e)?vn:xn)(t,e)};function xn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ln(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}var _n=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},wn=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Sn=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Ln(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mn=new RegExp(Tn.source,"g");var An,En,Cn=function(t,e){var n,r,i,o=Tn.lastIndex=Mn.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=Tn.exec(t))&&(r=Mn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:wn(n,r)})),o=Mn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})},Ln=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?cn(e):("number"===r?wn:"string"===r?(n=He(e))?(e=n,dn):Cn:e instanceof He?dn:e instanceof Date?_n:yn(e)?vn:Array.isArray(e)?xn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Sn:wn)(t,e)},Pn=function(){for(var t,e=le;t=e.sourceEvent;)e=t;return e},kn=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Rn=function(t,e,n){arguments.length<3&&(n=e,e=Pn().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return kn(t,r);return null},On=function(t){var e=Pn();return e.changedTouches&&(e=e.changedTouches[0]),kn(t,e)},In=0,Dn=0,Nn=0,Fn=0,Gn=0,Bn=0,Vn="object"==typeof performance&&performance.now?performance:Date,zn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Un(){return Gn||(zn(jn),Gn=Vn.now()+Bn)}function jn(){Gn=0}function Hn(){this._call=this._time=this._next=null}function Wn(t,e,n){var r=new Hn;return r.restart(t,e,n),r}function Xn(){Un(),++In;for(var t,e=An;e;)(t=Gn-e._time)>=0&&e._call.call(null,t),e=e._next;--In}function Yn(){Gn=(Fn=Vn.now())+Bn,In=Dn=0;try{Xn()}finally{In=0,function(){var t,e,n=An,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:An=e);En=t,Qn(r)}(),Gn=0}}function qn(){var t=Vn.now(),e=t-Fn;e>1e3&&(Bn-=e,Fn=t)}function Qn(t){In||(Dn&&(Dn=clearTimeout(Dn)),t-Gn>24?(t<1/0&&(Dn=setTimeout(Yn,t-Vn.now()-Bn)),Nn&&(Nn=clearInterval(Nn))):(Nn||(Fn=Vn.now(),Nn=setInterval(qn,1e3)),In=1,zn(Yn)))}Hn.prototype=Wn.prototype={constructor:Hn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Un():+n)+(null==e?0:+e),this._next||En===this||(En?En._next=this:An=this,En=this),this._call=t,this._time=n,Qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qn())}};var Zn=function(t,e,n){var r=new Hn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r},$n=ht("start","end","cancel","interrupt"),Kn=[],Jn=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var l,u,h,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return Zn(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Zn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Wn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:$n,tween:Kn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function tr(t,e){var n=nr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function er(t,e){var n=nr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function nr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var rr,ir,or,ar,sr=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},cr=180/Math.PI,lr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ur=function(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*cr,skewX:Math.atan(c)*cr,scaleX:a,scaleY:s}};function hr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],c=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:wn(t,i)},{i:c-2,x:wn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:wn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:wn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,c),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:wn(t,n)},{i:s-2,x:wn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,c),o=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var fr=hr((function(t){return"none"===t?lr:(rr||(rr=document.createElement("DIV"),ir=document.documentElement,or=document.defaultView),rr.style.transform=t,t=or.getComputedStyle(ir.appendChild(rr),null).getPropertyValue("transform"),ir.removeChild(rr),t=t.slice(7,-1).split(","),ur(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),dr=hr((function(t){return null==t?lr:(ar||(ar=document.createElementNS("http://www.w3.org/2000/svg","g")),ar.setAttribute("transform",t),(t=ar.transform.baseVal.consolidate())?(t=t.matrix,ur(t.a,t.b,t.c,t.d,t.e,t.f)):lr)}),", ",")",")");function pr(t,e){var n,r;return function(){var i=er(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function gr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=er(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function mr(t,e,n){var r=t._id;return t.each((function(){var t=er(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return nr(t,r).value[e]}}var vr=function(t,e){var n;return("number"==typeof e?wn:e instanceof He?dn:(n=He(e))?(e=n,dn):Cn)(t,e)};function yr(t){return function(){this.removeAttribute(t)}}function br(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function _r(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function wr(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttribute(t)}}function Sr(t,e,n){var r,i,o;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function Tr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Mr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ar(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Mr(t,i)),n}return i._value=e,i}function Er(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Tr(t,i)),n}return i._value=e,i}function Cr(t,e){return function(){tr(this,t).delay=+e.apply(this,arguments)}}function Lr(t,e){return e=+e,function(){tr(this,t).delay=e}}function Pr(t,e){return function(){er(this,t).duration=+e.apply(this,arguments)}}function kr(t,e){return e=+e,function(){er(this,t).duration=e}}function Rr(t,e){if("function"!=typeof e)throw new Error;return function(){er(this,t).ease=e}}function Or(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?tr:er;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Ir=we.prototype.constructor;function Dr(t){return function(){this.style.removeProperty(t)}}function Nr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Fr(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Nr(t,o,n)),r}return o._value=e,o}function Gr(t){return function(e){this.textContent=t.call(this,e)}}function Br(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Gr(r)),e}return r._value=t,r}var Vr=0;function zr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ur(t){return we().transition(t)}function jr(){return++Vr}var Hr=we.prototype;function Wr(t){return t*t*t}function Xr(t){return--t*t*t+1}function Yr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}zr.prototype=Ur.prototype={constructor:zr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=dt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],u=l.length,h=o[a]=new Array(u),f=0;f<u;++f)(s=l[f])&&(c=t.call(s,s.__data__,f,l))&&("__data__"in s&&(c.__data__=s.__data__),h[f]=c,Jn(h[f],e,n,f,h,nr(s,n)));return new zr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=gt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c,l=r[s],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var f,d=t.call(c,c.__data__,h,l),p=nr(c,n),g=0,m=d.length;g<m;++g)(f=d[g])&&Jn(f,e,n,g,d,p);o.push(d),a.push(c)}return new zr(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=mt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,c=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new zr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c,l=e[s],u=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(c=l[d]||u[d])&&(f[d]=c);for(;s<r;++s)a[s]=e[s];return new zr(a,this._parents,this._name,this._id)},selection:function(){return new Ir(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=jr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=nr(a,e);Jn(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new zr(r,this._parents,t,n)},call:Hr.call,nodes:Hr.nodes,node:Hr.node,size:Hr.size,empty:Hr.empty,each:Hr.each,on:function(t,e){var n=this._id;return arguments.length<2?nr(this.node(),n).on.on(t):this.each(Or(n,t,e))},attr:function(t,e){var n=Tt(t),r="transform"===n?dr:vr;return this.attrTween(t,"function"==typeof e?(n.local?Sr:wr)(n,r,mr(this,"attr."+t,e)):null==e?(n.local?br:yr)(n):(n.local?_r:xr)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Tt(t);return this.tween(n,(r.local?Ar:Er)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?fr:vr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Dt(this,t),a=(this.style.removeProperty(t),Dt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Dr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Dt(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=Dt(this,t)),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}(t,r,mr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var c=er(this,t),l=c.on,u=null==c.value[a]?o||(o=Dr(e)):void 0;l===n&&i===u||(r=(n=l).copy()).on(s,i=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Dt(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Fr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(mr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Br(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=nr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?pr:gr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Cr:Lr)(e,t)):nr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Pr:kr)(e,t)):nr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Rr(e,t)):nr(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},c={value:function(){0==--i&&o()}};n.each((function(){var n=er(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e}))}))}};var qr={time:null,delay:0,duration:250,ease:Yr};function Qr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return qr.time=Un(),qr;return n}we.prototype.interrupt=function(t){return this.each((function(){sr(this,t)}))},we.prototype.transition=function(t){var e,n;t instanceof zr?(e=t._id,t=t._name):(e=jr(),(n=qr).time=Un(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],c=s.length,l=0;l<c;++l)(a=s[l])&&Jn(a,t,e,l,s,n||Qr(a,e));return new zr(r,this._parents,t,e)};var Zr=[null],$r=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new zr([[t]],Zr,e,+r);return null},Kr=function(t){return function(){return t}},Jr=function(t,e,n){this.target=t,this.type=e,this.selection=n};function ti(){le.stopImmediatePropagation()}var ei=function(){le.preventDefault(),le.stopImmediatePropagation()},ni={name:"drag"},ri={name:"space"},ii={name:"handle"},oi={name:"center"};function ai(t){return[+t[0],+t[1]]}function si(t){return[ai(t[0]),ai(t[1])]}function ci(t){return function(e){return Rn(e,le.touches,t)}}var li={name:"x",handles:["w","e"].map(vi),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ui={name:"y",handles:["n","s"].map(vi),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},hi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(vi),input:function(t){return null==t?null:si(t)},output:function(t){return t}},fi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},di={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},gi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function vi(t){return{type:t}}function yi(){return!le.ctrlKey&&!le.button}function bi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function xi(){return navigator.maxTouchPoints||"ontouchstart"in this}function _i(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function wi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Si(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ti(){return Ei(li)}function Mi(){return Ei(ui)}var Ai=function(){return Ei(hi)};function Ei(t){var e,n=bi,r=yi,i=xi,o=!0,a=ht("start","brush","end"),s=6;function c(e){var n=e.property("__brush",g).selectAll(".overlay").data([vi("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",fi.overlay).merge(n).each((function(){var t=_i(this).extent;Se(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([vi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",fi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return fi[t.type]})),e.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(i).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var t=Se(this),e=_i(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function f(){if((!e||le.touches)&&r.apply(this,arguments)){var n,i,a,s,c,h,f,d,p,g,m,v=this,y=le.target.__data__.type,b="selection"===(o&&le.metaKey?y="overlay":y)?ni:o&&le.altKey?oi:ii,x=t===ui?null:gi[y],_=t===li?null:mi[y],w=_i(v),S=w.extent,T=w.selection,M=S[0][0],A=S[0][1],E=S[1][0],C=S[1][1],L=0,P=0,k=x&&_&&o&&le.shiftKey,R=le.touches?ci(le.changedTouches[0].identifier):On,O=R(v),I=O,D=u(v,arguments,!0).beforestart();"overlay"===y?(T&&(p=!0),w.selection=T=[[n=t===ui?M:O[0],a=t===li?A:O[1]],[c=t===ui?E:n,f=t===li?C:a]]):(n=T[0][0],a=T[0][1],c=T[1][0],f=T[1][1]),i=n,s=a,h=c,d=f;var N=Se(v).attr("pointer-events","none"),F=N.selectAll(".overlay").attr("cursor",fi[y]);if(le.touches)D.moved=B,D.ended=z;else{var G=Se(le.view).on("mousemove.brush",B,!0).on("mouseup.brush",z,!0);o&&G.on("keydown.brush",U,!0).on("keyup.brush",j,!0),Ae(le.view)}ti(),sr(v),l.call(v),D.start()}function B(){var t=R(v);!k||g||m||(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1])?m=!0:g=!0),I=t,p=!0,ei(),V()}function V(){var t;switch(L=I[0]-O[0],P=I[1]-O[1],b){case ri:case ni:x&&(L=Math.max(M-n,Math.min(E-c,L)),i=n+L,h=c+L),_&&(P=Math.max(A-a,Math.min(C-f,P)),s=a+P,d=f+P);break;case ii:x<0?(L=Math.max(M-n,Math.min(E-n,L)),i=n+L,h=c):x>0&&(L=Math.max(M-c,Math.min(E-c,L)),i=n,h=c+L),_<0?(P=Math.max(A-a,Math.min(C-a,P)),s=a+P,d=f):_>0&&(P=Math.max(A-f,Math.min(C-f,P)),s=a,d=f+P);break;case oi:x&&(i=Math.max(M,Math.min(E,n-L*x)),h=Math.max(M,Math.min(E,c+L*x))),_&&(s=Math.max(A,Math.min(C,a-P*_)),d=Math.max(A,Math.min(C,f+P*_)))}h<i&&(x*=-1,t=n,n=c,c=t,t=i,i=h,h=t,y in di&&F.attr("cursor",fi[y=di[y]])),d<s&&(_*=-1,t=a,a=f,f=t,t=s,s=d,d=t,y in pi&&F.attr("cursor",fi[y=pi[y]])),w.selection&&(T=w.selection),g&&(i=T[0][0],h=T[1][0]),m&&(s=T[0][1],d=T[1][1]),T[0][0]===i&&T[0][1]===s&&T[1][0]===h&&T[1][1]===d||(w.selection=[[i,s],[h,d]],l.call(v),D.brush())}function z(){if(ti(),le.touches){if(le.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Ee(le.view,p),G.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);N.attr("pointer-events","all"),F.attr("cursor",fi.overlay),w.selection&&(T=w.selection),wi(T)&&(w.selection=null,l.call(v)),D.end()}function U(){switch(le.keyCode){case 16:k=x&&_;break;case 18:b===ii&&(x&&(c=h-L*x,n=i+L*x),_&&(f=d-P*_,a=s+P*_),b=oi,V());break;case 32:b!==ii&&b!==oi||(x<0?c=h-L:x>0&&(n=i-L),_<0?f=d-P:_>0&&(a=s-P),b=ri,F.attr("cursor",fi.selection),V());break;default:return}ei()}function j(){switch(le.keyCode){case 16:k&&(g=m=k=!1,V());break;case 18:b===oi&&(x<0?c=h:x>0&&(n=i),_<0?f=d:_>0&&(a=s),b=ii,V());break;case 32:b===ri&&(le.altKey?(x&&(c=h-L*x,n=i+L*x),_&&(f=d-P*_,a=s+P*_),b=oi):(x<0?c=h:x>0&&(n=i),_<0?f=d:_>0&&(a=s),b=ii),F.attr("cursor",fi[y]),V());break;default:return}ei()}}function d(){u(this,arguments).moved()}function p(){u(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=si(n.apply(this,arguments)),e.dim=t,e}return c.move=function(e,n){e.selection?e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Ln(o,a);function c(t){r.selection=1===t&&null===a?null:s(t),l.call(e),i.brush()}return null!==o&&null!==a?c:c(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=u(e,r).beforestart();sr(e),i.selection=null===o?null:o,l.call(e),a.start().brush().end()}))},c.clear=function(t){c.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){ge(new Jr(c,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},c.extent=function(t){return arguments.length?(n="function"==typeof t?t:Kr(si(t)),c):n},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:Kr(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:Kr(!!t),c):i},c.handleSize=function(t){return arguments.length?(s=+t,c):s},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=a.on.apply(a,arguments);return t===a?c:t},c}var Ci=Math.cos,Li=Math.sin,Pi=Math.PI,ki=Pi/2,Ri=2*Pi,Oi=Math.max;function Ii(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var Di=function(){var t=0,e=null,n=null,r=null;function i(i){var o,a,s,c,l,u,h=i.length,f=[],d=S(h),p=[],g=[],m=g.groups=new Array(h),v=new Array(h*h);for(o=0,l=-1;++l<h;){for(a=0,u=-1;++u<h;)a+=i[l][u];f.push(a),p.push(S(h)),o+=a}for(e&&d.sort((function(t,n){return e(f[t],f[n])})),n&&p.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),c=(o=Oi(0,Ri-t*h)/o)?t:Ri/h,a=0,l=-1;++l<h;){for(s=a,u=-1;++u<h;){var y=d[l],b=p[y][u],x=i[y][b],_=a,w=a+=x*o;v[b*h+y]={index:y,subindex:b,startAngle:_,endAngle:w,value:x}}m[y]={index:y,startAngle:s,endAngle:a,value:f[y]},a+=c}for(l=-1;++l<h;)for(u=l-1;++u<h;){var T=v[u*h+l],M=v[l*h+u];(T.value||M.value)&&g.push(T.value<M.value?{source:M,target:T}:{source:T,target:M})}return r?g.sort(r):g}return i.padAngle=function(e){return arguments.length?(t=Oi(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Ii(t))._=t,i):r&&r._},i},Ni=Array.prototype.slice,Fi=function(t){return function(){return t}},Gi=Math.PI,Bi=2*Gi,Vi=Bi-1e-6;function zi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ui(){return new zi}zi.prototype=Ui.prototype={constructor:zi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,c=r-e,l=o-t,u=a-e,h=l*l+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(u*s-c*l)>1e-6&&i){var f=n-o,d=r-a,p=s*s+c*c,g=f*f+d*d,m=Math.sqrt(p),v=Math.sqrt(h),y=i*Math.tan((Gi-Math.acos((p+h-g)/(2*m*v)))/2),b=y/v,x=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>l*d)+","+(this._x1=t+x*s)+","+(this._y1=e+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+a,l=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Bi+Bi),h>Vi?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Gi)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var ji=Ui;function Hi(t){return t.source}function Wi(t){return t.target}function Xi(t){return t.radius}function Yi(t){return t.startAngle}function qi(t){return t.endAngle}var Qi=function(){var t=Hi,e=Wi,n=Xi,r=Yi,i=qi,o=null;function a(){var a,s=Ni.call(arguments),c=t.apply(this,s),l=e.apply(this,s),u=+n.apply(this,(s[0]=c,s)),h=r.apply(this,s)-ki,f=i.apply(this,s)-ki,d=u*Ci(h),p=u*Li(h),g=+n.apply(this,(s[0]=l,s)),m=r.apply(this,s)-ki,v=i.apply(this,s)-ki;if(o||(o=a=ji()),o.moveTo(d,p),o.arc(0,0,u,h,f),h===m&&f===v||(o.quadraticCurveTo(0,0,g*Ci(m),g*Li(m)),o.arc(0,0,g,m,v)),o.quadraticCurveTo(0,0,d,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:Fi(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Fi(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Fi(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a};function Zi(){}function $i(t,e){var n=new Zi;if(t instanceof Zi)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Zi.prototype=$i.prototype={constructor:Zi,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Ki=$i,Ji=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,u,h=-1,f=n.length,d=r[i++],p=Ki(),g=a();++h<f;)(u=p.get(c=d(l=n[h])+""))?u.push(l):p.set(c,[l]);return p.each((function(t,e){s(g,e,o(t,i,a,s))})),g}return n={object:function(t){return o(t,0,to,eo)},map:function(t){return o(t,0,no,ro)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each((function(e,n){a.push({key:n,values:t(e,o)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}(o(t,0,no,ro),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function to(){return{}}function eo(t,e,n){t[e]=n}function no(){return Ki()}function ro(t,e,n){t.set(e,n)}function io(){}var oo=Ki.prototype;function ao(t,e){var n=new io;if(t instanceof io)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}io.prototype=ao.prototype={constructor:io,has:oo.has,add:function(t){return this["$"+(t+="")]=t,this},remove:oo.remove,clear:oo.clear,values:oo.keys,size:oo.size,empty:oo.empty,each:oo.each};var so=ao,co=function(t){var e=[];for(var n in t)e.push(n);return e},lo=function(t){var e=[];for(var n in t)e.push(t[n]);return e},uo=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ho=Math.PI/180,fo=180/Math.PI;function po(t){if(t instanceof vo)return new vo(t.l,t.a,t.b,t.opacity);if(t instanceof Mo)return Ao(t);t instanceof Qe||(t=Ye(t));var e,n,r=_o(t.r),i=_o(t.g),o=_o(t.b),a=yo((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=yo((.4360747*r+.3850649*i+.1430804*o)/.96422),n=yo((.0139322*r+.0971045*i+.7141733*o)/.82521)),new vo(116*a-16,500*(e-a),200*(a-n),t.opacity)}function go(t,e){return new vo(t,0,0,null==e?1:e)}function mo(t,e,n,r){return 1===arguments.length?po(t):new vo(t,e,n,null==r?1:r)}function vo(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function yo(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function bo(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function xo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _o(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wo(t){if(t instanceof Mo)return new Mo(t.h,t.c,t.l,t.opacity);if(t instanceof vo||(t=po(t)),0===t.a&&0===t.b)return new Mo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*fo;return new Mo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function So(t,e,n,r){return 1===arguments.length?wo(t):new Mo(n,e,t,null==r?1:r)}function To(t,e,n,r){return 1===arguments.length?wo(t):new Mo(t,e,n,null==r?1:r)}function Mo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ao(t){if(isNaN(t.h))return new vo(t.l,0,0,t.opacity);var e=t.h*ho;return new vo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ce(vo,mo,Le(Pe,{brighter:function(t){return new vo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new vo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Qe(xo(3.1338561*(e=.96422*bo(e))-1.6168667*(t=1*bo(t))-.4906146*(n=.82521*bo(n))),xo(-.9787684*e+1.9161415*t+.033454*n),xo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ce(Mo,To,Le(Pe,{brighter:function(t){return new Mo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Mo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ao(this).rgb()}}));var Eo=-.29227,Co=-1.7884503806,Lo=3.5172982438,Po=-.6557636667999999;function ko(t){if(t instanceof Oo)return new Oo(t.h,t.s,t.l,t.opacity);t instanceof Qe||(t=Ye(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Po*r+Co*e-Lo*n)/(Po+Co-Lo),o=r-i,a=(1.97294*(n-i)-Eo*o)/-.90649,s=Math.sqrt(a*a+o*o)/(1.97294*i*(1-i)),c=s?Math.atan2(a,o)*fo-120:NaN;return new Oo(c<0?c+360:c,s,i,t.opacity)}function Ro(t,e,n,r){return 1===arguments.length?ko(t):new Oo(t,e,n,null==r?1:r)}function Oo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ce(Oo,Ro,Le(Pe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Oo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Oo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ho,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Qe(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Eo*r+-.90649*i)),255*(e+n*(1.97294*r)),this.opacity)}}));var Io=Array.prototype.slice,Do=function(t,e){return t-e},No=function(t){return function(){return t}},Fo=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Go(t,e[r]))return n;return 0};function Go(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var c=t[o],l=c[0],u=c[1],h=t[s],f=h[0],d=h[1];if(Bo(c,h,e))return 0;u>r!=d>r&&n<(f-l)*(r-u)/(d-u)+l&&(i=-i)}return i}function Bo(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}var Vo=function(){},zo=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Uo=function(){var t=1,e=1,n=P,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Do);else{var r=v(t),i=r[0],a=r[1];e=L(i,a,e),e=S(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,c,l,u,h,f=new Array,d=new Array;o=s=-1,l=n[0]>=r,zo[l<<1].forEach(p);for(;++o<t-1;)c=l,l=n[o+1]>=r,zo[c|l<<1].forEach(p);zo[l<<0].forEach(p);for(;++s<e-1;){for(o=-1,l=n[s*t+t]>=r,u=n[s*t]>=r,zo[l<<1|u<<2].forEach(p);++o<t-1;)c=l,l=n[s*t+t+o+1]>=r,h=u,u=n[s*t+o+1]>=r,zo[c|l<<1|u<<2|h<<3].forEach(p);zo[l|u<<3].forEach(p)}o=-1,u=n[s*t]>=r,zo[u<<2].forEach(p);for(;++o<t-1;)h=u,u=n[s*t+o+1]>=r,zo[u<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],c=[t[1][0]+o,t[1][1]+s],l=a(r),u=a(c);(e=d[l])?(n=f[u])?(delete d[e.end],delete f[n.start],e===n?(e.ring.push(c),i(e.ring)):f[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete d[e.end],e.ring.push(c),d[e.end=u]=e):(e=f[u])?(n=d[l])?(delete f[e.start],delete d[n.end],e===n?(e.ring.push(c),i(e.ring)):f[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(r),f[e.start=l]=e):f[l]=d[u]={start:l,end:u,ring:[r,c]}}zo[u<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Fo((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],c=0|a,l=0|s,u=r[l*t+c];a>0&&a<t&&c===a&&(o=r[l*t+c-1],n[0]=a+(i-o)/(u-o)-.5),s>0&&s<e&&l===s&&(o=r[(l-1)*t+c],n[1]=s+(i-o)/(u-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?No(Io.call(t)):No(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Vo,i):r===s},i};function jo(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,c=0;s<r+n;++s)s<r&&(c+=t.data[s+a*r]),s>=n&&(s>=o&&(c-=t.data[s-o+a*r]),e.data[s-n+a*r]=c/Math.min(s+1,r-1+o-s,o))}function Ho(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,c=0;s<i+n;++s)s<i&&(c+=t.data[a+s*r]),s>=n&&(s>=o&&(c-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=c/Math.min(s+1,i-1+o-s,o))}function Wo(t){return t[0]}function Xo(t){return t[1]}function Yo(){return 1}var qo=function(){var t=Wo,e=Xo,n=Yo,r=960,i=500,o=20,a=2,s=3*o,c=r+2*s>>a,l=i+2*s>>a,u=No(20);function h(r){var i=new Float32Array(c*l),h=new Float32Array(c*l);r.forEach((function(r,o,u){var h=+t(r,o,u)+s>>a,f=+e(r,o,u)+s>>a,d=+n(r,o,u);h>=0&&h<c&&f>=0&&f<l&&(i[h+f*c]+=d)})),jo({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),Ho({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a),jo({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),Ho({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a),jo({width:c,height:l,data:i},{width:c,height:l,data:h},o>>a),Ho({width:c,height:l,data:h},{width:c,height:l,data:i},o>>a);var d=u(i);if(!Array.isArray(d)){var p=D(i);d=L(0,p,d),(d=S(0,Math.floor(p/d)*d,d)).shift()}return Uo().thresholds(d).size([c,l])(i).map(f)}function f(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function m(){return c=r+2*(s=3*o)>>a,l=i+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:No(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:No(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:No(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?No(Io.call(t)):No(t),h):u},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h},Qo=function(t){return function(){return t}};function Zo(t,e,n,r,i,o,a,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=c,this._=l}function $o(){return!le.ctrlKey&&!le.button}function Ko(){return this.parentNode}function Jo(t){return null==t?{x:le.x,y:le.y}:t}function ta(){return navigator.maxTouchPoints||"ontouchstart"in this}Zo.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ea=function(){var t,e,n,r,i=$o,o=Ko,a=Jo,s=ta,c={},l=ht("start","drag","end"),u=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),On,this,arguments);a&&(Se(le.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),Ae(le.view),Te(),n=!1,t=le.clientX,e=le.clientY,a("start"))}}function p(){if(Me(),!n){var r=le.clientX-t,i=le.clientY-e;n=r*r+i*i>h}c.mouse("drag")}function g(){Se(le.view).on("mousemove.drag mouseup.drag",null),Ee(le.view,n),Me(),c.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=le.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,r,Rn,this,arguments))&&(Te(),e("start"))}}function v(){var t,e,n=le.changedTouches,r=n.length;for(t=0;t<r;++t)(e=c[n[t].identifier])&&(Me(),e("drag"))}function y(){var t,e,n=le.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=c[n[t].identifier])&&(Te(),e("end"))}function b(t,e,n,r,i){var o,s,h,d=n(e,t),p=l.copy();if(ge(new Zo(f,"beforestart",o,t,u,d[0],d[1],0,0,p),(function(){return null!=(le.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function a(l){var g,m=d;switch(l){case"start":c[t]=a,g=u++;break;case"end":delete c[t],--u;case"drag":d=n(e,t),g=u}ge(new Zo(f,l,o,t,g,d[0]+s,d[1]+h,d[0]-m[0],d[1]-m[1],p),p.apply,p,[l,r,i])}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:Qo(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:Qo(t),f):o},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:Qo(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Qo(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},na={},ra={};function ia(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function oa(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function aa(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function sa(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+aa(-e,6):e>9999?"+"+aa(e,6):aa(e,4))+"-"+aa(t.getUTCMonth()+1,2)+"-"+aa(t.getUTCDate(),2)+(o?"T"+aa(n,2)+":"+aa(r,2)+":"+aa(i,2)+"."+aa(o,3)+"Z":i?"T"+aa(n,2)+":"+aa(r,2)+":"+aa(i,2)+"Z":r||n?"T"+aa(n,2)+":"+aa(r,2)+"Z":"")}var ca=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,c=o<=0,l=!1;function u(){if(c)return ra;if(l)return l=!1,na;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?c=!0:10===(r=t.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))l=!0;else if(13===r)l=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==ra;){for(var h=[];r!==na&&r!==ra;)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?sa(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ia(t);return function(r,i){return e(n(r),i,t)}}(t,e):ia(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=oa(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=oa(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}},la=ca(","),ua=la.parse,ha=la.parseRows,fa=la.format,da=la.formatBody,pa=la.formatRows,ga=la.formatRow,ma=la.formatValue,va=ca("\t"),ya=va.parse,ba=va.parseRows,xa=va.format,_a=va.formatBody,wa=va.formatRows,Sa=va.formatRow,Ta=va.formatValue;function Ma(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Aa&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var Aa=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Ea(t){return+t}function Ca(t){return t*t}function La(t){return t*(2-t)}function Pa(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var ka=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ra=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Oa=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Ia=Math.PI,Da=Ia/2;function Na(t){return 1==+t?1:1-Math.cos(t*Da)}function Fa(t){return Math.sin(t*Da)}function Ga(t){return(1-Math.cos(Ia*t))/2}function Ba(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Va(t){return Ba(1-+t)}function za(t){return 1-Ba(t)}function Ua(t){return((t*=2)<=1?Ba(1-t):2-Ba(t-1))/2}function ja(t){return 1-Math.sqrt(1-t*t)}function Ha(t){return Math.sqrt(1- --t*t)}function Wa(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Xa(t){return 1-Ya(1-t)}function Ya(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function qa(t){return((t*=2)<=1?1-Ya(1-t):Ya(t-1)+1)/2}var Qa=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(1.70158),Za=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(1.70158),$a=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Ka=2*Math.PI,Ja=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ka);function i(t){return e*Ba(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Ka)},i.period=function(n){return t(e,n)},i}(1,.3),ts=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ka);function i(t){return 1-e*Ba(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Ka)},i.period=function(n){return t(e,n)},i}(1,.3),es=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ka);function i(t){return((t=2*t-1)<0?e*Ba(-t)*Math.sin((r-t)/n):2-e*Ba(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Ka)},i.period=function(n){return t(e,n)},i}(1,.3);function ns(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var rs=function(t,e){return fetch(t,e).then(ns)};function is(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var os=function(t,e){return fetch(t,e).then(is)};function as(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ss=function(t,e){return fetch(t,e).then(as)};function cs(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),ss(e,n).then((function(e){return t(e,r)}))}}function ls(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=ca(t);return ss(e,n).then((function(t){return i.parse(t,r)}))}var us=cs(ua),hs=cs(ya),fs=function(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))};function ds(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var ps=function(t,e){return fetch(t,e).then(ds)};function gs(t){return function(e,n){return ss(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}var ms=gs("application/xml"),vs=gs("text/html"),ys=gs("image/svg+xml"),bs=function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},xs=function(t){return function(){return t}},_s=function(){return 1e-6*(Math.random()-.5)};function ws(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,c,l,u,h,f,d=t._root,p={data:r},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+y)/2))?m=a:y=a,i=d,!(d=d[h=u<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),c=+t._y.call(null,d.data),e===s&&n===c)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(a=(m+y)/2))?m=a:y=a}while((h=u<<1|l)==(f=(c>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}var Ss=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function Ts(t){return t[0]}function Ms(t){return t[1]}function As(t,e,n){var r=new Es(null==e?Ts:e,null==n?Ms:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Es(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Cs(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ls=As.prototype=Es.prototype;function Ps(t){return t.x+t.vx}function ks(t){return t.y+t.vy}Ls.copy=function(){var t,e,n=new Es(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Cs(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Cs(e));return n},Ls.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ws(this.cover(e,n),e,n,t)},Ls.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<c&&(c=r),r>u&&(u=r),i<l&&(l=i),i>h&&(h=i));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<o;++n)ws(this,a[n],s[n],t[n]);return this},Ls.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,c=i-n,l=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:i=n+c,o=r+c;break;case 1:n=i-c,o=r+c;break;case 2:i=n+c,r=o-c;break;case 3:n=i-c,r=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Ls.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ls.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ls.find=function(t,e,n){var r,i,o,a,s,c,l,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ss(g,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>f||(o=c.y0)>d||(a=c.x1)<u||(s=c.y1)<h))if(g.length){var m=(i+a)/2,v=(o+s)/2;p.push(new Ss(g[3],m,v,a,s),new Ss(g[2],i,v,m,s),new Ss(g[1],m,o,a,v),new Ss(g[0],i,o,m,v)),(l=(e>=v)<<1|t>=m)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),x=y*y+b*b;if(x<n){var _=Math.sqrt(n=x);u=t-_,h=e-_,f=t+_,d=e+_,r=g.data}}return r},Ls.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,c,l,u,h,f,d=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(c=(g+v)/2))?g=c:v=c,e=d,!(d=d[h=u<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},Ls.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ls.root=function(){return this._root},Ls.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ls.visit=function(t){var e,n,r,i,o,a,s=[],c=this._root;for(c&&s.push(new Ss(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&c.length){var l=(r+o)/2,u=(i+a)/2;(n=c[3])&&s.push(new Ss(n,l,u,o,a)),(n=c[2])&&s.push(new Ss(n,r,u,l,a)),(n=c[1])&&s.push(new Ss(n,l,i,o,u)),(n=c[0])&&s.push(new Ss(n,r,i,l,u))}return this},Ls.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ss(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,c=e.x1,l=e.y1,u=(a+c)/2,h=(s+l)/2;(o=i[0])&&n.push(new Ss(o,a,s,u,h)),(o=i[1])&&n.push(new Ss(o,u,s,c,h)),(o=i[2])&&n.push(new Ss(o,a,h,u,l)),(o=i[3])&&n.push(new Ss(o,u,h,c,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ls.x=function(t){return arguments.length?(this._x=t,this):this._x},Ls.y=function(t){return arguments.length?(this._y=t,this):this._y};var Rs=function(t){var e,n,r=1,i=1;function o(){for(var t,o,s,c,l,u,h,f=e.length,d=0;d<i;++d)for(o=As(e,Ps,ks).visitAfter(a),t=0;t<f;++t)s=e[t],u=n[s.index],h=u*u,c=s.x+s.vx,l=s.y+s.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,f=t.r,d=u+f;if(!a)return e>c+d||i<c-d||n>l+d||o<l-d;if(a.index>s.index){var p=c-a.x-a.vx,g=l-a.y-a.vy,m=p*p+g*g;m<d*d&&(0===p&&(m+=(p=_s())*p),0===g&&(m+=(g=_s())*g),m=(d-(m=Math.sqrt(m)))/m*r,s.vx+=(p*=m)*(d=(f*=f)/(h+f)),s.vy+=(g*=m)*d,a.vx-=p*(d=1-d),a.vy-=g*d)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=xs(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:xs(+e),s(),o):t},o};function Os(t){return t.index}function Is(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var Ds=function(t){var e,n,r,i,o,a=Os,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=xs(30),l=1;function u(r){for(var i=0,a=t.length;i<l;++i)for(var s,c,u,h,f,d,p,g=0;g<a;++g)c=(s=t[g]).source,h=(u=s.target).x+u.vx-c.x-c.vx||_s(),f=u.y+u.vy-c.y-c.vy||_s(),h*=d=((d=Math.sqrt(h*h+f*f))-n[g])/d*r*e[g],f*=d,u.vx-=h*(p=o[g]),u.vy-=f*p,c.vx+=h*(p=1-p),c.vy+=f*p}function h(){if(r){var s,c,l=r.length,u=t.length,h=Ki(r,a);for(s=0,i=new Array(l);s<u;++s)(c=t[s]).index=s,"object"!=typeof c.source&&(c.source=Is(h,c.source)),"object"!=typeof c.target&&(c.target=Is(h,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)c=t[s],o[s]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);e=new Array(u),f(),n=new Array(u),d()}}function f(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){r=t,h()},u.links=function(e){return arguments.length?(t=e,h(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(l=+t,u):l},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:xs(+t),f(),u):s},u.distance=function(t){return arguments.length?(c="function"==typeof t?t:xs(+t),d(),u):c},u};function Ns(t){return t.x}function Fs(t){return t.y}var Gs=Math.PI*(3-Math.sqrt(5)),Bs=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Ki(),c=Wn(u),l=ht("tick","end");function u(){h(),l.call("tick",e),n<r&&(c.stop(),l.call("end",e))}function h(r){var c,l,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.each((function(t){t(n)})),c=0;c<u;++c)null==(l=t[c]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*Gs;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return c.restart(u),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,c,l=0,u=t.length;for(null==r?r=1/0:r*=r,l=0;l<u;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(c=s,r=a);return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}},Vs=function(){var t,e,n,r,i=xs(-30),o=1,a=1/0,s=.81;function c(r){var i,o=t.length,a=As(t,Ns,Fs).visitAfter(u);for(n=r,i=0;i<o;++i)e=t[i],a.visit(h)}function l(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function u(t){var e,n,i,o,a,s=0,c=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,i+=n*e.x,o+=n*e.y);t.x=i/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function h(t,i,c,l){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,f=l-i,d=u*u+h*h;if(f*f/s<d)return d<a&&(0===u&&(d+=(u=_s())*u),0===h&&(d+=(h=_s())*h),d<o&&(d=Math.sqrt(o*d)),e.vx+=u*t.value*n/d,e.vy+=h*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===u&&(d+=(u=_s())*u),0===h&&(d+=(h=_s())*h),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(f=r[t.data.index]*n/d,e.vx+=u*f,e.vy+=h*f)}while(t=t.next)}}return c.initialize=function(e){t=e,l()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:xs(+t),l(),c):i},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c},zs=function(t,e,n){var r,i,o,a=xs(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var c=r[a],l=c.x-e||1e-6,u=c.y-n||1e-6,h=Math.sqrt(l*l+u*u),f=(o[a]-h)*i[a]*t/h;c.vx+=l*f,c.vy+=u*f}}function c(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=xs(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,c()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:xs(+t),c(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:xs(+e),c(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},Us=function(t){var e,n,r,i=xs(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=xs(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:xs(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:xs(+e),a(),o):t},o},js=function(t){var e,n,r,i=xs(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=xs(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:xs(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:xs(+e),a(),o):t},o};function Hs(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var Ws=function(t){return(t=Hs(Math.abs(t)))?t[1]:NaN},Xs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ys(t){if(!(e=Xs.exec(t)))throw new Error("invalid format: "+t);var e;return new qs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qs(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Ys.prototype=qs.prototype,qs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Qs,Zs,$s,Ks,Js=function(t,e){var n=Hs(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},tc={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Js(100*t,e)},r:Js,s:function(t,e){var n=Hs(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Qs=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hs(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ec=function(t){return t},nc=Array.prototype.map,rc=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],ic=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ec:(e=nc.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(t.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?ec:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(nc.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ys(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(g=!0,y="g"):tc[y]||(void 0===m&&(m=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?o:/[%p]/.test(y)?c:"",_=tc[y],w=/[defgprs%]/.test(y);function S(t){var i,o,c,f=b,S=x;if("c"===y)S=_(t)+S,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),f=(T?"("===h?h:l:"-"===h||"("===h?"":h)+f,S=("s"===y?rc[8+Qs/3]:"")+S+(T&&"("===h?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){S=(46===c?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var M=f.length+t.length+S.length,A=M<p?new Array(p-M+1).join(e):"";switch(g&&d&&(t=r(A+t,A.length?p-S.length:1/0),A=""),n){case"<":t=f+t+S+A;break;case"=":t=f+A+t+S;break;case"^":t=A.slice(0,M=A.length>>1)+f+t+S+A.slice(M);break;default:t=A+f+t+S}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ys(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ws(e)/3))),i=Math.pow(10,-r),o=rc[8+r/3];return function(t){return n(i*t)+o}}}};function oc(t){return Zs=ic(t),$s=Zs.format,Ks=Zs.formatPrefix,Zs}oc({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var ac=function(t){return Math.max(0,-Ws(Math.abs(t)))},sc=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ws(e)/3)))-Ws(Math.abs(t)))},cc=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ws(e)-Ws(t))+1},lc=function(){return new uc};function uc(){this.reset()}uc.prototype={constructor:uc,reset:function(){this.s=this.t=0},add:function(t){fc(hc,t,this.t),fc(this,hc.s,this.s),this.s?this.t+=hc.t:this.s=hc.t},valueOf:function(){return this.s}};var hc=new uc;function fc(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var dc=Math.PI,pc=dc/2,gc=dc/4,mc=2*dc,vc=180/dc,yc=dc/180,bc=Math.abs,xc=Math.atan,_c=Math.atan2,wc=Math.cos,Sc=Math.ceil,Tc=Math.exp,Mc=(Math.floor,Math.log),Ac=Math.pow,Ec=Math.sin,Cc=Math.sign||function(t){return t>0?1:t<0?-1:0},Lc=Math.sqrt,Pc=Math.tan;function kc(t){return t>1?0:t<-1?dc:Math.acos(t)}function Rc(t){return t>1?pc:t<-1?-pc:Math.asin(t)}function Oc(t){return(t=Ec(t/2))*t}function Ic(){}function Dc(t,e){t&&Fc.hasOwnProperty(t.type)&&Fc[t.type](t,e)}var Nc={Feature:function(t,e){Dc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Dc(n[r].geometry,e)}},Fc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Gc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Gc(n[r],e,0)},Polygon:function(t,e){Bc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Bc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Dc(n[r],e)}};function Gc(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Bc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Gc(t[n],e,1);e.polygonEnd()}var Vc,zc,Uc,jc,Hc,Wc=function(t,e){t&&Nc.hasOwnProperty(t.type)?Nc[t.type](t,e):Dc(t,e)},Xc=lc(),Yc=lc(),qc={point:Ic,lineStart:Ic,lineEnd:Ic,polygonStart:function(){Xc.reset(),qc.lineStart=Qc,qc.lineEnd=Zc},polygonEnd:function(){var t=+Xc;Yc.add(t<0?mc+t:t),this.lineStart=this.lineEnd=this.point=Ic},sphere:function(){Yc.add(mc)}};function Qc(){qc.point=$c}function Zc(){Kc(Vc,zc)}function $c(t,e){qc.point=Kc,Vc=t,zc=e,Uc=t*=yc,jc=wc(e=(e*=yc)/2+gc),Hc=Ec(e)}function Kc(t,e){var n=(t*=yc)-Uc,r=n>=0?1:-1,i=r*n,o=wc(e=(e*=yc)/2+gc),a=Ec(e),s=Hc*a,c=jc*o+s*wc(i),l=s*r*Ec(i);Xc.add(_c(l,c)),Uc=t,jc=o,Hc=a}var Jc=function(t){return Yc.reset(),Wc(t,qc),2*Yc};function tl(t){return[_c(t[1],t[0]),Rc(t[2])]}function el(t){var e=t[0],n=t[1],r=wc(n);return[r*wc(e),r*Ec(e),Ec(n)]}function nl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function rl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function il(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ol(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function al(t){var e=Lc(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var sl,cl,ll,ul,hl,fl,dl,pl,gl,ml,vl=lc(),yl={point:bl,lineStart:_l,lineEnd:wl,polygonStart:function(){yl.point=Sl,yl.lineStart=Tl,yl.lineEnd=Ml,vl.reset(),qc.polygonStart()},polygonEnd:function(){qc.polygonEnd(),yl.point=bl,yl.lineStart=_l,yl.lineEnd=wl,Xc<0?(sl=-(ll=180),cl=-(ul=90)):vl>1e-6?ul=90:vl<-1e-6&&(cl=-90),ml[0]=sl,ml[1]=ll},sphere:function(){sl=-(ll=180),cl=-(ul=90)}};function bl(t,e){gl.push(ml=[sl=t,ll=t]),e<cl&&(cl=e),e>ul&&(ul=e)}function xl(t,e){var n=el([t*yc,e*yc]);if(pl){var r=rl(pl,n),i=rl([r[1],-r[0],0],r);al(i),i=tl(i);var o,a=t-hl,s=a>0?1:-1,c=i[0]*vc*s,l=bc(a)>180;l^(s*hl<c&&c<s*t)?(o=i[1]*vc)>ul&&(ul=o):l^(s*hl<(c=(c+360)%360-180)&&c<s*t)?(o=-i[1]*vc)<cl&&(cl=o):(e<cl&&(cl=e),e>ul&&(ul=e)),l?t<hl?Al(sl,t)>Al(sl,ll)&&(ll=t):Al(t,ll)>Al(sl,ll)&&(sl=t):ll>=sl?(t<sl&&(sl=t),t>ll&&(ll=t)):t>hl?Al(sl,t)>Al(sl,ll)&&(ll=t):Al(t,ll)>Al(sl,ll)&&(sl=t)}else gl.push(ml=[sl=t,ll=t]);e<cl&&(cl=e),e>ul&&(ul=e),pl=n,hl=t}function _l(){yl.point=xl}function wl(){ml[0]=sl,ml[1]=ll,yl.point=bl,pl=null}function Sl(t,e){if(pl){var n=t-hl;vl.add(bc(n)>180?n+(n>0?360:-360):n)}else fl=t,dl=e;qc.point(t,e),xl(t,e)}function Tl(){qc.lineStart()}function Ml(){Sl(fl,dl),qc.lineEnd(),bc(vl)>1e-6&&(sl=-(ll=180)),ml[0]=sl,ml[1]=ll,pl=null}function Al(t,e){return(e-=t)<0?e+360:e}function El(t,e){return t[0]-e[0]}function Cl(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Ll,Pl,kl,Rl,Ol,Il,Dl,Nl,Fl,Gl,Bl,Vl,zl,Ul,jl,Hl,Wl=function(t){var e,n,r,i,o,a,s;if(ul=ll=-(sl=cl=1/0),gl=[],Wc(t,yl),n=gl.length){for(gl.sort(El),e=1,o=[r=gl[0]];e<n;++e)Cl(r,(i=gl[e])[0])||Cl(r,i[1])?(Al(r[0],i[1])>Al(r[0],r[1])&&(r[1]=i[1]),Al(i[0],r[1])>Al(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=Al(r[1],i[0]))>a&&(a=s,sl=i[0],ll=r[1])}return gl=ml=null,sl===1/0||cl===1/0?[[NaN,NaN],[NaN,NaN]]:[[sl,cl],[ll,ul]]},Xl={sphere:Ic,point:Yl,lineStart:Ql,lineEnd:Kl,polygonStart:function(){Xl.lineStart=Jl,Xl.lineEnd=tu},polygonEnd:function(){Xl.lineStart=Ql,Xl.lineEnd=Kl}};function Yl(t,e){t*=yc;var n=wc(e*=yc);ql(n*wc(t),n*Ec(t),Ec(e))}function ql(t,e,n){++Ll,kl+=(t-kl)/Ll,Rl+=(e-Rl)/Ll,Ol+=(n-Ol)/Ll}function Ql(){Xl.point=Zl}function Zl(t,e){t*=yc;var n=wc(e*=yc);Ul=n*wc(t),jl=n*Ec(t),Hl=Ec(e),Xl.point=$l,ql(Ul,jl,Hl)}function $l(t,e){t*=yc;var n=wc(e*=yc),r=n*wc(t),i=n*Ec(t),o=Ec(e),a=_c(Lc((a=jl*o-Hl*i)*a+(a=Hl*r-Ul*o)*a+(a=Ul*i-jl*r)*a),Ul*r+jl*i+Hl*o);Pl+=a,Il+=a*(Ul+(Ul=r)),Dl+=a*(jl+(jl=i)),Nl+=a*(Hl+(Hl=o)),ql(Ul,jl,Hl)}function Kl(){Xl.point=Yl}function Jl(){Xl.point=eu}function tu(){nu(Vl,zl),Xl.point=Yl}function eu(t,e){Vl=t,zl=e,t*=yc,e*=yc,Xl.point=nu;var n=wc(e);Ul=n*wc(t),jl=n*Ec(t),Hl=Ec(e),ql(Ul,jl,Hl)}function nu(t,e){t*=yc;var n=wc(e*=yc),r=n*wc(t),i=n*Ec(t),o=Ec(e),a=jl*o-Hl*i,s=Hl*r-Ul*o,c=Ul*i-jl*r,l=Lc(a*a+s*s+c*c),u=Rc(l),h=l&&-u/l;Fl+=h*a,Gl+=h*s,Bl+=h*c,Pl+=u,Il+=u*(Ul+(Ul=r)),Dl+=u*(jl+(jl=i)),Nl+=u*(Hl+(Hl=o)),ql(Ul,jl,Hl)}var ru=function(t){Ll=Pl=kl=Rl=Ol=Il=Dl=Nl=Fl=Gl=Bl=0,Wc(t,Xl);var e=Fl,n=Gl,r=Bl,i=e*e+n*n+r*r;return i<1e-12&&(e=Il,n=Dl,r=Nl,Pl<1e-6&&(e=kl,n=Rl,r=Ol),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[_c(n,e)*vc,Rc(r/Lc(i))*vc]},iu=function(t){return function(){return t}},ou=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function au(t,e){return[bc(t)>dc?t+Math.round(-t/mc)*mc:t,e]}function su(t,e,n){return(t%=mc)?e||n?ou(lu(t),uu(e,n)):lu(t):e||n?uu(e,n):au}function cu(t){return function(e,n){return[(e+=t)>dc?e-mc:e<-dc?e+mc:e,n]}}function lu(t){var e=cu(t);return e.invert=cu(-t),e}function uu(t,e){var n=wc(t),r=Ec(t),i=wc(e),o=Ec(e);function a(t,e){var a=wc(e),s=wc(t)*a,c=Ec(t)*a,l=Ec(e),u=l*n+s*r;return[_c(c*i-u*o,s*n-l*r),Rc(u*i+c*o)]}return a.invert=function(t,e){var a=wc(e),s=wc(t)*a,c=Ec(t)*a,l=Ec(e),u=l*i-c*o;return[_c(c*i+l*o,s*n+u*r),Rc(u*n-s*r)]},a}au.invert=au;var hu=function(t){function e(e){return(e=t(e[0]*yc,e[1]*yc))[0]*=vc,e[1]*=vc,e}return t=su(t[0]*yc,t[1]*yc,t.length>2?t[2]*yc:0),e.invert=function(e){return(e=t.invert(e[0]*yc,e[1]*yc))[0]*=vc,e[1]*=vc,e},e};function fu(t,e,n,r,i,o){if(n){var a=wc(e),s=Ec(e),c=r*n;null==i?(i=e+r*mc,o=e-c/2):(i=du(a,i),o=du(a,o),(r>0?i<o:i>o)&&(i+=r*mc));for(var l,u=i;r>0?u>o:u<o;u-=c)l=tl([a,-s*wc(u),-s*Ec(u)]),t.point(l[0],l[1])}}function du(t,e){(e=el(e))[0]-=t,al(e);var n=kc(-e[1]);return((-e[2]<0?-n:n)+mc-1e-6)%mc}var pu=function(){var t,e,n=iu([0,0]),r=iu(90),i=iu(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=vc,n[1]*=vc}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*yc,c=i.apply(this,arguments)*yc;return t=[],e=su(-a[0]*yc,-a[1]*yc,0).invert,fu(o,s,c,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:iu([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:iu(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:iu(+t),a):i},a},gu=function(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Ic,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},mu=function(t,e){return bc(t[0]-e[0])<1e-6&&bc(t[1]-e[1])<1e-6};function vu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var yu=function(t,e,n,r,i){var o,a,s=[],c=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(mu(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new vu(r,t,null,!0)),c.push(n.o=new vu(r,null,n,!1)),s.push(n=new vu(a,t,null,!1)),c.push(n.o=new vu(a,null,n,!0))}})),s.length){for(c.sort(e),bu(s),bu(c),o=0,a=c.length;o<a;++o)c[o].e=n=!n;for(var l,u,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((u=l[o])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((u=l[o])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}};function bu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var xu=lc();function _u(t){return bc(t[0])<=dc?t[0]:Cc(t[0])*((bc(t[0])+dc)%mc-dc)}var wu=function(t,e){var n=_u(e),r=e[1],i=Ec(r),o=[Ec(n),-wc(n),0],a=0,s=0;xu.reset(),1===i?r=pc+1e-6:-1===i&&(r=-pc-1e-6);for(var c=0,l=t.length;c<l;++c)if(h=(u=t[c]).length)for(var u,h,f=u[h-1],d=_u(f),p=f[1]/2+gc,g=Ec(p),m=wc(p),v=0;v<h;++v,d=b,g=_,m=w,f=y){var y=u[v],b=_u(y),x=y[1]/2+gc,_=Ec(x),w=wc(x),S=b-d,T=S>=0?1:-1,M=T*S,A=M>dc,E=g*_;if(xu.add(_c(E*T*Ec(M),m*w+E*wc(M))),a+=A?S+T*mc:S,A^d>=n^b>=n){var C=rl(el(f),el(y));al(C);var L=rl(o,C);al(L);var P=(A^S>=0?-1:1)*Rc(L[2]);(r>P||r===P&&(C[0]||C[1]))&&(s+=A^S>=0?1:-1)}}return(a<-1e-6||a<1e-6&&xu<-1e-6)^1&s},Su=function(t,e,n,r){return function(i){var o,a,s,c=e(i),l=gu(),u=e(l),h=!1,f={point:d,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=b,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=g,f.lineEnd=m,a=G(a);var t=wu(o,r);a.length?(h||(i.polygonStart(),h=!0),yu(a,Mu,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){c.point(t,e)}function g(){f.point=p,c.lineStart()}function m(){f.point=d,c.lineEnd()}function v(t,e){s.push([t,e]),u.point(t,e)}function y(){u.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,c=u.clean(),f=l.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&c){if((e=(n=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&f.push(f.pop().concat(f.shift())),a.push(f.filter(Tu))}return f}};function Tu(t){return t.length>1}function Mu(t,e){return((t=t.x)[0]<0?t[1]-pc-1e-6:pc-t[1])-((e=e.x)[0]<0?e[1]-pc-1e-6:pc-e[1])}var Au=Su((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?dc:-dc,c=bc(o-n);bc(c-dc)<1e-6?(t.point(n,r=(r+a)/2>0?pc:-pc),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&c>=dc&&(bc(n-i)<1e-6&&(n-=1e-6*i),bc(o-s)<1e-6&&(o-=1e-6*s),r=function(t,e,n,r){var i,o,a=Ec(t-n);return bc(a)>1e-6?xc((Ec(e)*(o=wc(r))*Ec(n)-Ec(r)*(i=wc(e))*Ec(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*pc,r.point(-dc,i),r.point(0,i),r.point(dc,i),r.point(dc,0),r.point(dc,-i),r.point(0,-i),r.point(-dc,-i),r.point(-dc,0),r.point(-dc,i);else if(bc(t[0]-e[0])>1e-6){var o=t[0]<e[0]?dc:-dc;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-dc,-pc]);var Eu=function(t){var e=wc(t),n=6*yc,r=e>0,i=bc(e)>1e-6;function o(t,n){return wc(t)*wc(n)>e}function a(t,n,r){var i=[1,0,0],o=rl(el(t),el(n)),a=nl(o,o),s=o[0],c=a-s*s;if(!c)return!r&&t;var l=e*a/c,u=-e*s/c,h=rl(i,o),f=ol(i,l);il(f,ol(o,u));var d=h,p=nl(f,d),g=nl(d,d),m=p*p-g*(nl(f,f)-1);if(!(m<0)){var v=Lc(m),y=ol(d,(-p-v)/g);if(il(y,f),y=tl(y),!r)return y;var b,x=t[0],_=n[0],w=t[1],S=n[1];_<x&&(b=x,x=_,_=b);var T=_-x,M=bc(T-dc)<1e-6;if(!M&&S<w&&(b=w,w=S,S=b),M||T<1e-6?M?w+S>0^y[1]<(bc(y[0]-x)<1e-6?w:S):w<=y[1]&&y[1]<=S:T>dc^(x<=y[0]&&y[0]<=_)){var A=ol(d,(-p+v)/g);return il(A,f),[y,tl(A)]}}}function s(e,n){var i=r?t:dc-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Su(o,(function(t){var e,n,c,l,u;return{lineStart:function(){l=c=!1,u=1},point:function(h,f){var d,p=[h,f],g=o(h,f),m=r?g?0:s(h,f):g?s(h+(h<0?dc:-dc),f):0;if(!e&&(l=c=g)&&t.lineStart(),g!==c&&(!(d=a(e,p))||mu(e,d)||mu(p,d))&&(p[2]=1),g!==c)u=0,g?(t.lineStart(),d=a(p,e),t.point(d[0],d[1])):(d=a(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var v;m&n||!(v=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!g||e&&mu(e,p)||t.point(p[0],p[1]),e=p,c=g,n=m},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return u|(l&&c)<<1}}}),(function(e,r,i,o){fu(o,t,n,i,e,r)}),r?[0,-t]:[-dc,t-dc])};function Cu(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,l){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||c(i,o)<0^s>0)do{l.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return bc(r[0]-t)<1e-6?i>0?0:3:bc(r[0]-n)<1e-6?i>0?2:1:bc(r[1]-e)<1e-6?i>0?1:0:i>0?3:2}function s(t,e){return c(t.x,e.x)}function c(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var c,l,u,h,f,d,p,g,m,v,y,b=a,x=gu(),_={point:w,lineStart:function(){_.point=S,l&&l.push(u=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){c&&(S(h,f),d&&m&&x.rejoin(),c.push(x.result()));_.point=w,m&&b.lineEnd()},polygonStart:function(){b=x,c=[],l=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],c=1,u=s.length,h=s[0],f=h[0],d=h[1];c<u;++c)o=f,a=d,h=s[c],f=h[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(f-o)*(r-a)<(d-a)*(t-o)&&--e;return e}(),n=y&&e,i=(c=G(c)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&yu(c,s,e,o,a),a.polygonEnd());b=a,c=l=u=null}};function w(t,e){i(t,e)&&b.point(t,e)}function S(o,a){var s=i(o,a);if(l&&u.push([o,a]),v)h=o,f=a,d=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var c=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],x=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,e,n,r,i,o){var a,s=t[0],c=t[1],l=0,u=1,h=e[0]-s,f=e[1]-c;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<u&&(u=a)}if(a=r-c,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>l&&(l=a)}if(a=o-c,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<u&&(u=a)}return l>0&&(t[0]=s+l*h,t[1]=c+l*f),u<1&&(e[0]=s+u*h,e[1]=c+u*f),!0}}}}}(c,x,t,e,n,r)?s&&(b.lineStart(),b.point(o,a),y=!1):(m||(b.lineStart(),b.point(c[0],c[1])),b.point(x[0],x[1]),s||b.lineEnd(),y=!1)}p=o,g=a,m=s}return _}}var Lu,Pu,ku,Ru=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Cu(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},Ou=lc(),Iu={sphere:Ic,point:Ic,lineStart:function(){Iu.point=Nu,Iu.lineEnd=Du},lineEnd:Ic,polygonStart:Ic,polygonEnd:Ic};function Du(){Iu.point=Iu.lineEnd=Ic}function Nu(t,e){Lu=t*=yc,Pu=Ec(e*=yc),ku=wc(e),Iu.point=Fu}function Fu(t,e){t*=yc;var n=Ec(e*=yc),r=wc(e),i=bc(t-Lu),o=wc(i),a=r*Ec(i),s=ku*n-Pu*r*o,c=Pu*n+ku*r*o;Ou.add(_c(Lc(a*a+s*s),c)),Lu=t,Pu=n,ku=r}var Gu=function(t){return Ou.reset(),Wc(t,Iu),+Ou},Bu=[null,null],Vu={type:"LineString",coordinates:Bu},zu=function(t,e){return Bu[0]=t,Bu[1]=e,Gu(Vu)},Uu={Feature:function(t,e){return Hu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Hu(n[r].geometry,e))return!0;return!1}},ju={Sphere:function(){return!0},Point:function(t,e){return Wu(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Wu(n[r],e))return!0;return!1},LineString:function(t,e){return Xu(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Xu(n[r],e))return!0;return!1},Polygon:function(t,e){return Yu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Yu(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Hu(n[r],e))return!0;return!1}};function Hu(t,e){return!(!t||!ju.hasOwnProperty(t.type))&&ju[t.type](t,e)}function Wu(t,e){return 0===zu(t,e)}function Xu(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=zu(t[o],e)))return!0;if(o>0&&(i=zu(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<1e-12*i)return!0;n=r}return!1}function Yu(t,e){return!!wu(t.map(qu),Qu(e))}function qu(t){return(t=t.map(Qu)).pop(),t}function Qu(t){return[t[0]*yc,t[1]*yc]}var Zu=function(t,e){return(t&&Uu.hasOwnProperty(t.type)?Uu[t.type]:Hu)(t,e)};function $u(t,e,n){var r=S(t,e-1e-6,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Ku(t,e,n){var r=S(t,e-1e-6,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Ju(){var t,e,n,r,i,o,a,s,c,l,u,h,f=10,d=f,p=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return S(Sc(r/p)*p,n,p).map(u).concat(S(Sc(s/g)*g,a,g).map(h)).concat(S(Sc(e/f)*f,t,f).filter((function(t){return bc(t%p)>1e-6})).map(c)).concat(S(Sc(o/d)*d,i,d).filter((function(t){return bc(t%g)>1e-6})).map(l))}return v.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),v.precision(m)):[[r,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),v.precision(m)):[[e,o],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],v):[p,g]},v.stepMinor=function(t){return arguments.length?(f=+t[0],d=+t[1],v):[f,d]},v.precision=function(f){return arguments.length?(m=+f,c=$u(o,i,90),l=Ku(e,t,m),u=$u(s,a,90),h=Ku(r,n,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function th(){return Ju()()}var eh,nh,rh,ih,oh=function(t,e){var n=t[0]*yc,r=t[1]*yc,i=e[0]*yc,o=e[1]*yc,a=wc(r),s=Ec(r),c=wc(o),l=Ec(o),u=a*wc(n),h=a*Ec(n),f=c*wc(i),d=c*Ec(i),p=2*Rc(Lc(Oc(o-r)+a*c*Oc(i-n))),g=Ec(p),m=p?function(t){var e=Ec(t*=p)/g,n=Ec(p-t)/g,r=n*u+e*f,i=n*h+e*d,o=n*s+e*l;return[_c(i,r)*vc,_c(o,Lc(r*r+i*i))*vc]}:function(){return[n*vc,r*vc]};return m.distance=p,m},ah=function(t){return t},sh=lc(),ch=lc(),lh={point:Ic,lineStart:Ic,lineEnd:Ic,polygonStart:function(){lh.lineStart=uh,lh.lineEnd=dh},polygonEnd:function(){lh.lineStart=lh.lineEnd=lh.point=Ic,sh.add(bc(ch)),ch.reset()},result:function(){var t=sh/2;return sh.reset(),t}};function uh(){lh.point=hh}function hh(t,e){lh.point=fh,eh=rh=t,nh=ih=e}function fh(t,e){ch.add(ih*t-rh*e),rh=t,ih=e}function dh(){fh(eh,nh)}var ph=lh,gh=1/0,mh=gh,vh=-gh,yh=vh;var bh,xh,_h,wh,Sh={point:function(t,e){t<gh&&(gh=t);t>vh&&(vh=t);e<mh&&(mh=e);e>yh&&(yh=e)},lineStart:Ic,lineEnd:Ic,polygonStart:Ic,polygonEnd:Ic,result:function(){var t=[[gh,mh],[vh,yh]];return vh=yh=-(mh=gh=1/0),t}},Th=0,Mh=0,Ah=0,Eh=0,Ch=0,Lh=0,Ph=0,kh=0,Rh=0,Oh={point:Ih,lineStart:Dh,lineEnd:Gh,polygonStart:function(){Oh.lineStart=Bh,Oh.lineEnd=Vh},polygonEnd:function(){Oh.point=Ih,Oh.lineStart=Dh,Oh.lineEnd=Gh},result:function(){var t=Rh?[Ph/Rh,kh/Rh]:Lh?[Eh/Lh,Ch/Lh]:Ah?[Th/Ah,Mh/Ah]:[NaN,NaN];return Th=Mh=Ah=Eh=Ch=Lh=Ph=kh=Rh=0,t}};function Ih(t,e){Th+=t,Mh+=e,++Ah}function Dh(){Oh.point=Nh}function Nh(t,e){Oh.point=Fh,Ih(_h=t,wh=e)}function Fh(t,e){var n=t-_h,r=e-wh,i=Lc(n*n+r*r);Eh+=i*(_h+t)/2,Ch+=i*(wh+e)/2,Lh+=i,Ih(_h=t,wh=e)}function Gh(){Oh.point=Ih}function Bh(){Oh.point=zh}function Vh(){Uh(bh,xh)}function zh(t,e){Oh.point=Uh,Ih(bh=_h=t,xh=wh=e)}function Uh(t,e){var n=t-_h,r=e-wh,i=Lc(n*n+r*r);Eh+=i*(_h+t)/2,Ch+=i*(wh+e)/2,Lh+=i,Ph+=(i=wh*t-_h*e)*(_h+t),kh+=i*(wh+e),Rh+=3*i,Ih(_h=t,wh=e)}var jh=Oh;function Hh(t){this._context=t}Hh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,mc)}},result:Ic};var Wh,Xh,Yh,qh,Qh,Zh=lc(),$h={point:Ic,lineStart:function(){$h.point=Kh},lineEnd:function(){Wh&&Jh(Xh,Yh),$h.point=Ic},polygonStart:function(){Wh=!0},polygonEnd:function(){Wh=null},result:function(){var t=+Zh;return Zh.reset(),t}};function Kh(t,e){$h.point=Jh,Xh=qh=t,Yh=Qh=e}function Jh(t,e){qh-=t,Qh-=e,Zh.add(Lc(qh*qh+Qh*Qh)),qh=t,Qh=e}var tf=$h;function ef(){this._string=[]}function nf(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}ef.prototype={_radius:4.5,_circle:nf(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=nf(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var rf=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Wc(t,n(r))),r.result()}return o.area=function(t){return Wc(t,n(ph)),ph.result()},o.measure=function(t){return Wc(t,n(tf)),tf.result()},o.bounds=function(t){return Wc(t,n(Sh)),Sh.result()},o.centroid=function(t){return Wc(t,n(jh)),jh.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,ah):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new ef):new Hh(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},of=function(t){return{stream:af(t)}};function af(t){return function(e){var n=new sf;for(var r in t)n[r]=t[r];return n.stream=e,n}}function sf(){}function cf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Wc(n,t.stream(Sh)),e(Sh.result()),null!=r&&t.clipExtent(r),t}function lf(t,e,n){return cf(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function uf(t,e,n){return lf(t,[[0,0],e],n)}function hf(t,e,n){return cf(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function ff(t,e,n){return cf(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}sf.prototype={constructor:sf,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var df=wc(30*yc),pf=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,c,l,u,h,f,d,p,g,m){var v=l-r,y=u-i,b=v*v+y*y;if(b>4*e&&g--){var x=a+f,_=s+d,w=c+p,S=Lc(x*x+_*_+w*w),T=Rc(w/=S),M=bc(bc(w)-1)<1e-6||bc(o-h)<1e-6?(o+h)/2:_c(_,x),A=t(M,T),E=A[0],C=A[1],L=E-r,P=C-i,k=y*L-v*P;(k*k/b>e||bc((v*L+y*P)/b-.5)>.3||a*f+s*d+c*p<df)&&(n(r,i,o,a,s,c,E,C,M,x/=S,_/=S,w,g,m),m.point(E,C),n(E,C,M,x,_,w,l,u,h,f,d,p,g,m))}}return function(e){var r,i,o,a,s,c,l,u,h,f,d,p,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){u=NaN,g.point=y,e.lineStart()}function y(r,i){var o=el([r,i]),a=t(r,i);n(u,h,l,f,d,p,u=a[0],h=a[1],l=r,f=o[0],d=o[1],p=o[2],16,e),e.point(u,h)}function b(){g.point=m,e.lineEnd()}function x(){v(),g.point=_,g.lineEnd=w}function _(t,e){y(r=t,e),i=u,o=h,a=f,s=d,c=p,g.point=y}function w(){n(u,h,l,f,d,p,i,o,r,a,s,c,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return af({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var gf=af({point:function(t,e){this.stream.point(t*yc,e*yc)}});function mf(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function vf(t,e,n,r,i,o){var a=wc(o),s=Ec(o),c=a*t,l=s*t,u=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return[c*(t*=r)-l*(o*=i)+e,n-l*t-c*o]}return p.invert=function(t,e){return[r*(u*t-h*e+f),i*(d-h*t-u*e)]},p}function yf(t){return bf((function(){return t}))()}function bf(t){var e,n,r,i,o,a,s,c,l,u,h=150,f=480,d=250,p=0,g=0,m=0,v=0,y=0,b=0,x=1,_=1,w=null,S=Au,T=null,M=ah,A=.5;function E(t){return c(t[0]*yc,t[1]*yc)}function C(t){return(t=c.invert(t[0],t[1]))&&[t[0]*vc,t[1]*vc]}function L(){var t=vf(h,0,0,x,_,b).apply(null,e(p,g)),r=(b?vf:mf)(h,f-t[0],d-t[1],x,_,b);return n=su(m,v,y),s=ou(e,r),c=ou(n,s),a=pf(s,A),P()}function P(){return l=u=null,E}return E.stream=function(t){return l&&u===t?l:l=gf(function(t){return af({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(S(a(M(u=t)))))},E.preclip=function(t){return arguments.length?(S=t,w=void 0,P()):S},E.postclip=function(t){return arguments.length?(M=t,T=r=i=o=null,P()):M},E.clipAngle=function(t){return arguments.length?(S=+t?Eu(w=t*yc):(w=null,Au),P()):w*vc},E.clipExtent=function(t){return arguments.length?(M=null==t?(T=r=i=o=null,ah):Cu(T=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),P()):null==T?null:[[T,r],[i,o]]},E.scale=function(t){return arguments.length?(h=+t,L()):h},E.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],L()):[f,d]},E.center=function(t){return arguments.length?(p=t[0]%360*yc,g=t[1]%360*yc,L()):[p*vc,g*vc]},E.rotate=function(t){return arguments.length?(m=t[0]%360*yc,v=t[1]%360*yc,y=t.length>2?t[2]%360*yc:0,L()):[m*vc,v*vc,y*vc]},E.angle=function(t){return arguments.length?(b=t%360*yc,L()):b*vc},E.reflectX=function(t){return arguments.length?(x=t?-1:1,L()):x<0},E.reflectY=function(t){return arguments.length?(_=t?-1:1,L()):_<0},E.precision=function(t){return arguments.length?(a=pf(s,A=t*t),P()):Lc(A)},E.fitExtent=function(t,e){return lf(E,t,e)},E.fitSize=function(t,e){return uf(E,t,e)},E.fitWidth=function(t,e){return hf(E,t,e)},E.fitHeight=function(t,e){return ff(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&C,L()}}function xf(t){var e=0,n=dc/3,r=bf(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*yc,n=t[1]*yc):[e*vc,n*vc]},i}function _f(t,e){var n=Ec(t),r=(n+Ec(e))/2;if(bc(r)<1e-6)return function(t){var e=wc(t);function n(t,n){return[t*e,Ec(n)/e]}return n.invert=function(t,n){return[t/e,Rc(n*e)]},n}(t);var i=1+n*(2*r-n),o=Lc(i)/r;function a(t,e){var n=Lc(i-2*r*Ec(e))/r;return[n*Ec(t*=r),o-n*wc(t)]}return a.invert=function(t,e){var n=o-e,a=_c(t,bc(n))*Cc(n);return n*r<0&&(a-=dc*Cc(t)*Cc(n)),[a/r,Rc((i-(t*t+n*n)*r*r)/(2*r))]},a}var wf=function(){return xf(_f).scale(155.424).center([0,33.6442])},Sf=function(){return wf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Tf=function(){var t,e,n,r,i,o,a=Sf(),s=wf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=wf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),c.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),c.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(l),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+1e-6,u+.12*e+1e-6],[o-.214*e-1e-6,u+.234*e-1e-6]]).stream(l),i=c.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+1e-6,u+.166*e+1e-6],[o-.115*e-1e-6,u+.234*e-1e-6]]).stream(l),h()},u.fitExtent=function(t,e){return lf(u,t,e)},u.fitSize=function(t,e){return uf(u,t,e)},u.fitWidth=function(t,e){return hf(u,t,e)},u.fitHeight=function(t,e){return ff(u,t,e)},u.scale(1070)};function Mf(t){return function(e,n){var r=wc(e),i=wc(n),o=t(r*i);return[o*i*Ec(e),o*Ec(n)]}}function Af(t){return function(e,n){var r=Lc(e*e+n*n),i=t(r),o=Ec(i),a=wc(i);return[_c(e*o,r*a),Rc(r&&n*o/r)]}}var Ef=Mf((function(t){return Lc(2/(1+t))}));Ef.invert=Af((function(t){return 2*Rc(t/2)}));var Cf=function(){return yf(Ef).scale(124.75).clipAngle(179.999)},Lf=Mf((function(t){return(t=kc(t))&&t/Ec(t)}));Lf.invert=Af((function(t){return t}));var Pf=function(){return yf(Lf).scale(79.4188).clipAngle(179.999)};function kf(t,e){return[t,Mc(Pc((pc+e)/2))]}kf.invert=function(t,e){return[t,2*xc(Tc(e))-pc]};var Rf=function(){return Of(kf).scale(961/mc)};function Of(t){var e,n,r,i=yf(t),o=i.center,a=i.scale,s=i.translate,c=i.clipExtent,l=null;function u(){var o=dc*a(),s=i(hu(i.rotate()).invert([0,0]));return c(null==l?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===kf?[[Math.max(s[0]-o,l),e],[Math.min(s[0]+o,n),r]]:[[l,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==l?null:[[l,e],[n,r]]},u()}function If(t){return Pc((pc+t)/2)}function Df(t,e){var n=wc(t),r=t===e?Ec(t):Mc(n/wc(e))/Mc(If(e)/If(t)),i=n*Ac(If(t),r)/r;if(!r)return kf;function o(t,e){i>0?e<1e-6-pc&&(e=1e-6-pc):e>pc-1e-6&&(e=pc-1e-6);var n=i/Ac(If(e),r);return[n*Ec(r*t),i-n*wc(r*t)]}return o.invert=function(t,e){var n=i-e,o=Cc(r)*Lc(t*t+n*n),a=_c(t,bc(n))*Cc(n);return n*r<0&&(a-=dc*Cc(t)*Cc(n)),[a/r,2*xc(Ac(i/o,1/r))-pc]},o}var Nf=function(){return xf(Df).scale(109.5).parallels([30,30])};function Ff(t,e){return[t,e]}Ff.invert=Ff;var Gf=function(){return yf(Ff).scale(152.63)};function Bf(t,e){var n=wc(t),r=t===e?Ec(t):(n-wc(e))/(e-t),i=n/r+t;if(bc(r)<1e-6)return Ff;function o(t,e){var n=i-e,o=r*t;return[n*Ec(o),i-n*wc(o)]}return o.invert=function(t,e){var n=i-e,o=_c(t,bc(n))*Cc(n);return n*r<0&&(o-=dc*Cc(t)*Cc(n)),[o/r,i-Cc(r)*Lc(t*t+n*n)]},o}var Vf=function(){return xf(Bf).scale(131.154).center([0,13.9389])},zf=1.340264,Uf=-.081106,jf=893e-6,Hf=.003796,Wf=Lc(3)/2;function Xf(t,e){var n=Rc(Wf*Ec(e)),r=n*n,i=r*r*r;return[t*wc(n)/(Wf*(zf+3*Uf*r+i*(7*jf+9*Hf*r))),n*(zf+Uf*r+i*(jf+Hf*r))]}Xf.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(zf+Uf*i+o*(jf+Hf*i))-e)/(zf+3*Uf*i+o*(7*jf+9*Hf*i)))*r)*i*i,!(bc(n)<1e-12));++a);return[Wf*t*(zf+3*Uf*i+o*(7*jf+9*Hf*i))/wc(r),Rc(Ec(r)/Wf)]};var Yf=function(){return yf(Xf).scale(177.158)};function qf(t,e){var n=wc(e),r=wc(t)*n;return[n*Ec(t)/r,Ec(e)/r]}qf.invert=Af(xc);var Qf=function(){return yf(qf).scale(144.049).clipAngle(60)},Zf=function(){var t,e,n,r,i,o,a,s=1,c=0,l=0,u=1,h=1,f=0,d=null,p=1,g=1,m=af({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),v=ah;function y(){return p=s*u,g=s*h,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*g;if(f){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+c,i+l]}return b.invert=function(n){var r=n[0]-c,i=n[1]-l;if(f){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=m(v(a=t))},b.postclip=function(t){return arguments.length?(v=t,d=n=r=i=null,y()):v},b.clipExtent=function(t){return arguments.length?(v=null==t?(d=n=r=i=null,ah):Cu(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,y()):s},b.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],y()):[c,l]},b.angle=function(n){return arguments.length?(e=Ec(f=n%360*yc),t=wc(f),y()):f*vc},b.reflectX=function(t){return arguments.length?(u=t?-1:1,y()):u<0},b.reflectY=function(t){return arguments.length?(h=t?-1:1,y()):h<0},b.fitExtent=function(t,e){return lf(b,t,e)},b.fitSize=function(t,e){return uf(b,t,e)},b.fitWidth=function(t,e){return hf(b,t,e)},b.fitHeight=function(t,e){return ff(b,t,e)},b};function $f(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}$f.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(bc(n)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Kf=function(){return yf($f).scale(175.295)};function Jf(t,e){return[wc(e)*Ec(t),Ec(e)]}Jf.invert=Af(Rc);var td=function(){return yf(Jf).scale(249.5).clipAngle(90.000001)};function ed(t,e){var n=wc(e),r=1+wc(t)*n;return[n*Ec(t)/r,Ec(e)/r]}ed.invert=Af((function(t){return 2*xc(t)}));var nd=function(){return yf(ed).scale(250).clipAngle(142)};function rd(t,e){return[Mc(Pc((pc+e)/2)),-t]}rd.invert=function(t,e){return[-e,2*xc(Tc(t))-pc]};var id=function(){var t=Of(rd),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function od(t,e){return t.parent===e.parent?1:2}function ad(t,e){return t+e.x}function sd(t,e){return Math.max(t,e.y)}var cd=function(){var t=od,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(ad,0)/t.length}(n),e.y=function(t){return 1+t.reduce(sd,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),c=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),l=s.x-t(s,c)/2,u=c.x+t(c,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-l)/(u-l)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function ld(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function ud(t,e){var n,r,i,o,a,s=new pd(t),c=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=hd);n=l.pop();)if(c&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new pd(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(dd)}function hd(t){return t.children}function fd(t){t.data=t.data.data}function dd(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function pd(t){this.data=t,this.depth=this.height=0,this.parent=null}pd.prototype=ud.prototype={constructor:pd,count:function(){return this.eachAfter(ld)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return ud(this).eachBefore(fd)}};var gd=Array.prototype.slice;var md=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(gd.call(t))).length,o=[];r<i;)e=t[r],n&&bd(n,e)?++r:(n=_d(o=vd(o,e)),r=0);return n};function vd(t,e){var n,r;if(xd(e,t))return[e];for(n=0;n<t.length;++n)if(yd(e,t[n])&&xd(wd(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(yd(wd(t[n],t[r]),e)&&yd(wd(t[n],e),t[r])&&yd(wd(t[r],e),t[n])&&xd(Sd(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function yd(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function bd(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function xd(t,e){for(var n=0;n<e.length;++n)if(!bd(t,e[n]))return!1;return!0}function _d(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return wd(t[0],t[1]);case 3:return Sd(t[0],t[1],t[2])}var e}function wd(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,c=o-n,l=a-r,u=s-i,h=Math.sqrt(c*c+l*l);return{x:(n+o+c/h*u)/2,y:(r+a+l/h*u)/2,r:(h+i+s)/2}}function Sd(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,c=e.r,l=n.x,u=n.y,h=n.r,f=r-a,d=r-l,p=i-s,g=i-u,m=c-o,v=h-o,y=r*r+i*i-o*o,b=y-a*a-s*s+c*c,x=y-l*l-u*u+h*h,_=d*p-f*g,w=(p*x-g*b)/(2*_)-r,S=(g*m-p*v)/_,T=(d*b-f*x)/(2*_)-i,M=(f*v-d*m)/_,A=S*S+M*M-1,E=2*(o+w*S+T*M),C=w*w+T*T-o*o,L=-(A?(E+Math.sqrt(E*E-4*A*C))/(2*A):C/E);return{x:r+w+S*L,y:i+T+M*L,r:L}}function Td(t,e,n){var r,i,o,a,s=t.x-e.x,c=t.y-e.y,l=s*s+c*c;l?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(l+a-i)/(2*l),o=Math.sqrt(Math.max(0,a/l-r*r)),n.x=t.x-r*s-o*c,n.y=t.y-r*c+o*s):(r=(l+i-a)/(2*l),o=Math.sqrt(Math.max(0,i/l-r*r)),n.x=e.x+r*s-o*c,n.y=e.y+r*c+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Md(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Ad(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Ed(t){this._=t,this.next=null,this.previous=null}function Cd(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,c,l,u,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Td(n,e,r=t[2]),e=new Ed(e),n=new Ed(n),r=new Ed(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Td(e._,n._,r=t[s]),r=new Ed(r),c=n.next,l=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(Md(c._,r._)){n=c,e.next=n,n.previous=e,--s;continue t}u+=c._.r,c=c.next}else{if(Md(l._,r._)){(e=l).next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(c!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Ad(e);(r=r.next)!==n;)(a=Ad(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=md(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var Ld=function(t){return Cd(t),t};function Pd(t){return null==t?null:kd(t)}function kd(t){if("function"!=typeof t)throw new Error;return t}function Rd(){return 0}var Od=function(t){return function(){return t}};function Id(t){return Math.sqrt(t.value)}var Dd=function(){var t=null,e=1,n=1,r=Rd;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(Nd(t)).eachAfter(Fd(r,.5)).eachBefore(Gd(1)):i.eachBefore(Nd(Id)).eachAfter(Fd(Rd,1)).eachAfter(Fd(r,i.r/Math.min(e,n))).eachBefore(Gd(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Pd(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Od(+t),i):r},i};function Nd(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Fd(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Cd(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Gd(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Bd=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Vd=function(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,l=t.value&&(r-e)/t.value;++s<c;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},zd=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Vd(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(Bd),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},Ud={depth:-1},jd={};function Hd(t){return t.id}function Wd(t){return t.parentId}var Xd=function(){var t=Hd,e=Wd;function n(n){var r,i,o,a,s,c,l,u=n.length,h=new Array(u),f={};for(i=0;i<u;++i)r=n[i],s=h[i]=new pd(r),null!=(c=t(r,i,n))&&(c+="")&&(f[l="$"+(s.id=c)]=l in f?jd:s);for(i=0;i<u;++i)if(s=h[i],null!=(c=e(n[i],i,n))&&(c+="")){if(!(a=f["$"+c]))throw new Error("missing: "+c);if(a===jd)throw new Error("ambiguous: "+c);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Ud,o.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(dd),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=kd(e),n):t},n.parentId=function(t){return arguments.length?(e=kd(t),n):e},n};function Yd(t,e){return t.parent===e.parent?1:2}function qd(t){var e=t.children;return e?e[0]:t.t}function Qd(t){var e=t.children;return e?e[e.length-1]:t.t}function Zd(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $d(t,e,n){return t.a.parent===e.parent?t.a:n}function Kd(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Kd.prototype=Object.create(pd.prototype);var Jd=function(){var t=Yd,e=1,n=1,r=null;function i(i){var c=function(t){for(var e,n,r,i,o,a=new Kd(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Kd(r[i],i)),n.parent=e;return(a.parent=new Kd(null,0)).children=[a],a}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)i.eachBefore(s);else{var l=i,u=i,h=i;i.eachBefore((function(t){t.x<l.x&&(l=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var f=l===u?1:t(l,u)/2,d=f-l.x,p=e/(u.x+f+d),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,c=o.parent.children[0],l=o.m,u=a.m,h=s.m,f=c.m;s=Qd(s),o=qd(o),s&&o;)c=qd(c),(a=Qd(a)).a=e,(i=s.z+h-o.z-l+t(s._,o._))>0&&(Zd($d(s,e,r),e,i),l+=i,u+=i),h+=s.m,l+=o.m,f+=c.m,u+=a.m;s&&!Qd(a)&&(a.t=s,a.m+=h-u),o&&!qd(c)&&(c.t=o,c.m+=l-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},tp=function(t,e,n,r,i){for(var o,a=t.children,s=-1,c=a.length,l=t.value&&(i-n)/t.value;++s<c;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},ep=(1+Math.sqrt(5))/2;function np(t,e,n,r,i,o){for(var a,s,c,l,u,h,f,d,p,g,m,v=[],y=e.children,b=0,x=0,_=y.length,w=e.value;b<_;){c=i-n,l=o-r;do{u=y[x++].value}while(!u&&x<_);for(h=f=u,m=u*u*(g=Math.max(l/c,c/l)/(w*t)),p=Math.max(f/m,m/h);x<_;++x){if(u+=s=y[x].value,s<h&&(h=s),s>f&&(f=s),m=u*u*g,(d=Math.max(f/m,m/h))>p){u-=s;break}p=d}v.push(a={value:u,dice:c<l,children:y.slice(b,x)}),a.dice?Vd(a,n,r,i,w?r+=l*u/w:o):tp(a,n,r,w?n+=c*u/w:i,o),w-=u,b=x}return v}var rp=function t(e){function n(t,n,r,i,o){np(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ep),ip=function(){var t=rp,e=!1,n=1,r=1,i=[0],o=Rd,a=Rd,s=Rd,c=Rd,l=Rd;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(Bd),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<u&&(u=f=(u+f)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=l(e)-n,u+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(f-=c(e)-n)<u&&(u=f=(u+f)/2),t(e,r,u,h,f))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=kd(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Od(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Od(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:Od(+t),u):s},u.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:Od(+t),u):c},u.paddingLeft=function(t){return arguments.length?(l="function"==typeof t?t:Od(+t),u):l},u},op=function(t,e,n,r,i){var o,a,s=t.children,c=s.length,l=new Array(c+1);for(l[0]=a=o=0;o<c;++o)l[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,c){if(e>=n-1){var u=s[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=c)}var h=l[e],f=r/2+h,d=e+1,p=n-1;for(;d<p;){var g=d+p>>>1;l[g]<f?d=g+1:p=g}f-l[d-1]<l[d]-f&&e+1<d&&--d;var m=l[d]-h,v=r-m;if(a-i>c-o){var y=(i*v+a*m)/r;t(e,d,m,i,o,y,c),t(d,n,v,y,o,a,c)}else{var b=(o*v+c*m)/r;t(e,d,m,i,o,a,b),t(d,n,v,i,b,a,c)}}(0,c,t.value,e,n,r,i)},ap=function(t,e,n,r,i){(1&t.depth?tp:Vd)(t,e,n,r,i)},sp=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,c,l,u,h=-1,f=a.length,d=t.value;++h<f;){for(c=(s=a[h]).children,l=s.value=0,u=c.length;l<u;++l)s.value+=c[l].value;s.dice?Vd(s,n,r,i,r+=(o-r)*s.value/d):tp(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=np(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ep),cp=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},lp=function(t,e){var n=un(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},up=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},hp=Math.SQRT2;function fp(t){return((t=Math.exp(t))+1/t)/2}var dp=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],c=e[1],l=e[2],u=s-i,h=c-o,f=u*u+h*h;if(f<1e-12)r=Math.log(l/a)/hp,n=function(t){return[i+t*u,o+t*h,a*Math.exp(hp*t*r)]};else{var d=Math.sqrt(f),p=(l*l-a*a+4*f)/(2*a*2*d),g=(l*l-a*a-4*f)/(2*l*2*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/hp,n=function(t){var e,n=t*r,s=fp(m),c=a/(2*d)*(s*(e=hp*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+c*u,o+c*h,a*s/fp(hp*n+m)]}}return n.duration=1e3*r,n};function pp(t){return function(e,n){var r=t((e=en(e)).h,(n=en(n)).h),i=fn(e.s,n.s),o=fn(e.l,n.l),a=fn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var gp=pp(un),mp=pp(fn);function vp(t,e){var n=fn((t=mo(t)).l,(e=mo(e)).l),r=fn(t.a,e.a),i=fn(t.b,e.b),o=fn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function yp(t){return function(e,n){var r=t((e=To(e)).h,(n=To(n)).h),i=fn(e.c,n.c),o=fn(e.l,n.l),a=fn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var bp=yp(un),xp=yp(fn);function _p(t){return function e(n){function r(e,r){var i=t((e=Ro(e)).h,(r=Ro(r)).h),o=fn(e.s,r.s),a=fn(e.l,r.l),s=fn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var wp=_p(un),Sp=_p(fn);function Tp(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var Mp=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Ap=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},Ep=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],c=0;++r<i;)e=s,s=t[r],c+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(c*=3),a/c]};function Cp(t,e){return t[0]-e[0]||t[1]-e[1]}function Lp(t){for(var e,n,r,i=t.length,o=[0,1],a=2,s=2;s<i;++s){for(;a>1&&(e=t[o[a-2]],n=t[o[a-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}var Pp=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Cp),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Lp(r),a=Lp(i),s=a[0]===o[0],c=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;e>=0;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-c;++e)l.push(t[r[a[e]][2]]);return l},kp=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],c=o[0],l=o[1],u=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=l>s&&a<(c-n)*(s-r)/(l-r)+n&&(u=!u),c=n,l=r;return u},Rp=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],c=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],c+=Math.sqrt(e*e+n*n);return c},Op=function(){return Math.random()},Ip=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Op),Dp=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Op),Np=function t(e){function n(){var t=Dp.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Op),Fp=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Op),Gp=function t(e){function n(t){var n=Fp.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Op),Bp=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Op);function Vp(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function zp(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Up=Array.prototype,jp=Up.map,Hp=Up.slice,Wp={name:"implicit"};function Xp(){var t=Ki(),e=[],n=[],r=Wp;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Wp)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Ki();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=Hp.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Xp(e,n).unknown(r)},Vp.apply(i,arguments),i}function Yp(){var t,e,n=Xp().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,c=0,l=.5;function u(){var n=r().length,u=o[1]<o[0],h=o[u-0],f=o[1-u];t=(f-h)/Math.max(1,n-s+2*c),a&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*l,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var d=S(n).map((function(e){return h+t*e}));return i(u?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),u()):s},n.paddingOuter=function(t){return arguments.length?(c=+t,u()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),u()):l},n.copy=function(){return Yp(r(),o).round(a).paddingInner(s).paddingOuter(c).align(l)},Vp.apply(u(),arguments)}function qp(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return qp(e())},t}function Qp(){return qp(Yp.apply(null,arguments).paddingInner(1))}var Zp=function(t){return+t},$p=[0,1];function Kp(t){return t}function Jp(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function tg(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function eg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Jp(i,r),o=n(a,o)):(r=Jp(r,i),o=n(o,a)),function(t){return o(r(t))}}function ng(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Jp(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=l(t,e,1,r)-1;return o[n](i[n](e))}}function rg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ig(){var t,e,n,r,i,o,a=$p,s=$p,c=Ln,l=Kp;function u(){return r=Math.min(a.length,s.length)>2?ng:eg,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,c)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),wn)))(n)))},h.domain=function(t){return arguments.length?(a=jp.call(t,Zp),l===Kp||(l=tg(a)),u()):a.slice()},h.range=function(t){return arguments.length?(s=Hp.call(t),u()):s.slice()},h.rangeRound=function(t){return s=Hp.call(t),c=up,u()},h.clamp=function(t){return arguments.length?(l=t?tg(a):Kp,h):l!==Kp},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function og(t,e){return ig()(t,e)}var ag=function(t,e,n,r){var i,o=L(t,e,n);switch((r=Ys(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=sc(o,a))||(r.precision=i),Ks(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=cc(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=ac(o))||(r.precision=i-2*("%"===r.type))}return $s(r)};function sg(t){var e=t.domain;return t.ticks=function(t){var n=e();return E(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ag(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],c=i[a];return c<s&&(r=s,s=c,c=r,r=o,o=a,a=r),(r=C(s,c,n))>0?r=C(s=Math.floor(s/r)*r,c=Math.ceil(c/r)*r,n):r<0&&(r=C(s=Math.ceil(s*r)/r,c=Math.floor(c*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(c*r)/r,e(i)),t},t}function cg(){var t=og(Kp,Kp);return t.copy=function(){return rg(t,cg())},Vp.apply(t,arguments),sg(t)}function lg(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=jp.call(e,Zp),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return lg(t).unknown(e)},t=arguments.length?jp.call(t,Zp):[0,1],sg(n)}var ug=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function hg(t){return Math.log(t)}function fg(t){return Math.exp(t)}function dg(t){return-Math.log(-t)}function pg(t){return-Math.exp(-t)}function gg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mg(t){return function(e){return-t(-e)}}function vg(t){var e,n,r=t(hg,fg),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?gg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=mg(e),n=mg(n),t(dg,pg)):t(hg,fg),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],c=a[a.length-1];(r=c<s)&&(f=s,s=c,c=f);var l,u,h,f=e(s),d=e(c),p=null==t?10:+t,g=[];if(!(o%1)&&d-f<p){if(f=Math.round(f)-1,d=Math.round(d)+1,s>0){for(;f<d;++f)for(u=1,l=n(f);u<o;++u)if(!((h=l*u)<s)){if(h>c)break;g.push(h)}}else for(;f<d;++f)for(u=o-1,l=n(f);u>=1;--u)if(!((h=l*u)<s)){if(h>c)break;g.push(h)}}else g=E(f,d,Math.min(d-f,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=$s(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(ug(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function yg(){var t=vg(ig()).domain([1,10]);return t.copy=function(){return rg(t,yg()).base(t.base())},Vp.apply(t,arguments),t}function bg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _g(t){var e=1,n=t(bg(e),xg(e));return n.constant=function(n){return arguments.length?t(bg(e=+n),xg(e)):e},sg(n)}function wg(){var t=_g(ig());return t.copy=function(){return rg(t,wg()).constant(t.constant())},Vp.apply(t,arguments)}function Sg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mg(t){return t<0?-t*t:t*t}function Ag(t){var e=t(Kp,Kp),n=1;function r(){return 1===n?t(Kp,Kp):.5===n?t(Tg,Mg):t(Sg(n),Sg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},sg(e)}function Eg(){var t=Ag(ig());return t.copy=function(){return rg(t,Eg()).exponent(t.exponent())},Vp.apply(t,arguments),t}function Cg(){return Eg.apply(null,arguments).exponent(.5)}function Lg(){var t,e=[],n=[],r=[];function o(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=R(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[l(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i),o()},a.range=function(t){return arguments.length?(n=Hp.call(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Lg().domain(e).range(n).unknown(t)},Vp.apply(a,arguments)}function Pg(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[l(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Hp.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Pg().domain([e,n]).range(o).unknown(t)},Vp.apply(sg(a),arguments)}function kg(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[l(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Hp.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Hp.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return kg().domain(e).range(n).unknown(t)},Vp.apply(i,arguments)}var Rg=new Date,Og=new Date;function Ig(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ig((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Rg.setTime(+e),Og.setTime(+r),t(Rg),t(Og),Math.floor(n(Rg,Og))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Dg=Ig((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Dg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ig((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ng=Dg,Fg=Dg.range,Gg=Ig((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Bg=Gg,Vg=Gg.range;function zg(t){return Ig((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Ug=zg(0),jg=zg(1),Hg=zg(2),Wg=zg(3),Xg=zg(4),Yg=zg(5),qg=zg(6),Qg=Ug.range,Zg=jg.range,$g=Hg.range,Kg=Wg.range,Jg=Xg.range,tm=Yg.range,em=qg.range,nm=Ig((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),rm=nm,im=nm.range,om=Ig((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),am=om,sm=om.range,cm=Ig((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),lm=cm,um=cm.range,hm=Ig((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),fm=hm,dm=hm.range,pm=Ig((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));pm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ig((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):pm:null};var gm=pm,mm=pm.range;function vm(t){return Ig((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var ym=vm(0),bm=vm(1),xm=vm(2),_m=vm(3),wm=vm(4),Sm=vm(5),Tm=vm(6),Mm=ym.range,Am=bm.range,Em=xm.range,Cm=_m.range,Lm=wm.range,Pm=Sm.range,km=Tm.range,Rm=Ig((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),Om=Rm,Im=Rm.range,Dm=Ig((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Dm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ig((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Nm=Dm,Fm=Dm.range;function Gm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Vm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function zm(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,l=Jm(i),u=tv(i),h=Jm(o),f=tv(o),d=Jm(a),p=tv(a),g=Jm(s),m=tv(s),v=Jm(c),y=tv(c),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:_v,e:_v,f:Av,g:Fv,G:Bv,H:wv,I:Sv,j:Tv,L:Mv,m:Ev,M:Cv,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:cy,s:ly,S:Lv,u:Pv,U:kv,V:Ov,w:Iv,W:Dv,x:null,X:null,y:Nv,Y:Gv,Z:Vv,"%":sy},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:zv,e:zv,f:Xv,g:ry,G:oy,H:Uv,I:jv,j:Hv,L:Wv,m:Yv,M:qv,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:cy,s:ly,S:Qv,u:Zv,U:$v,V:Jv,w:ty,W:ey,x:null,X:null,y:ny,Y:iy,Z:ay,"%":sy},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return T(t,e,n,r)},d:hv,e:hv,f:vv,g:sv,G:av,H:dv,I:dv,j:fv,L:mv,m:uv,M:pv,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:lv,Q:bv,s:xv,S:gv,u:nv,U:rv,V:iv,w:ev,W:ov,x:function(t,e,r){return T(t,n,e,r)},X:function(t,e,n){return T(t,r,e,n)},y:sv,Y:av,Z:cv,"%":yv};function w(t,e){return function(n){var r,i,o,a=[],s=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(c,s)),null!=(i=Ym[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),c=s+1);return a.push(t.slice(c,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=Vm(1900,void 0,1);if(T(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bm(Vm(o.y,0,1))).getUTCDay(),r=i>4||0===i?bm.ceil(r):bm(r),r=Om.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Gm(Vm(o.y,0,1))).getDay(),r=i>4||0===i?jg.ceil(r):jg(r),r=rm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bm(Vm(o.y,0,1)).getUTCDay():Gm(Vm(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bm(o)):Gm(o)}}function T(t,e,n,r){for(var i,o,a=0,s=e.length,c=n.length;a<s;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in Ym?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}var Um,jm,Hm,Wm,Xm,Ym={"-":"",_:" ",0:"0"},qm=/^\s*\d+/,Qm=/^%/,Zm=/[\\^$*+?|[\]().{}]/g;function $m(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Km(t){return t.replace(Zm,"\\$&")}function Jm(t){return new RegExp("^(?:"+t.map(Km).join("|")+")","i")}function tv(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ev(t,e,n){var r=qm.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function nv(t,e,n){var r=qm.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function rv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function iv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ov(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function av(t,e,n){var r=qm.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function sv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cv(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lv(t,e,n){var r=qm.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function uv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function hv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fv(t,e,n){var r=qm.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gv(t,e,n){var r=qm.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mv(t,e,n){var r=qm.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vv(t,e,n){var r=qm.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yv(t,e,n){var r=Qm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bv(t,e,n){var r=qm.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xv(t,e,n){var r=qm.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _v(t,e){return $m(t.getDate(),e,2)}function wv(t,e){return $m(t.getHours(),e,2)}function Sv(t,e){return $m(t.getHours()%12||12,e,2)}function Tv(t,e){return $m(1+rm.count(Ng(t),t),e,3)}function Mv(t,e){return $m(t.getMilliseconds(),e,3)}function Av(t,e){return Mv(t,e)+"000"}function Ev(t,e){return $m(t.getMonth()+1,e,2)}function Cv(t,e){return $m(t.getMinutes(),e,2)}function Lv(t,e){return $m(t.getSeconds(),e,2)}function Pv(t){var e=t.getDay();return 0===e?7:e}function kv(t,e){return $m(Ug.count(Ng(t)-1,t),e,2)}function Rv(t){var e=t.getDay();return e>=4||0===e?Xg(t):Xg.ceil(t)}function Ov(t,e){return t=Rv(t),$m(Xg.count(Ng(t),t)+(4===Ng(t).getDay()),e,2)}function Iv(t){return t.getDay()}function Dv(t,e){return $m(jg.count(Ng(t)-1,t),e,2)}function Nv(t,e){return $m(t.getFullYear()%100,e,2)}function Fv(t,e){return $m((t=Rv(t)).getFullYear()%100,e,2)}function Gv(t,e){return $m(t.getFullYear()%1e4,e,4)}function Bv(t,e){var n=t.getDay();return $m((t=n>=4||0===n?Xg(t):Xg.ceil(t)).getFullYear()%1e4,e,4)}function Vv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$m(e/60|0,"0",2)+$m(e%60,"0",2)}function zv(t,e){return $m(t.getUTCDate(),e,2)}function Uv(t,e){return $m(t.getUTCHours(),e,2)}function jv(t,e){return $m(t.getUTCHours()%12||12,e,2)}function Hv(t,e){return $m(1+Om.count(Nm(t),t),e,3)}function Wv(t,e){return $m(t.getUTCMilliseconds(),e,3)}function Xv(t,e){return Wv(t,e)+"000"}function Yv(t,e){return $m(t.getUTCMonth()+1,e,2)}function qv(t,e){return $m(t.getUTCMinutes(),e,2)}function Qv(t,e){return $m(t.getUTCSeconds(),e,2)}function Zv(t){var e=t.getUTCDay();return 0===e?7:e}function $v(t,e){return $m(ym.count(Nm(t)-1,t),e,2)}function Kv(t){var e=t.getUTCDay();return e>=4||0===e?wm(t):wm.ceil(t)}function Jv(t,e){return t=Kv(t),$m(wm.count(Nm(t),t)+(4===Nm(t).getUTCDay()),e,2)}function ty(t){return t.getUTCDay()}function ey(t,e){return $m(bm.count(Nm(t)-1,t),e,2)}function ny(t,e){return $m(t.getUTCFullYear()%100,e,2)}function ry(t,e){return $m((t=Kv(t)).getUTCFullYear()%100,e,2)}function iy(t,e){return $m(t.getUTCFullYear()%1e4,e,4)}function oy(t,e){var n=t.getUTCDay();return $m((t=n>=4||0===n?wm(t):wm.ceil(t)).getUTCFullYear()%1e4,e,4)}function ay(){return"+0000"}function sy(){return"%"}function cy(t){return+t}function ly(t){return Math.floor(+t/1e3)}function uy(t){return Um=zm(t),jm=Um.format,Hm=Um.parse,Wm=Um.utcFormat,Xm=Um.utcParse,Um}uy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hy(t){return new Date(t)}function fy(t){return t instanceof Date?+t:+new Date(+t)}function dy(t,e,n,r,i,a,s,c,l){var u=og(Kp,Kp),h=u.invert,f=u.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),v=l("%a %d"),y=l("%b %d"),b=l("%B"),x=l("%Y"),_=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function w(o){return(s(o)<o?d:a(o)<o?p:i(o)<o?g:r(o)<o?m:e(o)<o?n(o)<o?v:y:t(o)<o?b:x)(o)}function S(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,s=o((function(t){return t[2]})).right(_,a);s===_.length?(i=L(n/31536e6,r/31536e6,e),e=t):s?(i=(s=_[a/_[s-1][2]<_[s][2]/a?s-1:s])[1],e=s[0]):(i=Math.max(L(n,r,e),1),e=c)}return null==i?e:e.every(i)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?f(jp.call(t,fy)):f().map(hy)},u.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?w:l(e)},u.nice=function(t,e){var n=f();return(t=S(t,n[0],n[n.length-1],e))?f(ug(n,t)):u},u.copy=function(){return rg(u,dy(t,e,n,r,i,a,s,c,l))},u}var py=function(){return Vp.apply(dy(Ng,Bg,Ug,rm,am,lm,fm,gm,jm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},gy=Ig((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),my=gy,vy=gy.range,yy=Ig((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),by=yy,xy=yy.range,_y=Ig((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),wy=_y,Sy=_y.range,Ty=function(){return Vp.apply(dy(Nm,my,ym,Om,by,wy,fm,gm,Wm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function My(){var t,e,n,r,i,o=0,a=1,s=Kp,c=!1;function l(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,c?Math.max(0,Math.min(1,e)):e))}return l.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(c=!!t,l):c},l.interpolator=function(t){return arguments.length?(s=t,l):s},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function Ay(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ey(){var t=sg(My()(Kp));return t.copy=function(){return Ay(t,Ey())},zp.apply(t,arguments)}function Cy(){var t=vg(My()).domain([1,10]);return t.copy=function(){return Ay(t,Cy()).base(t.base())},zp.apply(t,arguments)}function Ly(){var t=_g(My());return t.copy=function(){return Ay(t,Ly()).constant(t.constant())},zp.apply(t,arguments)}function Py(){var t=Ag(My());return t.copy=function(){return Ay(t,Py()).exponent(t.exponent())},zp.apply(t,arguments)}function ky(){return Py.apply(null,arguments).exponent(.5)}function Ry(){var t=[],e=Kp;function n(n){if(!isNaN(n=+n))return e((l(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,o=0,a=e.length;o<a;++o)null==(r=e[o])||isNaN(r=+r)||t.push(r);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ry(e).domain(t)},zp.apply(n,arguments)}function Oy(){var t,e,n,r,i,o,a,s=0,c=.5,l=1,u=Kp,h=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),u(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(c=+a[1]),n=o(l=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f):[s,c,l]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(u=t,f):u},f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(c),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f}}function Iy(){var t=sg(Oy()(Kp));return t.copy=function(){return Ay(t,Iy())},zp.apply(t,arguments)}function Dy(){var t=vg(Oy()).domain([.1,1,10]);return t.copy=function(){return Ay(t,Dy()).base(t.base())},zp.apply(t,arguments)}function Ny(){var t=_g(Oy());return t.copy=function(){return Ay(t,Ny()).constant(t.constant())},zp.apply(t,arguments)}function Fy(){var t=Ag(Oy());return t.copy=function(){return Ay(t,Fy()).exponent(t.exponent())},zp.apply(t,arguments)}function Gy(){return Fy.apply(null,arguments).exponent(.5)}var By=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},Vy=By("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zy=By("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Uy=By("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),jy=By("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Hy=By("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Wy=By("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Xy=By("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Yy=By("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),qy=By("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Qy=By("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Zy=function(t){return gn(t[t.length-1])},$y=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(By),Ky=Zy($y),Jy=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(By),tb=Zy(Jy),eb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(By),nb=Zy(eb),rb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(By),ib=Zy(rb),ob=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(By),ab=Zy(ob),sb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(By),cb=Zy(sb),lb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(By),ub=Zy(lb),hb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(By),fb=Zy(hb),db=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(By),pb=Zy(db),gb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(By),mb=Zy(gb),vb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(By),yb=Zy(vb),bb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(By),xb=Zy(bb),_b=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(By),wb=Zy(_b),Sb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(By),Tb=Zy(Sb),Mb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(By),Ab=Zy(Mb),Eb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(By),Cb=Zy(Eb),Lb=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(By),Pb=Zy(Lb),kb=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(By),Rb=Zy(kb),Ob=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(By),Ib=Zy(Ob),Db=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(By),Nb=Zy(Db),Fb=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(By),Gb=Zy(Fb),Bb=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(By),Vb=Zy(Bb),zb=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(By),Ub=Zy(zb),jb=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(By),Hb=Zy(jb),Wb=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(By),Xb=Zy(Wb),Yb=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(By),qb=Zy(Yb),Qb=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(By),Zb=Zy(Qb),$b=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},Kb=Sp(Ro(300,.5,0),Ro(-240,.5,1)),Jb=Sp(Ro(-100,.75,.35),Ro(80,1.5,.8)),tx=Sp(Ro(260,.75,.35),Ro(80,1.5,.8)),ex=Ro(),nx=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ex.h=360*t-100,ex.s=1.5-1.5*e,ex.l=.8-.9*e,ex+""},rx=qe(),ix=Math.PI/3,ox=2*Math.PI/3,ax=function(t){var e;return t=(.5-t)*Math.PI,rx.r=255*(e=Math.sin(t))*e,rx.g=255*(e=Math.sin(t+ix))*e,rx.b=255*(e=Math.sin(t+ox))*e,rx+""},sx=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function cx(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var lx=cx(By("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ux=cx(By("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),hx=cx(By("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),fx=cx(By("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),dx=function(t){return Se(re(t).call(document.documentElement))},px=0;function gx(){return new mx}function mx(){this._="@"+(++px).toString(36)}mx.prototype=gx.prototype={constructor:mx,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var vx=function(t){return"string"==typeof t?new xe([document.querySelectorAll(t)],[document.documentElement]):new xe([null==t?[]:t],be)},yx=function(t,e){null==e&&(e=Pn().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=kn(t,e[n]);return i},bx=function(t){return function(){return t}},xx=Math.abs,_x=Math.atan2,wx=Math.cos,Sx=Math.max,Tx=Math.min,Mx=Math.sin,Ax=Math.sqrt,Ex=Math.PI,Cx=Ex/2,Lx=2*Ex;function Px(t){return t>1?0:t<-1?Ex:Math.acos(t)}function kx(t){return t>=1?Cx:t<=-1?-Cx:Math.asin(t)}function Rx(t){return t.innerRadius}function Ox(t){return t.outerRadius}function Ix(t){return t.startAngle}function Dx(t){return t.endAngle}function Nx(t){return t&&t.padAngle}function Fx(t,e,n,r,i,o,a,s){var c=n-t,l=r-e,u=a-i,h=s-o,f=h*c-u*l;if(!(f*f<1e-12))return[t+(f=(u*(e-o)-h*(t-i))/f)*c,e+f*l]}function Gx(t,e,n,r,i,o,a){var s=t-n,c=e-r,l=(a?o:-o)/Ax(s*s+c*c),u=l*c,h=-l*s,f=t+u,d=e+h,p=n+u,g=r+h,m=(f+p)/2,v=(d+g)/2,y=p-f,b=g-d,x=y*y+b*b,_=i-o,w=f*g-p*d,S=(b<0?-1:1)*Ax(Sx(0,_*_*x-w*w)),T=(w*b-y*S)/x,M=(-w*y-b*S)/x,A=(w*b+y*S)/x,E=(-w*y+b*S)/x,C=T-m,L=M-v,P=A-m,k=E-v;return C*C+L*L>P*P+k*k&&(T=A,M=E),{cx:T,cy:M,x01:-u,y01:-h,x11:T*(i/_-1),y11:M*(i/_-1)}}var Bx=function(){var t=Rx,e=Ox,n=bx(0),r=null,i=Ix,o=Dx,a=Nx,s=null;function c(){var c,l,u=+t.apply(this,arguments),h=+e.apply(this,arguments),f=i.apply(this,arguments)-Cx,d=o.apply(this,arguments)-Cx,p=xx(d-f),g=d>f;if(s||(s=c=ji()),h<u&&(l=h,h=u,u=l),h>1e-12)if(p>Lx-1e-12)s.moveTo(h*wx(f),h*Mx(f)),s.arc(0,0,h,f,d,!g),u>1e-12&&(s.moveTo(u*wx(d),u*Mx(d)),s.arc(0,0,u,d,f,g));else{var m,v,y=f,b=d,x=f,_=d,w=p,S=p,T=a.apply(this,arguments)/2,M=T>1e-12&&(r?+r.apply(this,arguments):Ax(u*u+h*h)),A=Tx(xx(h-u)/2,+n.apply(this,arguments)),E=A,C=A;if(M>1e-12){var L=kx(M/u*Mx(T)),P=kx(M/h*Mx(T));(w-=2*L)>1e-12?(x+=L*=g?1:-1,_-=L):(w=0,x=_=(f+d)/2),(S-=2*P)>1e-12?(y+=P*=g?1:-1,b-=P):(S=0,y=b=(f+d)/2)}var k=h*wx(y),R=h*Mx(y),O=u*wx(_),I=u*Mx(_);if(A>1e-12){var D,N=h*wx(b),F=h*Mx(b),G=u*wx(x),B=u*Mx(x);if(p<Ex&&(D=Fx(k,R,G,B,N,F,O,I))){var V=k-D[0],z=R-D[1],U=N-D[0],j=F-D[1],H=1/Mx(Px((V*U+z*j)/(Ax(V*V+z*z)*Ax(U*U+j*j)))/2),W=Ax(D[0]*D[0]+D[1]*D[1]);E=Tx(A,(u-W)/(H-1)),C=Tx(A,(h-W)/(H+1))}}S>1e-12?C>1e-12?(m=Gx(G,B,k,R,h,C,g),v=Gx(N,F,O,I,h,C,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),C<A?s.arc(m.cx,m.cy,C,_x(m.y01,m.x01),_x(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,C,_x(m.y01,m.x01),_x(m.y11,m.x11),!g),s.arc(0,0,h,_x(m.cy+m.y11,m.cx+m.x11),_x(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,C,_x(v.y11,v.x11),_x(v.y01,v.x01),!g))):(s.moveTo(k,R),s.arc(0,0,h,y,b,!g)):s.moveTo(k,R),u>1e-12&&w>1e-12?E>1e-12?(m=Gx(O,I,N,F,u,-E,g),v=Gx(k,R,G,B,u,-E,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),E<A?s.arc(m.cx,m.cy,E,_x(m.y01,m.x01),_x(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,E,_x(m.y01,m.x01),_x(m.y11,m.x11),!g),s.arc(0,0,u,_x(m.cy+m.y11,m.cx+m.x11),_x(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,E,_x(v.y11,v.x11),_x(v.y01,v.x01),!g))):s.arc(0,0,u,_,x,g):s.lineTo(O,I)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ex/2;return[wx(r)*n,Mx(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:bx(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:bx(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:bx(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:bx(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:bx(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c};function Vx(t){this._context=t}Vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var zx=function(t){return new Vx(t)};function Ux(t){return t[0]}function jx(t){return t[1]}var Hx=function(){var t=Ux,e=jx,n=bx(!0),r=null,i=zx,o=null;function a(a){var s,c,l,u=a.length,h=!1;for(null==r&&(o=i(l=ji())),s=0;s<=u;++s)!(s<u&&n(c=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,s,a),+e(c,s,a));if(l)return o=null,l+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:bx(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},Wx=function(){var t=Ux,e=null,n=bx(0),r=jx,i=bx(!0),o=null,a=zx,s=null;function c(c){var l,u,h,f,d,p=c.length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(s=a(d=ji())),l=0;l<=p;++l){if(!(l<p&&i(f=c[l],l,c))===g)if(g=!g)u=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=u;--h)s.point(m[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(m[l]=+t(f,l,c),v[l]=+n(f,l,c),s.point(e?+e(f,l,c):m[l],r?+r(f,l,c):v[l]))}if(d)return s=null,d+""||null}function l(){return Hx().defined(i).curve(a).context(o)}return c.x=function(n){return arguments.length?(t="function"==typeof n?n:bx(+n),e=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),c):t},c.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:bx(+t),c):e},c.y=function(t){return arguments.length?(n="function"==typeof t?t:bx(+t),r=null,c):n},c.y0=function(t){return arguments.length?(n="function"==typeof t?t:bx(+t),c):n},c.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:bx(+t),c):r},c.lineX0=c.lineY0=function(){return l().x(t).y(n)},c.lineY1=function(){return l().x(t).y(r)},c.lineX1=function(){return l().x(e).y(n)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:bx(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c},Xx=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Yx=function(t){return t},qx=function(){var t=Yx,e=Xx,n=null,r=bx(0),i=bx(Lx),o=bx(0);function a(a){var s,c,l,u,h,f=a.length,d=0,p=new Array(f),g=new Array(f),m=+r.apply(this,arguments),v=Math.min(Lx,Math.max(-Lx,i.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/f,o.apply(this,arguments)),b=y*(v<0?-1:1);for(s=0;s<f;++s)(h=g[p[s]=s]=+t(a[s],s,a))>0&&(d+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,l=d?(v-f*b)/d:0;s<f;++s,m=u)c=p[s],u=m+((h=g[c])>0?h*l:0)+b,g[c]={data:a[c],index:s,value:h,startAngle:m,endAngle:u,padAngle:y};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:bx(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:bx(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:bx(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:bx(+t),a):o},a},Qx=$x(zx);function Zx(t){this._curve=t}function $x(t){function e(e){return new Zx(t(e))}return e._curve=t,e}function Kx(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e($x(t)):e()._curve},t}Zx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Jx=function(){return Kx(Hx().curve(Qx))},t_=function(){var t=Wx().curve(Qx),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Kx(n())},delete t.lineX0,t.lineEndAngle=function(){return Kx(r())},delete t.lineX1,t.lineInnerRadius=function(){return Kx(i())},delete t.lineY0,t.lineOuterRadius=function(){return Kx(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e($x(t)):e()._curve},t},e_=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},n_=Array.prototype.slice;function r_(t){return t.source}function i_(t){return t.target}function o_(t){var e=r_,n=i_,r=Ux,i=jx,o=null;function a(){var a,s=n_.call(arguments),c=e.apply(this,s),l=n.apply(this,s);if(o||(o=a=ji()),t(o,+r.apply(this,(s[0]=c,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:bx(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:bx(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function a_(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function s_(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function c_(t,e,n,r,i){var o=e_(e,n),a=e_(e,n=(n+i)/2),s=e_(r,n),c=e_(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],c[0],c[1])}function l_(){return o_(a_)}function u_(){return o_(s_)}function h_(){var t=o_(c_);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var f_={draw:function(t,e){var n=Math.sqrt(e/Ex);t.moveTo(n,0),t.arc(0,0,n,0,Lx)}},d_={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},p_=Math.sqrt(1/3),g_=2*p_,m_={draw:function(t,e){var n=Math.sqrt(e/g_),r=n*p_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},v_=Math.sin(Ex/10)/Math.sin(7*Ex/10),y_=Math.sin(Lx/10)*v_,b_=-Math.cos(Lx/10)*v_,x_={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=y_*n,i=b_*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=Lx*o/5,s=Math.cos(a),c=Math.sin(a);t.lineTo(c*n,-s*n),t.lineTo(s*r-c*i,c*r+s*i)}t.closePath()}},__={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},w_=Math.sqrt(3),S_={draw:function(t,e){var n=-Math.sqrt(e/(3*w_));t.moveTo(0,2*n),t.lineTo(-w_*n,-n),t.lineTo(w_*n,-n),t.closePath()}},T_=Math.sqrt(3)/2,M_=1/Math.sqrt(12),A_=3*(M_/2+1),E_={draw:function(t,e){var n=Math.sqrt(e/A_),r=n/2,i=n*M_,o=r,a=n*M_+n,s=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,c),t.lineTo(-.5*r-T_*i,T_*r+-.5*i),t.lineTo(-.5*o-T_*a,T_*o+-.5*a),t.lineTo(-.5*s-T_*c,T_*s+-.5*c),t.lineTo(-.5*r+T_*i,-.5*i-T_*r),t.lineTo(-.5*o+T_*a,-.5*a-T_*o),t.lineTo(-.5*s+T_*c,-.5*c-T_*s),t.closePath()}},C_=[f_,d_,m_,__,x_,S_,E_],L_=function(){var t=bx(f_),e=bx(64),n=null;function r(){var r;if(n||(n=r=ji()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:bx(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:bx(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},P_=function(){};function k_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R_(t){this._context=t}R_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:k_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:k_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var O_=function(t){return new R_(t)};function I_(t){this._context=t}I_.prototype={areaStart:P_,areaEnd:P_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:k_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var D_=function(t){return new I_(t)};function N_(t){this._context=t}N_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:k_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var F_=function(t){return new N_(t)};function G_(t,e){this._basis=new R_(t),this._beta=e}G_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,c=-1;++c<=n;)r=c/n,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*a),this._beta*e[c]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var B_=function t(e){function n(t){return 1===e?new R_(t):new G_(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function V_(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function z_(t,e){this._context=t,this._k=(1-e)/6}z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:V_(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:V_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var U_=function t(e){function n(t){return new z_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function j_(t,e){this._context=t,this._k=(1-e)/6}j_.prototype={areaStart:P_,areaEnd:P_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:V_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var H_=function t(e){function n(t){return new j_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function W_(t,e){this._context=t,this._k=(1-e)/6}W_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var X_=function t(e){function n(t){return new W_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Y_(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>1e-12){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function q_(t,e){this._context=t,this._alpha=e}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Y_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Q_=function t(e){function n(t){return e?new q_(t,e):new z_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Z_(t,e){this._context=t,this._alpha=e}Z_.prototype={areaStart:P_,areaEnd:P_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Y_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var $_=function t(e){function n(t){return e?new Z_(t,e):new j_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function K_(t,e){this._context=t,this._alpha=e}K_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Y_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var J_=function t(e){function n(t){return e?new K_(t,e):new W_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function tw(t){this._context=t}tw.prototype={areaStart:P_,areaEnd:P_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var ew=function(t){return new tw(t)};function nw(t){return t<0?-1:1}function rw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(nw(o)+nw(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function iw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ow(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function aw(t){this._context=t}function sw(t){this._context=new cw(t)}function cw(t){this._context=t}function lw(t){return new aw(t)}function uw(t){return new sw(t)}function hw(t){this._context=t}function fw(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ow(this,this._t0,iw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ow(this,iw(this,n=rw(this,t,e)),n);break;default:ow(this,this._t0,n=rw(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(sw.prototype=Object.create(aw.prototype)).point=function(t,e){aw.prototype.point.call(this,e,t)},cw.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=fw(t),i=fw(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var dw=function(t){return new hw(t)};function pw(t,e){this._context=t,this._t=e}pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var gw=function(t){return new pw(t,.5)};function mw(t){return new pw(t,0)}function vw(t){return new pw(t,1)}var yw=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},bw=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function xw(t,e){return t[e]}var _w=function(){var t=bx([]),e=bw,n=yw,r=xw;function i(i){var o,a,s=t.apply(this,arguments),c=i.length,l=s.length,u=new Array(l);for(o=0;o<l;++o){for(var h,f=s[o],d=u[o]=new Array(c),p=0;p<c;++p)d[p]=h=[0,+r(i[p],f,p,i)],h.data=i[p];d.key=f}for(o=0,a=e(u);o<l;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:bx(n_.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:bx(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?bw:"function"==typeof t?t:bx(n_.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?yw:t,i):n},i},ww=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}yw(t,e)}},Sw=function(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,c=0,l=t[e[0]].length;c<l;++c)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)},Tw=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}yw(t,e)}},Mw=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,c=0,l=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,f=(h-(u[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}c+=h,l+=f*h}n[a-1][1]+=n[a-1][0]=o,c&&(o-=l/c)}n[a-1][1]+=n[a-1][0]=o,yw(t,e)}},Aw=function(t){var e=t.map(Ew);return bw(t).sort((function(t,n){return e[t]-e[n]}))};function Ew(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}var Cw=function(t){var e=t.map(Lw);return bw(t).sort((function(t,n){return e[t]-e[n]}))};function Lw(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var Pw=function(t){return Cw(t).reverse()},kw=function(t){var e,n,r=t.length,i=t.map(Lw),o=Aw(t),a=0,s=0,c=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],c.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(c)},Rw=function(t){return bw(t).reverse()};var Ow=Date.prototype.toISOString?function(t){return t.toISOString()}:Wm("%Y-%m-%dT%H:%M:%S.%LZ");var Iw=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Xm("%Y-%m-%dT%H:%M:%S.%LZ"),Dw=function(t,e,n){var r=new Hn,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Un():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r)},Nw=function(t){return function(){return t}};function Fw(t){return t[0]}function Gw(t){return t[1]}function Bw(){this._=null}function Vw(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function zw(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Uw(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function jw(t){for(;t.L;)t=t.L;return t}Bw.prototype={constructor:Bw,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=jw(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(zw(this,n),n=(t=n).U),n.C=!1,r.C=!0,Uw(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Uw(this,n),n=(t=n).U),n.C=!1,r.C=!0,zw(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?jw(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,zw(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Uw(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,zw(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Uw(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,zw(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Uw(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Hw=Bw;function Ww(t,e,n,r){var i=[null,null],o=gS.push(i)-1;return i.left=t,i.right=e,n&&Yw(i,t,e,n),r&&Yw(i,e,t,r),dS[t.index].halfedges.push(o),dS[e.index].halfedges.push(o),i}function Xw(t,e,n){var r=[e,n];return r.left=t,r}function Yw(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function qw(t,e,n,r,i){var o,a=t[0],s=t[1],c=a[0],l=a[1],u=0,h=1,f=s[0]-c,d=s[1]-l;if(o=e-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=r-c,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(t[0]=[c+u*f,l+u*d]),h<1&&(t[1]=[c+h*f,l+h*d]),!0)}}}}}function Qw(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,c=t[0],l=t.left,u=t.right,h=l[0],f=l[1],d=u[0],p=u[1],g=(h+d)/2,m=(f+p)/2;if(p===f){if(g<e||g>=r)return;if(h>d){if(c){if(c[1]>=i)return}else c=[g,n];o=[g,i]}else{if(c){if(c[1]<n)return}else c=[g,i];o=[g,n]}}else if(s=m-(a=(h-d)/(p-f))*g,a<-1||a>1)if(h>d){if(c){if(c[1]>=i)return}else c=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(c){if(c[1]<n)return}else c=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(c){if(c[0]>=r)return}else c=[e,a*e+s];o=[r,a*r+s]}else{if(c){if(c[0]<e)return}else c=[r,a*r+s];o=[e,a*e+s]}return t[0]=c,t[1]=o,!0}function Zw(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $w(t,e){return e[+(e.left!==t.site)]}function Kw(t,e){return e[+(e.left===t.site)]}var Jw,tS=[];function eS(){Vw(this),this.x=this.y=this.arc=this.site=this.cy=null}function nS(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],c=r[0]-a,l=r[1]-s,u=o[0]-a,h=o[1]-s,f=2*(c*h-l*u);if(!(f>=-vS)){var d=c*c+l*l,p=u*u+h*h,g=(h*d-l*p)/f,m=(c*p-u*d)/f,v=tS.pop()||new eS;v.arc=t,v.site=i,v.x=g+a,v.y=(v.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,b=pS._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}pS.insert(y,v),y||(Jw=v)}}}}function rS(t){var e=t.circle;e&&(e.P||(Jw=e.N),pS.remove(e),tS.push(e),Vw(e),t.circle=null)}var iS=[];function oS(){Vw(this),this.edge=this.site=this.circle=null}function aS(t){var e=iS.pop()||new oS;return e.site=t,e}function sS(t){rS(t),fS.remove(t),iS.push(t),Vw(t)}function cS(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];sS(t);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<mS&&Math.abs(r-c.circle.cy)<mS;)o=c.P,s.unshift(c),sS(c),c=o;s.unshift(c),rS(c);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<mS&&Math.abs(r-l.circle.cy)<mS;)a=l.N,s.push(l),sS(l),l=a;s.push(l),rS(l);var u,h=s.length;for(u=1;u<h;++u)l=s[u],c=s[u-1],Yw(l.edge,c.site,l.site,i);c=s[0],(l=s[h-1]).edge=Ww(c.site,l.site,null,i),nS(c),nS(l)}function lS(t){for(var e,n,r,i,o=t[0],a=t[1],s=fS._;s;)if((r=uS(s,a)-o)>mS)s=s.L;else{if(!((i=o-hS(s,a))>mS)){r>-mS?(e=s.P,n=s):i>-mS?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){dS[t.index]={site:t,halfedges:[]}}(t);var c=aS(t);if(fS.insert(e,c),e||n){if(e===n)return rS(e),n=aS(e.site),fS.insert(c,n),c.edge=n.edge=Ww(e.site,c.site),nS(e),void nS(n);if(n){rS(e),rS(n);var l=e.site,u=l[0],h=l[1],f=t[0]-u,d=t[1]-h,p=n.site,g=p[0]-u,m=p[1]-h,v=2*(f*m-d*g),y=f*f+d*d,b=g*g+m*m,x=[(m*y-d*b)/v+u,(f*b-g*y)/v+h];Yw(n.edge,l,p,x),c.edge=Ww(l,t,null,x),n.edge=Ww(t,p,null,x),nS(e),nS(n)}else c.edge=Ww(e.site,c.site)}}function uS(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],c=n[1],l=c-e;if(!l)return s;var u=s-r,h=1/o-1/l,f=u/l;return h?(-f+Math.sqrt(f*f-2*h*(u*u/(-2*l)-c+l/2+i-o/2)))/h+r:(r+s)/2}function hS(t,e){var n=t.N;if(n)return uS(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var fS,dS,pS,gS,mS=1e-6,vS=1e-12;function yS(t,e){return e[1]-t[1]||e[0]-t[0]}function bS(t,e){var n,r,i,o=t.sort(yS).pop();for(gS=[],dS=new Array(t.length),fS=new Hw,pS=new Hw;;)if(i=Jw,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(lS(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;cS(i.arc)}if(function(){for(var t,e,n,r,i=0,o=dS.length;i<o;++i)if((t=dS[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Zw(t,gS[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=gS.length;o--;)Qw(i=gS[o],t,e,n,r)&&qw(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>mS||Math.abs(i[0][1]-i[1][1])>mS)||delete gS[o]}(a,s,c,l),function(t,e,n,r){var i,o,a,s,c,l,u,h,f,d,p,g,m=dS.length,v=!0;for(i=0;i<m;++i)if(o=dS[i]){for(a=o.site,s=(c=o.halfedges).length;s--;)gS[c[s]]||c.splice(s,1);for(s=0,l=c.length;s<l;)p=(d=Kw(o,gS[c[s]]))[0],g=d[1],h=(u=$w(o,gS[c[++s%l]]))[0],f=u[1],(Math.abs(p-h)>mS||Math.abs(g-f)>mS)&&(c.splice(s,0,gS.push(Xw(a,d,Math.abs(p-t)<mS&&r-g>mS?[t,Math.abs(h-t)<mS?f:r]:Math.abs(g-r)<mS&&n-p>mS?[Math.abs(f-r)<mS?h:n,r]:Math.abs(p-n)<mS&&g-e>mS?[n,Math.abs(h-n)<mS?f:e]:Math.abs(g-e)<mS&&p-t>mS?[Math.abs(f-e)<mS?h:t,e]:null))-1),++l);l&&(v=!1)}if(v){var y,b,x,_=1/0;for(i=0,v=null;i<m;++i)(o=dS[i])&&(x=(y=(a=o.site)[0]-t)*y+(b=a[1]-e)*b)<_&&(_=x,v=o);if(v){var w=[t,e],S=[t,r],T=[n,r],M=[n,e];v.halfedges.push(gS.push(Xw(a=v.site,w,S))-1,gS.push(Xw(a,S,T))-1,gS.push(Xw(a,T,M))-1,gS.push(Xw(a,M,w))-1)}}for(i=0;i<m;++i)(o=dS[i])&&(o.halfedges.length||delete dS[i])}(a,s,c,l)}this.edges=gS,this.cells=dS,fS=pS=gS=dS=null}bS.prototype={constructor:bS,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return $w(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,c,l,u=n.site,h=-1,f=e[i[o-1]],d=f.left===u?f.right:f.left;++h<o;)a=d,d=(f=e[i[h]]).left===u?f.right:f.left,a&&d&&r<a.index&&r<d.index&&(c=a,l=d,((s=u)[0]-l[0])*(c[1]-s[1])-(s[0]-c[0])*(l[1]-s[1])<0)&&t.push([u.data,a.data,d.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var c=t-i.site[0],l=e-i.site[1],u=c*c+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var c=t-s[0],l=e-s[1],h=c*c+l*l;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}};var xS=function(){var t=Fw,e=Gw,n=null;function r(r){return new bS(r.map((function(n,i){var o=[Math.round(t(n,i,r)/mS)*mS,Math.round(e(n,i,r)/mS)*mS];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Nw(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Nw(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},_S=function(t){return function(){return t}};function wS(t,e,n){this.target=t,this.type=e,this.transform=n}function SS(t,e,n){this.k=t,this.x=e,this.y=n}SS.prototype={constructor:SS,scale:function(t){return 1===t?this:new SS(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new SS(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var TS=new SS(1,0,0);function MS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return TS;return t.__zoom}function AS(){le.stopImmediatePropagation()}MS.prototype=SS.prototype;var ES=function(){le.preventDefault(),le.stopImmediatePropagation()};function CS(){return!le.ctrlKey&&!le.button}function LS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function PS(){return this.__zoom||TS}function kS(){return-le.deltaY*(1===le.deltaMode?.05:le.deltaMode?1:.002)}function RS(){return navigator.maxTouchPoints||"ontouchstart"in this}function OS(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var IS=function(){var t,e,n=CS,r=LS,i=OS,o=kS,a=RS,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,u=dp,h=ht("start","zoom","end"),f=0;function d(t){t.property("__zoom",PS).on("wheel.zoom",x).on("mousedown.zoom",_).on("dblclick.zoom",w).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new SS(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new SS(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",(function(){y(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){y(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=y(t,i),a=r.apply(t,i),s=null==n?m(a):"function"==typeof n?n.apply(t,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,i):e,f=u(l.invert(s).concat(c/l.k),h.invert(s).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=c/e[2];t=new SS(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function y(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=y(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=On(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],sr(this),t.start()}ES(),t.wheel=setTimeout(l,150),t.zoom("mouse",i(g(p(e,r),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function _(){if(!e&&n.apply(this,arguments)){var t=y(this,arguments,!0),r=Se(le.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",u,!0),o=On(this),a=le.clientX,s=le.clientY;Ae(le.view),AS(),t.mouse=[o,this.__zoom.invert(o)],sr(this),t.start()}function l(){if(ES(),!t.moved){var e=le.clientX-a,n=le.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",i(g(t.that.__zoom,t.mouse[0]=On(t.that),t.mouse[1]),t.extent,c))}function u(){r.on("mousemove.zoom mouseup.zoom",null),Ee(le.view,t.moved),ES(),t.end()}}function w(){if(n.apply(this,arguments)){var t=this.__zoom,e=On(this),o=t.invert(e),a=t.k*(le.shiftKey?.5:2),s=i(g(p(t,a),e,o),r.apply(this,arguments),c);ES(),l>0?Se(this).transition().duration(l).call(v,s,e):Se(this).call(d.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,o,a=le.touches,s=a.length,c=y(this,arguments,le.changedTouches.length===s);for(AS(),r=0;r<s;++r)i=a[r],o=[o=Rn(this,a,i.identifier),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,e=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(c.taps<2&&(t=setTimeout((function(){t=null}),500)),sr(this),c.start())}}function T(){if(this.__zooming){var e,n,r,o,a=y(this,arguments),s=le.changedTouches,l=s.length;for(ES(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<l;++e)n=s[e],r=Rn(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],m=(m=f[0]-u[0])*m+(m=f[1]-u[1])*m,v=(v=d[0]-h[0])*v+(v=d[1]-h[1])*v;n=p(n,Math.sqrt(m/v)),r=[(u[0]+f[0])/2,(u[1]+f[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(g(n,r,o),a.extent,c))}}function M(){if(this.__zooming){var t,n,r=y(this,arguments),i=le.changedTouches,o=i.length;for(AS(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Se(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",PS),t!==r?v(t,e,n):r.interrupt().each((function(){y(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},d.scaleBy=function(t,e,n){d.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},d.scaleTo=function(t,e,n){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),l="function"==typeof e?e.apply(this,arguments):e;return i(g(p(o,l),a,s),t,c)}),n)},d.translateBy=function(t,e,n){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}))},d.translateTo=function(t,e,n,o){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(TS.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),o)},b.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){ge(new wS(d,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:_S(+t),d):o},d.filter=function(t){return arguments.length?(n="function"==typeof t?t:_S(!!t),d):n},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:_S(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:_S([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],d):[s[0],s[1]]},d.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],d):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(l=+t,d):l},d.interpolate=function(t){return arguments.length?(u=t,d):u},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,d):Math.sqrt(f)},d}},function(t,e,n){"use strict";n.r(e);n(58),n(4),n(7),n(5),n(2),n(3),n(6);var r=n(0),i=n.n(r);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===o(a)?a:String(a)),r)}var i,a}var s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.beforeEnter((function(t){e.run(t)}))}var e,n,r;return e=t,(n=[{key:"run",value:function(t){var e=document.head,n=t.next.html.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],r=document.createElement("head");r.innerHTML=n;for(var i=["meta[name='keywords']","meta[name='description']","meta[property^='og']","meta[name^='twitter']","meta[itemprop]","link[itemprop]","link[rel='prev']","link[rel='next']","link[rel='canonical']"].join(","),o=e.querySelectorAll(i),a=0;a<o.length;a++)e.removeChild(o[a]);for(var s=r.querySelectorAll(i),c=0;c<s.length;c++)e.appendChild(s[c])}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===c(o)?o:String(o)),r)}var i,o}function u(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var h=u((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.after((function(t){"function"==typeof ga&&(ga("set","page",window.location.pathname),ga("send","pageview")),"function"==typeof gtag&&gtag("config",window.GA_MEASUREMENT_ID,{page_path:window.location.pathname})}))}));n(24);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==f(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===f(o)?o:String(o)),r)}var i,o}var p=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.beforeOnce((function(t){e.fixSvgIntrinsicSizing(),window.addEventListener("resize",e.fixSvgIntrinsicSizing,!1)})),i.a.hooks.after((function(t){e.fixSvgIntrinsicSizing()}))}var e,n,r;return e=t,(n=[{key:"fixSvgIntrinsicSizing",value:function(){var t,e;if(t=window,(e=document).documentMode){var n=e.querySelectorAll("svg[viewBox]");if(n.length>0)for(var r,i,o,a,s=0,c=n.length;s<c;s++)r=n[s],/noFixSvgIntrinsicSizing/.test(r.className.baseVal)||(r.hasAttribute("preserveAspectRatio")&&/slice/.test(r.getAttribute("preserveAspectRatio"))&&(r.style.overflow="hidden"),o=t.getComputedStyle(r,"").width,a=t.getComputedStyle(r,"").height,r.style.width="",r.style.height="","150px"!==(i=t.getComputedStyle(r,"").height)?(r.style.width=o,r.style.height=a):(i=t.getComputedStyle(r,"").width,(o=1*/([0-9.]+)px/.exec(i)[1])*(a=this.getAspect(r.getAttribute("viewBox")))>e.documentElement.offsetHeight&&(r.style.height=o*a+"px",i=t.getComputedStyle(r,"").width,o=1*/([0-9.]+)px/.exec(i)[1]),r.style.width=i,r.style.height=o*a+"px"))}}},{key:"getAspect",value:function(t){return(t=t.split(" "))&&t[3]/t[2]}}])&&d(e.prototype,n),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(128),n(20);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===g(o)?o:String(o)),r)}var i,o}var v=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.TypekitId=!1,this.Resources={css:[],js:[]},i.a.hooks.beforeOnce((function(t){e.loadResources(),e.TypekitId&&e.initTypeKit()}))}var e,n,r;return e=t,(n=[{key:"loadResources",value:function(){var t,e,n=document.head,r=document.body,i=window.location,o=this.strCount(i.pathname,"/"),a=this.getDir(i,o);if(a){var s=new RegExp("^(http|https)://");if(this.Resources.css.length>0)for(var c=0;c<this.Resources.css.length;c++)if(""!=this.Resources.css[c]){var l=void 0;l=this.Resources.css[c].match(s)?this.Resources.css[c]:a+this.Resources.css[c],(t=document.createElement("link")).setAttribute("rel","stylesheet"),t.setAttribute("href",l),n.appendChild(t)}if(this.Resources.js.length>0)for(var u=0;u<this.Resources.js.length;u++){var h;""!=this.Resources.js[u]&&(h=this.Resources.js[u].match(s)?this.Resources.js[u]:a+this.Resources.js[u],(e=document.createElement("script")).setAttribute("type","text/javascript"),e.setAttribute("src",h),r.appendChild(e))}}}},{key:"initTypeKit",value:function(){var t,e,n,r,i,o,a,s;t=document,n={kitId:TypekitId,scriptTimeout:3e3,async:!0},r=t.documentElement,i=setTimeout((function(){r.className=r.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"}),n.scriptTimeout),o=t.createElement("script"),a=!1,s=t.getElementsByTagName("script")[0],r.className+=" wf-loading",o.src="https://use.typekit.net/"+n.kitId+".js",o.async=!0,o.onload=o.onreadystatechange=function(){if(e=this.readyState,!(a||e&&"complete"!=e&&"loaded"!=e)){a=!0,clearTimeout(i);try{Typekit.load(n)}catch(t){return}}},s.parentNode.insertBefore(o,s)}},{key:"strCount",value:function(t,e){return(t.match(new RegExp(e,"g"))||[]).length}},{key:"getDir",value:function(t,e){return t.pathname.replace(new RegExp("(?:/+[^/]*){0,"+((e||0)+1)+"}$"),"/")}}])&&m(e.prototype,n),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===y(o)?o:String(o)),r)}var i,o}var x=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.beforeOnce((function(t){e.share()})),i.a.hooks.beforeEnter((function(t){e.share()}))}var e,n,r;return e=t,(n=[{key:"share",value:function(){var t=this;this.shareTws=document.querySelectorAll("[data-share-tw]"),this.shareFbs=document.querySelectorAll("[data-share-fb]"),this.shareTws.length>0&&this.shareTws.forEach((function(e){t.open(e,"TWwindow",650,300)})),this.shareFbs.length>0&&this.shareFbs.forEach((function(e){t.open(e,"FBwindow",650,450)}))}},{key:"open",value:function(t,e,n,r){if(t){var i=t.getAttribute("data-name")?t.getAttribute("data-name"):e,o=t.getAttribute("data-width")?t.getAttribute("data-width"):n,a=t.getAttribute("data-height")?t.getAttribute("data-height"):r,s=t.getAttribute("data-x")?t.getAttribute("data-x"):60,c=t.getAttribute("data-y")?t.getAttribute("data-y"):60;t.addEventListener("click",(function(e){return e.preventDefault(),window.open(t.href,i,"width="+o+", height="+a+",left="+s+", top="+c+", menubar=no, toolbar=no, scrollbars=yes"),!1}),!0)}}}])&&b(e.prototype,n),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==_(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===_(o)?o:String(o)),r)}var i,o}var S=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.beforeOnce((function(t){e.window()})),i.a.hooks.beforeEnter((function(t){e.window()}))}var e,n,r;return e=t,(n=[{key:"window",value:function(){var t=this;this.windowOpens=document.querySelectorAll("[data-window-open]"),this.windowCloses=document.querySelectorAll("[data-window-close]"),this.windowOpens.length>0&&this.windowOpens.forEach((function(e){t.open(e,"ExWindow",650,800)})),this.windowCloses.length>0&&this.windowCloses.forEach((function(e){t.close(e)}))}},{key:"open",value:function(t,e,n,r){if(t){var i=t.getAttribute("data-name")?t.getAttribute("data-name"):e,o=t.getAttribute("data-width")?t.getAttribute("data-width"):n,a=t.getAttribute("data-height")?t.getAttribute("data-height"):r,s=t.getAttribute("data-x")?t.getAttribute("data-x"):60,c=t.getAttribute("data-y")?t.getAttribute("data-y"):60;t.addEventListener("click",(function(e){return e.preventDefault(),window.open(t.href,i,"width="+o+", height="+a+",left="+s+", top="+c+", menubar=no, toolbar=no, scrollbars=yes"),!1}),!1)}}},{key:"close",value:function(t){t.addEventListener("click",(function(t){window.open("about:blank","_self").close()}),!1)}}])&&w(e.prototype,n),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E,C,L,P,k,R=(E=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],C=function(){function t(e){var n=e.targetModal,r=e.triggers,i=void 0===r?[]:r,o=e.onShow,a=void 0===o?function(){}:o,s=e.onClose,c=void 0===s?function(){}:s,l=e.openTrigger,u=void 0===l?"data-micromodal-trigger":l,h=e.closeTrigger,f=void 0===h?"data-micromodal-close":h,d=e.openClass,p=void 0===d?"is-open":d,g=e.disableScroll,m=void 0!==g&&g,v=e.disableFocus,y=void 0!==v&&v,b=e.awaitCloseAnimation,x=void 0!==b&&b,_=e.awaitOpenAnimation,w=void 0!==_&&_,S=e.debugMode,T=void 0!==S&&S;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=document.getElementById(n),this.config={debugMode:T,disableScroll:m,openTrigger:u,closeTrigger:f,openClass:p,onShow:a,onClose:c,awaitCloseAnimation:x,awaitOpenAnimation:w,disableFocus:y},i.length>0&&this.registerTriggers.apply(this,M(i)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}var e,n;return e=t,(n=[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.filter(Boolean).forEach((function(e){e.addEventListener("click",(function(e){return t.showModal(e)}))}))}},{key:"showModal",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add(this.config.openClass),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.awaitOpenAnimation){var n=function e(){t.modal.removeEventListener("animationend",e,!1),t.setFocusToFirstNode()};this.modal.addEventListener("animationend",n,!1)}else this.setFocusToFirstNode();this.config.onShow(this.modal,this.activeElement,e)}},{key:"closeModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.modal;if(this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement&&this.activeElement.focus&&this.activeElement.focus(),this.config.onClose(this.modal,this.activeElement,t),this.config.awaitCloseAnimation){var n=this.config.openClass;this.modal.addEventListener("animationend",(function t(){e.classList.remove(n),e.removeEventListener("animationend",t,!1)}),!1)}else e.classList.remove(this.config.openClass)}},{key:"closeModalById",value:function(t){this.modal=document.getElementById(t),this.modal&&this.closeModal()}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:""});break;case"disable":Object.assign(e.style,{overflow:"hidden"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){(t.target.hasAttribute(this.config.closeTrigger)||t.target.parentNode.hasAttribute(this.config.closeTrigger))&&(t.preventDefault(),t.stopPropagation(),this.closeModal(t))}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.retainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(E);return Array.apply(void 0,M(t))}},{key:"setFocusToFirstNode",value:function(){var t=this;if(!this.config.disableFocus){var e=this.getFocusableNodes();if(0!==e.length){var n=e.filter((function(e){return!e.hasAttribute(t.config.closeTrigger)}));n.length>0&&n[0].focus(),0===n.length&&e[0].focus()}}}},{key:"retainFocus",value:function(t){var e=this.getFocusableNodes();if(0!==e.length)if(e=e.filter((function(t){return null!==t.offsetParent})),this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),!t.shiftKey&&e.length>0&&n===e.length-1&&(e[0].focus(),t.preventDefault())}else e[0].focus()}}])&&T(e.prototype,n),t}(),L=null,P=function(t){if(!document.getElementById(t))return console.warn("MicroModal: Seems like you have missed %c'".concat(t,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(t,'"></div>')),!1},k=function(t,e){if(function(t){t.length<=0&&(console.warn("MicroModal: Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>'))}(t),!e)return!0;for(var n in e)P(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=M(document.querySelectorAll("[".concat(e.openTrigger,"]"))),r=function(t,e){var n=[];return t.forEach((function(t){var r=t.attributes[e].value;void 0===n[r]&&(n[r]=[]),n[r].push(t)})),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==k(n,r))for(var i in r){var o=r[i];e.targetModal=i,e.triggers=M(o),L=new C(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===P(t)||(L&&L.removeEventListeners(),(L=new C(n)).showModal())},close:function(t){t?L.closeModalById(t):L.closeModal()}});"undefined"!=typeof window&&(window.MicroModal=R);var O=R,I=n(1);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==D(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===D(o)?o:String(o)),r)}var i,o}var F=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.drawerLinks=[],this.opened=!1,this.isDrawerLinkClicked=!1,this.opening_class="drawer-opening",this.opened_class="drawer-opened",this.closing_class="drawer-closing",this.hamburger_id="js-hamburger",this.drawer_id="js-drawer",this.drawer_link_class="[data-drawer-links]",this.drawer_items="[data-drawer]",this.drawer_str_class="l-drawer__nav--str",i.a.hooks.once((function(t){e.init()}))}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;this.body=document.body,this.hamburger=document.querySelector("#"+this.hamburger_id),this.drawer=document.querySelector("#"+this.drawer_id),this.drawer&&(this.drawerLinks=this.drawer.querySelectorAll(this.drawer_link_class),this.hamburger&&this.hamburger.addEventListener("click",(function(e){t.drawerClick(e)})),this.drawerLinks&&this.drawerLinks.length>0&&this.drawerLinks.forEach((function(e){t.drawerRemoveClass(e)})),this.nowImage="",this.drawerHoverItems=this.drawer.querySelectorAll(this.drawer_items),this.drawerHoverItems.length>0&&this.drawerHoverItems.forEach((function(e){e.addEventListener("mouseenter",(function(){var n=e.getAttribute("data-drawer"),r=document.querySelector('[data-drawer-image="'+n+'"]'),i=document.querySelectorAll("[data-drawer-image]");i.length>0&&i.forEach((function(t){t.classList.remove("-active")})),r&&(r.classList.add("-active"),t.nowImage=n)}))})))}},{key:"drawerClick",value:function(t){this.drawerToggleClass()}},{key:"drawerToggleClass",value:function(){this.drawer.classList.contains("is-open")?this.close():this.open()}},{key:"drawerRemoveClass",value:function(t){var e=this;t.addEventListener("click",(function(){e.isDrawerLinkClicked=!0,window.isDrawerLinkClicked=!0,e.close()}))}},{key:"open",value:function(){var t=this;O.show(this.drawer_id,{onShow:function(){document.querySelector("#js-drawer .modal__container").scrollTop=0,window.LocomotiveScroll.stop(),I.a.to('[data-barba="container"]',{opacity:0})},onClose:function(){window.LocomotiveScroll.start(),document.querySelector("#js-hamburger").setAttribute("aria-expanded",!1),t.isDrawerLinkClicked||I.a.to('[data-barba="container"]',{opacity:1,duration:1,onComplete:function(){document.querySelector('[data-barba="container"]').removeAttribute("style"),window.isDrawerLinkClicked=!1}}),t.isDrawerLinkClicked=!1},disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!0,awaitCloseAnimation:!0}),this.hamburger.setAttribute("aria-expanded",!0)}},{key:"close",value:function(){this.hamburger.setAttribute("aria-expanded",!1),O.close(this.drawer_id)}}])&&N(e.prototype,n),r&&N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),G=(n(26),n(110)),B=n.n(G);n(131);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===V(o)?o:String(o)),r)}var i,o}var U=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onError=!1,this.ajaxZipUrl="https://ajaxzip3.github.io/ajaxzip3.js",this.form_class=".mw_wp_form.mw_wp_form_input",this.form_confirm_class=".mw_wp_form.mw_wp_form_confirm",i.a.hooks.beforeOnce((function(t){e.agree()})),i.a.hooks.once((function(t){e.disabled_ime(),e.fileInput(),e.require()})),i.a.hooks.afterOnce((function(t){e.appendApi(),e.zip()})),i.a.hooks.enter((function(t){e.disabled_ime(),e.fileInput(),e.require()})),i.a.hooks.after((function(t){e.zip()}))}var e,n,r;return e=t,(n=[{key:"agree",value:function(){var t=document.querySelector(this.form_confirm_class+" #agree-check");t&&(t.checked=!0)}},{key:"disabled_ime",value:function(){if(document.querySelector(this.form_class)){var t=document.querySelectorAll(this.form_class+" [data-alpha-numeric] input");t.forEach((function(t){t.setAttribute("style","ime-mode:disabled"),t.addEventListener("blur",(function(){t.value=t.value.replace(/[---]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)-65248)}))}))}))}}},{key:"require",value:function(){var t=this,e=!0,n=document.querySelector(this.form_class);if(document.addEventListener("invalid",(function(e){e.target.classList.add("is-invalid"),t.onError||(B()({text:"",duration:3e3,gravity:"bottom",position:"center",stopOnFocus:!0,style:{background:"rgba(246,37,37,.8)",boxShadow:"none"}}).showToast(),t.onError=!0)}),!0),n){var r=document.querySelector(this.form_class+' input[type="submit"]'),i=document.querySelectorAll(this.form_class+" [data-required]"),o=document.querySelectorAll(this.form_class+" [data-required-any]"),a=document.querySelectorAll(this.form_class+" [data-required-all]");i.length>0&&i.forEach((function(t){var e=t.querySelector("input");e&&("email"==e.getAttribute("type")&&e.setAttribute("pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$"),e.setAttribute("required",!0));var n=t.querySelector("select");n&&n.setAttribute("required",!0);var r=t.querySelector("textarea");r&&r.setAttribute("required",!0)})),o.length>0&&(o.forEach((function(t){var e=t.querySelectorAll("input");e.length>0&&e.forEach((function(t){"email"==t.getAttribute("type")&&t.setAttribute("pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$"),t.setAttribute("required",!0)}));var n=t.querySelectorAll("select");n.length>0&&n.forEach((function(t){t.setAttribute("required",!0)}));var r=t.querySelectorAll("textarea");r.length>0&&r.forEach((function(t){t.setAttribute("required",!0)}))})),a.forEach((function(t){var e=t.querySelectorAll("input");e.length>0&&e.forEach((function(t){t.setAttribute("required",!0)}));var n=t.querySelectorAll("select");n.length>0&&n.forEach((function(t){t.setAttribute("required",!0)}));var r=t.querySelectorAll("textarea");r.length>0&&r.forEach((function(t){t.setAttribute("required",!0)}))}))),r.addEventListener("click",(function(r){t.onError=!1;var i=document.querySelectorAll(".is-invalid");return i.length>0&&i.forEach((function(t){return t.classList.remove("is-invalid")})),o.forEach((function(t){var n=t.querySelectorAll("input"),r=t.querySelectorAll("select"),i=t.querySelectorAll("textarea"),o=n.filter((function(t){if("hidden"!==t.getAttribute("type"))return"radio"==t.getAttribute("type")||"checkbox"==t.getAttribute("type")?t.checked:""!=t.value})),a=r.filter((function(t){return""!=t.value})),s=i.filter((function(t){return""!=t.value}));o.length>0?n.forEach((function(t){t.removeAttribute("required")})):n.forEach((function(t){t.setAttribute("required",!0)})),a.length>0?r.forEach((function(t){t.removeAttribute("required")})):r.forEach((function(t){t.setAttribute("required",!0)})),s.length>0?i.forEach((function(t){t.removeAttribute("required")})):i.forEach((function(t){t.setAttribute("required",!0)})),e=!(o.length>0&&a.length>0&&s.length>0)})),e||n.submit(),!1}))}}},{key:"zip",value:function(){var t=document.querySelector(this.form_class+" [data-zip]");if(t){var e=document.querySelector("#"+t.getAttribute("data-zip")),n=t.getAttribute("data-address");e.addEventListener("blur",(function(){AjaxZip3.zip2addr(e,"",n,n)}))}}},{key:"fileInput",value:function(){var t=document.querySelectorAll(this.form_class+" [data-file-input]"),e=function(t){var e=t.split(/\\|\\/);return e[e.length-1]};t.length>0&&t.forEach((function(t){var n=document.querySelector("#"+t.getAttribute("for"));n.setAttribute("data-default-value",t.innerText),n.addEventListener("change",(function(){!function(t,n){var r=e(n.value);t.innerText=""!=r?r:n.getAttribute("data-default-value")}(t,n)}))}))}},{key:"appendApi",value:function(){var t=document.createElement("script");t.setAttribute("src",this.ajaxZipUrl),document.body.appendChild(t)}}])&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===j(o)?o:String(o)),r)}var i,o}var W=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.once((function(t){e.init()})),i.a.hooks.after((function(t){e.init()}))}var e,r,o;return e=t,(r=[{key:"init",value:function(){if(n(134),"function"==typeof refreshFsLightbox){var t=document.querySelectorAll('.c-blog__single--body a[href$=".jpg"],.c-blog__single--body a[href$=".jpeg"],.c-blog__single--body a[href$=".gif"],.c-blog__single--body a[href$=".png"]');t.length>0&&t.forEach((function(t){t.setAttribute("data-fslightbox","gallery")})),refreshFsLightbox()}}}])&&H(e.prototype,r),o&&H(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==X(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===X(o)?o:String(o)),r)}var i,o}var q=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.afterOnce((function(t){t.next.container.querySelector("#p-company")&&e.init(t.next.container)})),i.a.hooks.after((function(t){t.next.container.querySelector("#p-company")&&e.init(t.next.container)}))}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this,n=t.querySelectorAll("[data-staff-model-trigger]");n.length>0&&n.forEach((function(t){t.addEventListener("click",(function(n){n.preventDefault(),e.open(t)}))}))}},{key:"open",value:function(t){var e=document.querySelector("#js-staff-modal-content");O.show("js-staff-modal",{onShow:function(){var n=t.getAttribute("data-staff-model-trigger"),r=document.querySelector(n);r&&(e.innerHTML=r.innerHTML)},onClose:function(){e.innerHTML=""},disableScroll:!0,disableFocus:!0,awaitOpenAnimation:!0,awaitCloseAnimation:!0})}},{key:"close",value:function(){O.close("js-staff-modal")}}])&&Y(e.prototype,n),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Q=(n(34),n(11));function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Z(o)?o:String(o)),r)}var i,o}I.a.registerPlugin(Q.a);var K=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isInit=!1,i.a.hooks.once((function(t){e.isInit=!0,e.init(t.next.container);var n=document.querySelectorAll("[data-scroll-trigger]");n.length>0&&n.forEach((function(t){t.classList.remove("-visible")}))})),i.a.hooks.afterEnter((function(t){if("back"===t.trigger||"forward"===t.trigger){var n=document.querySelectorAll("[data-scroll-trigger]");n.length>0&&n.forEach((function(t){t.classList.add("-visible")}))}else e.isInit&&e.init(t.next.container)}))}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this,n=document.querySelectorAll('[data-scroll-trigger="js-scroll-to-strs"]');n.length>0&&n.forEach((function(t){var e=t.textContent.split(""),n="";e.map((function(t){n+="<span data-str-animation>"+t+"</span>"})),t.setAttribute("aria-label",t.textContent),t.innerHTML=n}));var r=!1;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&function(t){if("js-scroll-to-strs"==t.getAttribute("data-scroll-trigger")){if(!r){var e=t.querySelectorAll("[data-str-animation]");I.a.fromTo(e,{y:"100%"},{y:"0%",ease:"power4.easeOut",stagger:{each:.024},onComplete:function(){t.classList.add("-visible"),r=!0}})}}else t.classList.contains("-visible")||t.classList.add("-visible")}(t.target)}))}),{rootMargin:"0px 0px -20% 0px",threshold:0});var i=t.querySelectorAll("[data-scroll-trigger]");i.length>0&&i.forEach((function(t){e.observer.observe(t)}))}}])&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),J=(n(94),n(80)),tt=n.n(J);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===et(o)?o:String(o)),r)}var i,o}var rt=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.running=!1,this.SmoothScroll,this.options={ignore:"[data-scroll-ignore]",header:"[data-header]",speed:1e3,offset:0,easing:"easeInOutCubic",updateURL:!1},i.a.hooks.afterOnce((function(t){e.SmoothScroll=new tt.a,e.scroll()})),i.a.hooks.leave((function(t){e.SmoothScroll.destroy()})),i.a.hooks.enter((function(t){e.SmoothScroll=new tt.a})),i.a.hooks.after((function(t){e.scroll()}))}var e,n,r;return e=t,(n=[{key:"scroll",value:function(){var t=this,e=function(e){document.addEventListener("scrollStart",(function(){t.running=!0}),!1),document.addEventListener("scrollStop",(function(){t.running=!1}),!1),e.addEventListener("click",(function(n){var r=e;if(r&&"a"===r.tagName.toLowerCase()){var i=window.location.protocol+"//"+window.location.host;if(r.href.startsWith(i)){var o=r.hash.replace(/^#/,""),a=document.getElementById(o);if(a&&!r.getAttribute("data-scroll-ignore")&&location.protocol+"//"+location.host+location.pathname===r.href.replace(/#.*$/,"")){if(n.preventDefault(),t.running)return t.SmoothScroll.cancelScroll(),!1;window.LocomotiveScroll.scrollTo(a)}}}}),!1)},n=document.querySelectorAll('a[href*="#"]');if(n.length>0)for(var r=0;r<n.length;r++)e(n[r])}}])&&nt(e.prototype,n),r&&nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(35),n(21),n(8),n(56),n(45);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t){return null!==t&&"object"===it(t)&&"constructor"in t&&t.constructor===Object}function at(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(n){void 0===t[n]?t[n]=e[n]:ot(e[n])&&ot(t[n])&&Object.keys(e[n]).length>0&&at(t[n],e[n])}))}var st={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ct(){var t="undefined"!=typeof document?document:{};return at(t,st),t}var lt={document:st,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function ut(){var t="undefined"!=typeof window?window:{};return at(t,lt),t}n(101),n(57),n(138),n(140);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t){return function(t){if(Array.isArray(t))return dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ht(o)?o:String(o)),r)}var i,o}function gt(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mt(t)}function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t){var e="function"==typeof Map?new Map:void 0;return(vt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return yt(t,arguments,_t(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),xt(r,t)})(t)}function yt(t,e,n){return(yt=bt()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&xt(i,n.prototype),i}).apply(null,arguments)}function bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function xt(t,e){return(xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}(s,t);var e,n,r,i,o,a=(e=s,n=bt(),function(){var t,r=_t(e);if(n){var i=_t(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return gt(this,t)});function s(t){var e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),"number"==typeof t?e=a.call(this,t):(e=a.call.apply(a,[this].concat(ft(t||[]))),n=mt(e),r=n.__proto__,Object.defineProperty(n,"__proto__",{get:function(){return r},set:function(t){r.__proto__=t}})),gt(e)}return r=s,i&&pt(r.prototype,i),o&&pt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r}(vt(Array));function St(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return t.forEach((function(t){Array.isArray(t)?e.push.apply(e,ft(St(t))):e.push(t)})),e}function Tt(t,e){return Array.prototype.filter.call(t,e)}function Mt(t,e){var n=ut(),r=ct(),i=[];if(!e&&t instanceof wt)return t;if(!t)return new wt(i);if("string"==typeof t){var o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var a="div";0===o.indexOf("<li")&&(a="ul"),0===o.indexOf("<tr")&&(a="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(a="tr"),0===o.indexOf("<tbody")&&(a="table"),0===o.indexOf("<option")&&(a="select");var s=r.createElement(a);s.innerHTML=o;for(var c=0;c<s.childNodes.length;c+=1)i.push(s.childNodes[c])}else i=function(t,e){if("string"!=typeof t)return[t];for(var n=[],r=e.querySelectorAll(t),i=0;i<r.length;i+=1)n.push(r[i]);return n}(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof wt)return t;i=t}return new wt(function(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(i))}Mt.fn=wt.prototype;var At="resize scroll".split(" ");function Et(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)At.indexOf(t)<0&&(t in this[i]?this[i][t]():Mt(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(n))}}Et("click"),Et("blur"),Et("focus"),Et("focusin"),Et("focusout"),Et("keyup"),Et("keydown"),Et("keypress"),Et("submit"),Et("change"),Et("mousedown"),Et("mousemove"),Et("mouseup"),Et("mouseenter"),Et("mouseleave"),Et("mouseout"),Et("mouseover"),Et("touchstart"),Et("touchend"),Et("touchmove"),Et("resize"),Et("scroll");var Ct={addClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=St(e.map((function(t){return t.split(" ")})));return this.forEach((function(t){var e;(e=t.classList).add.apply(e,ft(r))})),this},removeClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=St(e.map((function(t){return t.split(" ")})));return this.forEach((function(t){var e;(e=t.classList).remove.apply(e,ft(r))})),this},hasClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=St(e.map((function(t){return t.split(" ")})));return Tt(this,(function(t){return r.filter((function(e){return t.classList.contains(e)})).length>0})).length>0},toggleClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=St(e.map((function(t){return t.split(" ")})));this.forEach((function(t){r.forEach((function(e){t.classList.toggle(e)}))}))},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?"".concat(t,"ms"):t;return this},on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];function s(t){var e=t.target;if(e){var n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),Mt(e).is(i))o.apply(e,n);else for(var r=Mt(e).parents(),a=0;a<r.length;a+=1)Mt(r[a]).is(i)&&o.apply(r[a],n)}}function c(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),o.apply(this,e)}"function"==typeof e[1]&&(r=e[0],o=e[1],a=e[2],i=void 0),a||(a=!1);for(var l,u=r.split(" "),h=0;h<this.length;h+=1){var f=this[h];if(i)for(l=0;l<u.length;l+=1){var d=u[l];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[d]||(f.dom7LiveListeners[d]=[]),f.dom7LiveListeners[d].push({listener:o,proxyListener:s}),f.addEventListener(d,s,a)}else for(l=0;l<u.length;l+=1){var p=u[l];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:o,proxyListener:c}),f.addEventListener(p,c,a)}}return this},off:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];"function"==typeof e[1]&&(r=e[0],o=e[1],a=e[2],i=void 0),a||(a=!1);for(var s=r.split(" "),c=0;c<s.length;c+=1)for(var l=s[c],u=0;u<this.length;u+=1){var h=this[u],f=void 0;if(!i&&h.dom7Listeners?f=h.dom7Listeners[l]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[l]),f&&f.length)for(var d=f.length-1;d>=0;d-=1){var p=f[d];o&&p.listener===o||o&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===o?(h.removeEventListener(l,p.proxyListener,a),f.splice(d,1)):o||(h.removeEventListener(l,p.proxyListener,a),f.splice(d,1))}}return this},trigger:function(){for(var t=ut(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=n[0].split(" "),o=n[1],a=0;a<i.length;a+=1)for(var s=i[a],c=0;c<this.length;c+=1){var l=this[c];if(t.CustomEvent){var u=new t.CustomEvent(s,{detail:o,bubbles:!0,cancelable:!0});l.dom7EventData=n.filter((function(t,e){return e>0})),l.dispatchEvent(u),l.dom7EventData=[],delete l.dom7EventData}}return this},transitionEnd:function(t){var e=this;return t&&e.on("transitionend",(function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))})),this},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var t=ut();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var t=ut(),e=ct(),n=this[0],r=n.getBoundingClientRect(),i=e.body,o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=n===t?t.scrollY:n.scrollTop,c=n===t?t.scrollX:n.scrollLeft;return{top:r.top+s-o,left:r.left+c-a}}return null},css:function(t,e){var n,r=ut();if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var i in t)this[n].style[i]=t[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){return t?(this.forEach((function(e,n){t.apply(e,[e,n])})),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,n,r=ut(),i=ct(),o=this[0];if(!o||void 0===t)return!1;if("string"==typeof t){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(e=Mt(t),n=0;n<e.length;n+=1)if(e[n]===o)return!0;return!1}if(t===i)return o===i;if(t===r)return o===r;if(t.nodeType||t instanceof wt){for(e=t.nodeType?[t]:t,n=0;n<e.length;n+=1)if(e[n]===o)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e=this.length;if(t>e-1)return Mt([]);if(t<0){var n=e+t;return Mt(n<0?[]:[this[n]])}return Mt([this[t]])},append:function(){for(var t,e=ct(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof t){var i=e.createElement("div");for(i.innerHTML=t;i.firstChild;)this[r].appendChild(i.firstChild)}else if(t instanceof wt)for(var o=0;o<t.length;o+=1)this[r].appendChild(t[o]);else this[r].appendChild(t)}return this},prepend:function(t){var e,n,r=ct();for(e=0;e<this.length;e+=1)if("string"==typeof t){var i=r.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(i.childNodes[n],this[e].childNodes[0])}else if(t instanceof wt)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&Mt(this[0].nextElementSibling).is(t)?Mt([this[0].nextElementSibling]):Mt([]):this[0].nextElementSibling?Mt([this[0].nextElementSibling]):Mt([]):Mt([])},nextAll:function(t){var e=[],n=this[0];if(!n)return Mt([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;t?Mt(r).is(t)&&e.push(r):e.push(r),n=r}return Mt(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&Mt(e.previousElementSibling).is(t)?Mt([e.previousElementSibling]):Mt([]):e.previousElementSibling?Mt([e.previousElementSibling]):Mt([])}return Mt([])},prevAll:function(t){var e=[],n=this[0];if(!n)return Mt([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;t?Mt(r).is(t)&&e.push(r):e.push(r),n=r}return Mt(e)},parent:function(t){for(var e=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?Mt(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Mt(e)},parents:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?Mt(r).is(t)&&e.push(r):e.push(r),r=r.parentNode;return Mt(e)},closest:function(t){var e=this;return void 0===t?Mt([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),i=0;i<r.length;i+=1)e.push(r[i]);return Mt(e)},children:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)t&&!Mt(r[i]).is(t)||e.push(r[i]);return Mt(e)},filter:function(t){return Mt(Tt(this,t))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(Ct).forEach((function(t){Object.defineProperty(Mt.fn,t,{value:Ct[t],writable:!0})}));var Lt,Pt,kt,Rt=Mt;n(143);function Ot(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==It(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==It(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===It(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dt(t){var e=t;Object.keys(e).forEach((function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}}))}function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(t,e)}function Ft(){return Date.now()}function Gt(t){var e,n=ut();return n.getComputedStyle&&(e=n.getComputedStyle(t,null)),!e&&t.currentStyle&&(e=t.currentStyle),e||(e=t.style),e}function Bt(t){var e,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=ut(),a=Gt(t);return o.WebKitCSSMatrix?((n=a.transform||a.webkitTransform).split(",").length>6&&(n=n.split(", ").map((function(t){return t.replace(",",".")})).join(", ")),r=new o.WebKitCSSMatrix("none"===n?"":n)):e=(r=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(n=o.WebKitCSSMatrix?r.m41:16===e.length?parseFloat(e[12]):parseFloat(e[4])),"y"===i&&(n=o.WebKitCSSMatrix?r.m42:16===e.length?parseFloat(e[13]):parseFloat(e[5])),n||0}function Vt(t){return"object"===It(t)&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function zt(t){return"undefined"!=typeof window&&void 0!==window.HTMLElement?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function Ut(){for(var t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r&&!zt(r))for(var i=Object.keys(Object(r)).filter((function(t){return e.indexOf(t)<0})),o=0,a=i.length;o<a;o+=1){var s=i[o],c=Object.getOwnPropertyDescriptor(r,s);void 0!==c&&c.enumerable&&(Vt(t[s])&&Vt(r[s])?r[s].__swiper__?t[s]=r[s]:Ut(t[s],r[s]):!Vt(t[s])&&Vt(r[s])?(t[s]={},r[s].__swiper__?t[s]=r[s]:Ut(t[s],r[s])):t[s]=r[s])}}return t}function jt(t,e,n){t.style.setProperty(e,n)}function Ht(t){var e,n=t.swiper,r=t.targetPosition,i=t.side,o=ut(),a=-n.translate,s=null,c=n.params.speed;n.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(n.cssModeFrameID);var l=r>a?"next":"prev",u=function(t,e){return"next"===l&&t>=e||"prev"===l&&t<=e};!function t(){e=(new Date).getTime(),null===s&&(s=e);var l=Math.max(Math.min((e-s)/c,1),0),h=.5-Math.cos(l*Math.PI)/2,f=a+h*(r-a);if(u(f,r)&&(f=r),n.wrapperEl.scrollTo(Ot({},i,f)),u(f,r))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout((function(){n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo(Ot({},i,f))})),void o.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=o.requestAnimationFrame(t)}()}function Wt(){return Lt||(Lt=function(){var t=ut(),e=ct();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,n)}catch(t){}return e}(),gestures:"ongesturestart"in t}}()),Lt}function Xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.userAgent,n=Wt(),r=ut(),i=r.navigator.platform,o=e||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,c=r.screen.height,l=o.match(/(Android);?[\s\/]+([\d.]+)?/),u=o.match(/(iPad).*OS\s([\d_]+)/),h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d="Win32"===i,p="MacIntel"===i,g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&g.indexOf("".concat(s,"x").concat(c))>=0&&((u=o.match(/(Version)\/([\d.]+)/))||(u=[0,1,"13_0_0"]),p=!1),l&&!d&&(a.os="android",a.android=!0),(u||f||h)&&(a.os="ios",a.ios=!0),a}function Yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pt||(Pt=Xt(t)),Pt}function qt(){return kt||(kt=function(){var t,e=ut();return{isSafari:(t=e.navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),kt}function Qt(t){return function(t){if(Array.isArray(t))return Zt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Zt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $t={on:function(t,e,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;var i=n?"unshift":"push";return t.split(" ").forEach((function(t){r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)})),r},once:function(t,e,n){var r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny:function(t,e){if(!this.eventsListeners||this.destroyed)return this;if("function"!=typeof t)return this;var n=e?"unshift":"push";return this.eventsAnyListeners.indexOf(t)<0&&this.eventsAnyListeners[n](t),this},offAny:function(t){if(!this.eventsListeners||this.destroyed)return this;if(!this.eventsAnyListeners)return this;var e=this.eventsAnyListeners.indexOf(t);return e>=0&&this.eventsAnyListeners.splice(e,1),this},off:function(t,e){var n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(t.split(" ").forEach((function(t){void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach((function(r,i){(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)}))})),n):n},emit:function(){var t,e,n,r=this;if(!r.eventsListeners||r.destroyed)return r;if(!r.eventsListeners)return r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];"string"==typeof o[0]||Array.isArray(o[0])?(t=o[0],e=o.slice(1,o.length),n=r):(t=o[0].events,e=o[0].data,n=o[0].context||r),e.unshift(n);var s=Array.isArray(t)?t:t.split(" ");return s.forEach((function(t){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[t].concat(Qt(e)))})),r.eventsListeners&&r.eventsListeners[t]&&r.eventsListeners[t].forEach((function(t){t.apply(n,e)}))})),r}};n(144);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Kt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Kt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(12);var te={updateSize:function(){var t,e,n=this.$el;t=void 0!==this.params.width&&null!==this.params.width?this.params.width:n[0].clientWidth,e=void 0!==this.params.height&&null!==this.params.height?this.params.height:n[0].clientHeight,0===t&&this.isHorizontal()||0===e&&this.isVertical()||(t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),e=e-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),Object.assign(this,{width:t,height:e,size:this.isHorizontal()?t:e}))},updateSlides:function(){var t=this;function e(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}function n(t,n){return parseFloat(t.getPropertyValue(e(n))||0)}var r=t.params,i=t.$wrapperEl,o=t.size,a=t.rtlTranslate,s=t.wrongRTL,c=t.virtual&&r.virtual.enabled,l=c?t.virtual.slides.length:t.slides.length,u=i.children(".".concat(t.params.slideClass)),h=c?t.virtual.slides.length:u.length,f=[],d=[],p=[],g=r.slidesOffsetBefore;"function"==typeof g&&(g=r.slidesOffsetBefore.call(t));var m=r.slidesOffsetAfter;"function"==typeof m&&(m=r.slidesOffsetAfter.call(t));var v=t.snapGrid.length,y=t.slidesGrid.length,b=r.spaceBetween,x=-g,_=0,w=0;if(void 0!==o){"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),t.virtualSize=-b,a?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(jt(t.wrapperEl,"--swiper-centered-offset-before",""),jt(t.wrapperEl,"--swiper-centered-offset-after",""));var S,T=r.grid&&r.grid.rows>1&&t.grid;T&&t.grid.initSlides(h);for(var M="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((function(t){return void 0!==r.breakpoints[t].slidesPerView})).length>0,A=0;A<h;A+=1){S=0;var E=u.eq(A);if(T&&t.grid.updateSlide(A,E,h,e),"none"!==E.css("display")){if("auto"===r.slidesPerView){M&&(u[A].style[e("width")]="");var C=getComputedStyle(E[0]),L=E[0].style.transform,P=E[0].style.webkitTransform;if(L&&(E[0].style.transform="none"),P&&(E[0].style.webkitTransform="none"),r.roundLengths)S=t.isHorizontal()?E.outerWidth(!0):E.outerHeight(!0);else{var k=n(C,"width"),R=n(C,"padding-left"),O=n(C,"padding-right"),I=n(C,"margin-left"),D=n(C,"margin-right"),N=C.getPropertyValue("box-sizing");if(N&&"border-box"===N)S=k+I+D;else{var F=E[0],G=F.clientWidth;S=k+R+O+I+D+(F.offsetWidth-G)}}L&&(E[0].style.transform=L),P&&(E[0].style.webkitTransform=P),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),u[A]&&(u[A].style[e("width")]="".concat(S,"px"));u[A]&&(u[A].swiperSlideSize=S),p.push(S),r.centeredSlides?(x=x+S/2+_/2+b,0===_&&0!==A&&(x=x-o/2-b),0===A&&(x=x-o/2-b),Math.abs(x)<.001&&(x=0),r.roundLengths&&(x=Math.floor(x)),w%r.slidesPerGroup==0&&f.push(x),d.push(x)):(r.roundLengths&&(x=Math.floor(x)),(w-Math.min(t.params.slidesPerGroupSkip,w))%t.params.slidesPerGroup==0&&f.push(x),d.push(x),x=x+S+b),t.virtualSize+=S+b,_=S,w+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+m,a&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:"".concat(t.virtualSize+r.spaceBetween,"px")}),r.setWrapperSize&&i.css(Jt({},e("width"),"".concat(t.virtualSize+r.spaceBetween,"px"))),T&&t.grid.updateWrapperSize(S,f,e),!r.centeredSlides){for(var B=[],V=0;V<f.length;V+=1){var z=f[V];r.roundLengths&&(z=Math.floor(z)),f[V]<=t.virtualSize-o&&B.push(z)}f=B,Math.floor(t.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-o)}if(0===f.length&&(f=[0]),0!==r.spaceBetween){var U=t.isHorizontal()&&a?"marginLeft":e("marginRight");u.filter((function(t,e){return!r.cssMode||e!==u.length-1})).css(Jt({},U,"".concat(b,"px")))}if(r.centeredSlides&&r.centeredSlidesBounds){var j=0;p.forEach((function(t){j+=t+(r.spaceBetween?r.spaceBetween:0)}));var H=(j-=r.spaceBetween)-o;f=f.map((function(t){return t<0?-g:t>H?H+m:t}))}if(r.centerInsufficientSlides){var W=0;if(p.forEach((function(t){W+=t+(r.spaceBetween?r.spaceBetween:0)})),(W-=r.spaceBetween)<o){var X=(o-W)/2;f.forEach((function(t,e){f[e]=t-X})),d.forEach((function(t,e){d[e]=t+X}))}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:d,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){jt(t.wrapperEl,"--swiper-centered-offset-before","".concat(-f[0],"px")),jt(t.wrapperEl,"--swiper-centered-offset-after","".concat(t.size/2-p[p.length-1]/2,"px"));var Y=-t.snapGrid[0],q=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map((function(t){return t+Y})),t.slidesGrid=t.slidesGrid.map((function(t){return t+q}))}if(h!==l&&t.emit("slidesLengthChange"),f.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),d.length!==y&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!(c||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){var Q="".concat(r.containerModifierClass,"backface-hidden"),Z=t.$el.hasClass(Q);h<=r.maxBackfaceHiddenSlides?Z||t.$el.addClass(Q):Z&&t.$el.removeClass(Q)}}},updateAutoHeight:function(t){var e,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,o=0;"number"==typeof t?n.setTransition(t):!0===t&&n.setTransition(n.params.speed);var a=function(t){return i?n.slides.filter((function(e){return parseInt(e.getAttribute("data-swiper-slide-index"),10)===t}))[0]:n.slides.eq(t)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||Rt([])).each((function(t){r.push(t)}));else for(e=0;e<Math.ceil(n.params.slidesPerView);e+=1){var s=n.activeIndex+e;if(s>n.slides.length&&!i)break;r.push(a(s))}else r.push(a(n.activeIndex));for(e=0;e<r.length;e+=1)if(void 0!==r[e]){var c=r[e].offsetHeight;o=c>o?c:o}(o||0===o)&&n.$wrapperEl.css("height","".concat(o,"px"))},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0,e=this,n=e.params,r=e.slides,i=e.rtlTranslate,o=e.snapGrid;if(0!==r.length){void 0===r[0].swiperSlideOffset&&e.updateSlidesOffset();var a=-t;i&&(a=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var s=0;s<r.length;s+=1){var c=r[s],l=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=r[0].swiperSlideOffset);var u=(a+(n.centeredSlides?e.minTranslate():0)-l)/(c.swiperSlideSize+n.spaceBetween),h=(a-o[0]+(n.centeredSlides?e.minTranslate():0)-l)/(c.swiperSlideSize+n.spaceBetween),f=-(a-l),d=f+e.slidesSizesGrid[s],p=f>=0&&f<e.size-1||d>1&&d<=e.size||f<=0&&d>=e.size;p&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),c.progress=i?-u:u,c.originalProgress=i?-h:h}e.visibleSlides=Rt(e.visibleSlides)}},updateProgress:function(t){if(void 0===t){var e=this.rtlTranslate?-1:1;t=this&&this.translate&&this.translate*e||0}var n=this.params,r=this.maxTranslate()-this.minTranslate(),i=this.progress,o=this.isBeginning,a=this.isEnd,s=o,c=a;0===r?(i=0,o=!0,a=!0):(o=(i=(t-this.minTranslate())/r)<=0,a=i>=1),Object.assign(this,{progress:i,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&this.updateSlidesProgress(t),o&&!s&&this.emit("reachBeginning toEdge"),a&&!c&&this.emit("reachEnd toEdge"),(s&&!o||c&&!a)&&this.emit("fromEdge"),this.emit("progress",i)},updateSlidesClasses:function(){var t,e=this.slides,n=this.params,r=this.$wrapperEl,i=this.activeIndex,o=this.realIndex,a=this.virtual&&n.virtual.enabled;e.removeClass("".concat(n.slideActiveClass," ").concat(n.slideNextClass," ").concat(n.slidePrevClass," ").concat(n.slideDuplicateActiveClass," ").concat(n.slideDuplicateNextClass," ").concat(n.slideDuplicatePrevClass)),(t=a?this.$wrapperEl.find(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(i,'"]')):e.eq(i)).addClass(n.slideActiveClass),n.loop&&(t.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(o,'"]')).addClass(n.slideDuplicateActiveClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(o,'"]')).addClass(n.slideDuplicateActiveClass));var s=t.nextAll(".".concat(n.slideClass)).eq(0).addClass(n.slideNextClass);n.loop&&0===s.length&&(s=e.eq(0)).addClass(n.slideNextClass);var c=t.prevAll(".".concat(n.slideClass)).eq(0).addClass(n.slidePrevClass);n.loop&&0===c.length&&(c=e.eq(-1)).addClass(n.slidePrevClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(s.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(s.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(".".concat(n.slideClass,":not(.").concat(n.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass):r.children(".".concat(n.slideClass,".").concat(n.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(n.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(t){var e,n=this.rtlTranslate?this.translate:-this.translate,r=this.slidesGrid,i=this.snapGrid,o=this.params,a=this.activeIndex,s=this.realIndex,c=this.snapIndex,l=t;if(void 0===l){for(var u=0;u<r.length;u+=1)void 0!==r[u+1]?n>=r[u]&&n<r[u+1]-(r[u+1]-r[u])/2?l=u:n>=r[u]&&n<r[u+1]&&(l=u+1):n>=r[u]&&(l=u);o.normalizeSlideIndex&&(l<0||void 0===l)&&(l=0)}if(i.indexOf(n)>=0)e=i.indexOf(n);else{var h=Math.min(o.slidesPerGroupSkip,l);e=h+Math.floor((l-h)/o.slidesPerGroup)}if(e>=i.length&&(e=i.length-1),l!==a){var f=parseInt(this.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(this,{snapIndex:e,realIndex:f,previousIndex:a,activeIndex:l}),this.emit("activeIndexChange"),this.emit("snapIndexChange"),s!==f&&this.emit("realIndexChange"),(this.initialized||this.params.runCallbacksOnInit)&&this.emit("slideChange")}else e!==c&&(this.snapIndex=e,this.emit("snapIndexChange"))},updateClickedSlide:function(t){var e,n=this.params,r=Rt(t).closest(".".concat(n.slideClass))[0],i=!1;if(r)for(var o=0;o<this.slides.length;o+=1)if(this.slides[o]===r){i=!0,e=o;break}if(!r||!i)return this.clickedSlide=void 0,void(this.clickedIndex=void 0);this.clickedSlide=r,this.virtual&&this.params.virtual.enabled?this.clickedIndex=parseInt(Rt(r).attr("data-swiper-slide-index"),10):this.clickedIndex=e,n.slideToClickedSlide&&void 0!==this.clickedIndex&&this.clickedIndex!==this.activeIndex&&this.slideToClickedSlide()}};function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ee(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var re={getTranslate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y",e=this,n=e.params,r=e.rtlTranslate,i=e.translate,o=e.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var a=Bt(o[0],t);return r&&(a=-a),a||0},setTranslate:function(t,e){var n=this.rtlTranslate,r=this.params,i=this.$wrapperEl,o=this.wrapperEl,a=this.progress,s=0,c=0;this.isHorizontal()?s=n?-t:t:c=t,r.roundLengths&&(s=Math.floor(s),c=Math.floor(c)),r.cssMode?o[this.isHorizontal()?"scrollLeft":"scrollTop"]=this.isHorizontal()?-s:-c:r.virtualTranslate||i.transform("translate3d(".concat(s,"px, ").concat(c,"px, ").concat(0,"px)")),this.previousTranslate=this.translate,this.translate=this.isHorizontal()?s:c;var l=this.maxTranslate()-this.minTranslate();(0===l?0:(t-this.minTranslate())/l)!==a&&this.updateProgress(t),this.emit("setTranslate",this.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4?arguments[4]:void 0,o=this,a=o.params,s=o.wrapperEl;if(o.animating&&a.preventInteractionOnTransition)return!1;var c,l=o.minTranslate(),u=o.maxTranslate();if(c=r&&t>l?l:r&&t<u?u:t,o.updateProgress(c),a.cssMode){var h=o.isHorizontal();if(0===e)s[h?"scrollLeft":"scrollTop"]=-c;else{var f;if(!o.support.smoothScroll)return Ht({swiper:o,targetPosition:-c,side:h?"left":"top"}),!0;s.scrollTo((ne(f={},h?"left":"top",-c),ne(f,"behavior","smooth"),f))}return!0}return 0===e?(o.setTransition(0),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(c),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};function ie(t){var e=t.swiper,n=t.runCallbacks,r=t.direction,i=t.step,o=e.activeIndex,a=e.previousIndex,s=r;if(s||(s=o>a?"next":o<a?"prev":"reset"),e.emit("transition".concat(i)),n&&o!==a){if("reset"===s)return void e.emit("slideResetTransition".concat(i));e.emit("slideChangeTransition".concat(i)),"next"===s?e.emit("slideNextTransition".concat(i)):e.emit("slidePrevTransition".concat(i))}}var oe={setTransition:function(t,e){this.params.cssMode||this.$wrapperEl.transition(t),this.emit("setTransition",t,e)},transitionStart:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),ie({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n=this,r=n.params;n.animating=!1,r.cssMode||(n.setTransition(0),ie({swiper:n,runCallbacks:t,direction:e,step:"End"}))}};function ae(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===se(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ce={slideTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if("number"!=typeof t&&"string"!=typeof t)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(se(t),"] given."));if("string"==typeof t){var o=parseInt(t,10),a=isFinite(o);if(!a)throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(t,"] given."));t=o}var s=this,c=t;c<0&&(c=0);var l=s.params,u=s.snapGrid,h=s.slidesGrid,f=s.previousIndex,d=s.activeIndex,p=s.rtlTranslate,g=s.wrapperEl,m=s.enabled;if(s.animating&&l.preventInteractionOnTransition||!m&&!r&&!i)return!1;var v=Math.min(s.params.slidesPerGroupSkip,c),y=v+Math.floor((c-v)/s.params.slidesPerGroup);y>=u.length&&(y=u.length-1);var b,x=-u[y];if(l.normalizeSlideIndex)for(var _=0;_<h.length;_+=1){var w=-Math.floor(100*x),S=Math.floor(100*h[_]),T=Math.floor(100*h[_+1]);void 0!==h[_+1]?w>=S&&w<T-(T-S)/2?c=_:w>=S&&w<T&&(c=_+1):w>=S&&(c=_)}if(s.initialized&&c!==d){if(!s.allowSlideNext&&x<s.translate&&x<s.minTranslate())return!1;if(!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(d||0)!==c)return!1}if(c!==(f||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(x),b=c>d?"next":c<d?"prev":"reset",p&&-x===s.translate||!p&&x===s.translate)return s.updateActiveIndex(c),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==l.effect&&s.setTranslate(x),"reset"!==b&&(s.transitionStart(n,b),s.transitionEnd(n,b)),!1;if(l.cssMode){var M=s.isHorizontal(),A=p?x:-x;if(0===e){var E=s.virtual&&s.params.virtual.enabled;E&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),g[M?"scrollLeft":"scrollTop"]=A,E&&requestAnimationFrame((function(){s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1}))}else{var C;if(!s.support.smoothScroll)return Ht({swiper:s,targetPosition:A,side:M?"left":"top"}),!0;g.scrollTo((ae(C={},M?"left":"top",A),ae(C,"behavior","smooth"),C))}return!0}return s.setTransition(e),s.setTranslate(x),s.updateActiveIndex(c),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,b),0===e?s.transitionEnd(n,b):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(t){s&&!s.destroyed&&t.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,b))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if("string"==typeof t){var i=parseInt(t,10),o=isFinite(i);if(!o)throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(t,"] given."));t=i}var a=this,s=t;return a.params.loop&&(s+=a.loopedSlides),a.slideTo(s,e,n,r)},slideNext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.animating,o=r.enabled,a=r.params;if(!o)return r;var s=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));var c=r.activeIndex<a.slidesPerGroupSkip?1:s;if(a.loop){if(i&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return a.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)},slidePrev:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r.params,o=r.animating,a=r.snapGrid,s=r.slidesGrid,c=r.rtlTranslate,l=r.enabled;if(!l)return r;if(i.loop){if(o&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}var u=c?r.translate:-r.translate;function h(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var f,d=h(u),p=a.map((function(t){return h(t)})),g=a[p.indexOf(d)-1];void 0===g&&i.cssMode&&(a.forEach((function(t,e){d>=t&&(f=e)})),void 0!==f&&(g=a[f>0?f-1:f]));var m=0;if(void 0!==g&&((m=s.indexOf(g))<0&&(m=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-r.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&r.isBeginning){var v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,t,e,n)}return r.slideTo(m,t,e,n)},slideReset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this;return r.slideTo(r.activeIndex,t,e,n)},slideToClosest:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=this,o=i.activeIndex,a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[s]){var l=i.snapGrid[s],u=i.snapGrid[s+1];c-l>(u-l)*r&&(o+=i.params.slidesPerGroup)}else{var h=i.snapGrid[s-1],f=i.snapGrid[s];c-h<=(f-h)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)},slideToClickedSlide:function(){var t,e=this,n=e.params,r=e.$wrapperEl,i="auto"===n.slidesPerView?e.slidesPerViewDynamic():n.slidesPerView,o=e.clickedIndex;if(n.loop){if(e.animating)return;t=parseInt(Rt(e.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<e.loopedSlides-i/2||o>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),o=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(t,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Nt((function(){e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-i?(e.loopFix(),o=r.children(".".concat(n.slideClass,'[data-swiper-slide-index="').concat(t,'"]:not(.').concat(n.slideDuplicateClass,")")).eq(0).index(),Nt((function(){e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}};var le={loopCreate:function(){var t=ct(),e=this.params,n=this.$wrapperEl,r=n.children().length>0?Rt(n.children()[0].parentNode):n;r.children(".".concat(e.slideClass,".").concat(e.slideDuplicateClass)).remove();var i=r.children(".".concat(e.slideClass));if(e.loopFillGroupWithBlank){var o=e.slidesPerGroup-i.length%e.slidesPerGroup;if(o!==e.slidesPerGroup){for(var a=0;a<o;a+=1){var s=Rt(t.createElement("div")).addClass("".concat(e.slideClass," ").concat(e.slideBlankClass));r.append(s)}i=r.children(".".concat(e.slideClass))}}"auto"!==e.slidesPerView||e.loopedSlides||(e.loopedSlides=i.length),this.loopedSlides=Math.ceil(parseFloat(e.loopedSlides||e.slidesPerView,10)),this.loopedSlides+=e.loopAdditionalSlides,this.loopedSlides>i.length&&this.params.loopedSlidesLimit&&(this.loopedSlides=i.length);var c=[],l=[];i.each((function(t,e){Rt(t).attr("data-swiper-slide-index",e)}));for(var u=0;u<this.loopedSlides;u+=1){var h=u-Math.floor(u/i.length)*i.length;l.push(i.eq(h)[0]),c.unshift(i.eq(i.length-h-1)[0])}for(var f=0;f<l.length;f+=1)r.append(Rt(l[f].cloneNode(!0)).addClass(e.slideDuplicateClass));for(var d=c.length-1;d>=0;d-=1)r.prepend(Rt(c[d].cloneNode(!0)).addClass(e.slideDuplicateClass))},loopFix:function(){this.emit("beforeLoopFix");var t,e=this.activeIndex,n=this.slides,r=this.loopedSlides,i=this.allowSlidePrev,o=this.allowSlideNext,a=this.snapGrid,s=this.rtlTranslate;this.allowSlidePrev=!0,this.allowSlideNext=!0;var c=-a[e]-this.getTranslate();if(e<r)t=n.length-3*r+e,t+=r,this.slideTo(t,0,!1,!0)&&0!==c&&this.setTranslate((s?-this.translate:this.translate)-c);else if(e>=n.length-r){t=-n.length+e+r,t+=r,this.slideTo(t,0,!1,!0)&&0!==c&&this.setTranslate((s?-this.translate:this.translate)-c)}this.allowSlidePrev=i,this.allowSlideNext=o,this.emit("loopFix")},loopDestroy:function(){var t=this.$wrapperEl,e=this.params,n=this.slides;t.children(".".concat(e.slideClass,".").concat(e.slideDuplicateClass,",.").concat(e.slideClass,".").concat(e.slideBlankClass)).remove(),n.removeAttr("data-swiper-slide-index")}};var ue={setGrabCursor:function(t){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var e="container"===this.params.touchEventsTarget?this.el:this.wrapperEl;e.style.cursor="move",e.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this["container"===this.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function he(t){var e=ct(),n=ut(),r=this.touchEventsData,i=this.params,o=this.touches;if(this.enabled&&(!this.animating||!i.preventInteractionOnTransition)){!this.animating&&i.cssMode&&i.loop&&this.loopFix();var a=t;a.originalEvent&&(a=a.originalEvent);var s=Rt(a.target);if(("wrapper"!==i.touchEventsTarget||s.closest(this.wrapperEl).length)&&(r.isTouchEvent="touchstart"===a.type,(r.isTouchEvent||!("which"in a)||3!==a.which)&&!(!r.isTouchEvent&&"button"in a&&a.button>0||r.isTouched&&r.isMoved))){var c=!!i.noSwipingClass&&""!==i.noSwipingClass,l=t.composedPath?t.composedPath():t.path;c&&a.target&&a.target.shadowRoot&&l&&(s=Rt(l[0]));var u=i.noSwipingSelector?i.noSwipingSelector:".".concat(i.noSwipingClass),h=!(!a.target||!a.target.shadowRoot);if(i.noSwiping&&(h?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;function n(e){if(!e||e===ct()||e===ut())return null;e.assignedSlot&&(e=e.assignedSlot);var r=e.closest(t);return r||e.getRootNode?r||n(e.getRootNode().host):null}return n(e)}(u,s[0]):s.closest(u)[0]))this.allowClick=!0;else if(!i.swipeHandler||s.closest(i.swipeHandler)[0]){o.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var f=o.currentX,d=o.currentY,p=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,g=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(p&&(f<=g||f>=n.innerWidth-g)){if("prevent"!==p)return;t.preventDefault()}if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=d,r.touchStartTime=Ft(),this.allowClick=!0,this.updateSize(),this.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==a.type){var m=!0;s.is(r.focusableElements)&&(m=!1,"SELECT"===s[0].nodeName&&(r.isTouched=!1)),e.activeElement&&Rt(e.activeElement).is(r.focusableElements)&&e.activeElement!==s[0]&&e.activeElement.blur();var v=m&&this.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!v||s[0].isContentEditable||a.preventDefault()}this.params.freeMode&&this.params.freeMode.enabled&&this.freeMode&&this.animating&&!i.cssMode&&this.freeMode.onTouchStart(),this.emit("touchStart",a)}}}}function fe(t){var e=ct(),n=this.touchEventsData,r=this.params,i=this.touches,o=this.rtlTranslate;if(this.enabled){var a=t;if(a.originalEvent&&(a=a.originalEvent),n.isTouched){if(!n.isTouchEvent||"touchmove"===a.type){var s="touchmove"===a.type&&a.targetTouches&&(a.targetTouches[0]||a.changedTouches[0]),c="touchmove"===a.type?s.pageX:a.pageX,l="touchmove"===a.type?s.pageY:a.pageY;if(a.preventedByNestedSwiper)return i.startX=c,void(i.startY=l);if(!this.allowTouchMove)return Rt(a.target).is(n.focusableElements)||(this.allowClick=!1),void(n.isTouched&&(Object.assign(i,{startX:c,startY:l,currentX:c,currentY:l}),n.touchStartTime=Ft()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(this.isVertical()){if(l<i.startY&&this.translate<=this.maxTranslate()||l>i.startY&&this.translate>=this.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(c<i.startX&&this.translate<=this.maxTranslate()||c>i.startX&&this.translate>=this.minTranslate())return;if(n.isTouchEvent&&e.activeElement&&a.target===e.activeElement&&Rt(a.target).is(n.focusableElements))return n.isMoved=!0,void(this.allowClick=!1);if(n.allowTouchCallbacks&&this.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){i.currentX=c,i.currentY=l;var u=i.currentX-i.startX,h=i.currentY-i.startY;if(!(this.params.threshold&&Math.sqrt(Math.pow(u,2)+Math.pow(h,2))<this.params.threshold)){var f;if(void 0===n.isScrolling)this.isHorizontal()&&i.currentY===i.startY||this.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:u*u+h*h>=25&&(f=180*Math.atan2(Math.abs(h),Math.abs(u))/Math.PI,n.isScrolling=this.isHorizontal()?f>r.touchAngle:90-f>r.touchAngle);if(n.isScrolling&&this.emit("touchMoveOpposite",a),void 0===n.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(n.startMoving=!0)),n.isScrolling)n.isTouched=!1;else if(n.startMoving){this.allowClick=!1,!r.cssMode&&a.cancelable&&a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation(),n.isMoved||(r.loop&&!r.cssMode&&this.loopFix(),n.startTranslate=this.getTranslate(),this.setTransition(0),this.animating&&this.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==this.allowSlideNext&&!0!==this.allowSlidePrev||this.setGrabCursor(!0),this.emit("sliderFirstMove",a)),this.emit("sliderMove",a),n.isMoved=!0;var d=this.isHorizontal()?u:h;i.diff=d,d*=r.touchRatio,o&&(d=-d),this.swipeDirection=d>0?"prev":"next",n.currentTranslate=d+n.startTranslate;var p=!0,g=r.resistanceRatio;if(r.touchReleaseOnEdges&&(g=0),d>0&&n.currentTranslate>this.minTranslate()?(p=!1,r.resistance&&(n.currentTranslate=this.minTranslate()-1+Math.pow(-this.minTranslate()+n.startTranslate+d,g))):d<0&&n.currentTranslate<this.maxTranslate()&&(p=!1,r.resistance&&(n.currentTranslate=this.maxTranslate()+1-Math.pow(this.maxTranslate()-n.startTranslate-d,g))),p&&(a.preventedByNestedSwiper=!0),!this.allowSlideNext&&"next"===this.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!this.allowSlidePrev&&"prev"===this.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),this.allowSlidePrev||this.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(d)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,void(i.diff=this.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&this.freeMode||r.watchSlidesProgress)&&(this.updateActiveIndex(),this.updateSlidesClasses()),this.params.freeMode&&r.freeMode.enabled&&this.freeMode&&this.freeMode.onTouchMove(),this.updateProgress(n.currentTranslate),this.setTranslate(n.currentTranslate))}}}}}else n.startMoving&&n.isScrolling&&this.emit("touchMoveOpposite",a)}}function de(t){var e=this,n=e.touchEventsData,r=e.params,i=e.touches,o=e.rtlTranslate,a=e.slidesGrid;if(e.enabled){var s=t;if(s.originalEvent&&(s=s.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var c,l=Ft(),u=l-n.touchStartTime;if(e.allowClick){var h=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(h&&h[0]||s.target),e.emit("tap click",s),u<300&&l-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=Ft(),Nt((function(){e.destroyed||(e.allowClick=!0)})),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,c=r.followFinger?o?e.translate:-e.translate:-n.currentTranslate,!r.cssMode)if(e.params.freeMode&&r.freeMode.enabled)e.freeMode.onTouchEnd({currentPos:c});else{for(var f=0,d=e.slidesSizesGrid[0],p=0;p<a.length;p+=p<r.slidesPerGroupSkip?1:r.slidesPerGroup){var g=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==a[p+g]?c>=a[p]&&c<a[p+g]&&(f=p,d=a[p+g]-a[p]):c>=a[p]&&(f=p,d=a[a.length-1]-a[a.length-2])}var m=null,v=null;r.rewind&&(e.isBeginning?v=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));var y=(c-a[f])/d,b=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(y>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+b):e.slideTo(f)),"prev"===e.swipeDirection&&(y>1-r.longSwipesRatio?e.slideTo(f+b):null!==v&&y<0&&Math.abs(y)>r.longSwipesRatio?e.slideTo(v):e.slideTo(f))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(f+b):e.slideTo(f):("next"===e.swipeDirection&&e.slideTo(null!==m?m:f+b),"prev"===e.swipeDirection&&e.slideTo(null!==v?v:f))}}}}function pe(){var t=this.params,e=this.el;if(!e||0!==e.offsetWidth){t.breakpoints&&this.setBreakpoint();var n=this.allowSlideNext,r=this.allowSlidePrev,i=this.snapGrid;this.allowSlideNext=!0,this.allowSlidePrev=!0,this.updateSize(),this.updateSlides(),this.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&this.isEnd&&!this.isBeginning&&!this.params.centeredSlides?this.slideTo(this.slides.length-1,0,!1,!0):this.slideTo(this.activeIndex,0,!1,!0),this.autoplay&&this.autoplay.running&&this.autoplay.paused&&this.autoplay.run(),this.allowSlidePrev=r,this.allowSlideNext=n,this.params.watchOverflow&&i!==this.snapGrid&&this.checkOverflow()}}function ge(t){this.enabled&&(this.allowClick||(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function me(){var t=this.wrapperEl,e=this.rtlTranslate;if(this.enabled){this.previousTranslate=this.translate,this.isHorizontal()?this.translate=-t.scrollLeft:this.translate=-t.scrollTop,0===this.translate&&(this.translate=0),this.updateActiveIndex(),this.updateSlidesClasses();var n=this.maxTranslate()-this.minTranslate();(0===n?0:(this.translate-this.minTranslate())/n)!==this.progress&&this.updateProgress(e?-this.translate:this.translate),this.emit("setTranslate",this.translate,!1)}}var ve=!1;function ye(){}var be=function(t,e){var n=ct(),r=t.params,i=t.touchEvents,o=t.el,a=t.wrapperEl,s=t.device,c=t.support,l=!!r.nested,u="on"===e?"addEventListener":"removeEventListener",h=e;if(c.touch){var f=!("touchstart"!==i.start||!c.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};o[u](i.start,t.onTouchStart,f),o[u](i.move,t.onTouchMove,c.passiveListener?{passive:!1,capture:l}:l),o[u](i.end,t.onTouchEnd,f),i.cancel&&o[u](i.cancel,t.onTouchEnd,f)}else o[u](i.start,t.onTouchStart,!1),n[u](i.move,t.onTouchMove,l),n[u](i.end,t.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&o[u]("click",t.onClick,!0),r.cssMode&&a[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",pe,!0):t[h]("observerUpdate",pe,!0)};var xe={attachEvents:function(){var t=ct(),e=this.params,n=this.support;this.onTouchStart=he.bind(this),this.onTouchMove=fe.bind(this),this.onTouchEnd=de.bind(this),e.cssMode&&(this.onScroll=me.bind(this)),this.onClick=ge.bind(this),n.touch&&!ve&&(t.addEventListener("touchstart",ye),ve=!0),be(this,"on")},detachEvents:function(){be(this,"off")}},_e=(n(79),function(t,e){return t.grid&&e.grid&&e.grid.rows>1});function we(t){return function(t){if(Array.isArray(t))return Se(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Me={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ee(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object.keys(n)[0],i=n[r];"object"===Ae(i)&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===t[r]&&(t[r]={auto:!0}),r in t&&"enabled"in i?(!0===t[r]&&(t[r]={enabled:!0}),"object"!==Ae(t[r])||"enabled"in t[r]||(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Ut(e,n)):Ut(e,n)):Ut(e,n)}}function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t){return function(t){if(Array.isArray(t))return Pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Ce(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ce(o)?o:String(o)),r)}var i,o}var Oe={eventsEmitter:$t,update:te,translate:re,transition:oe,slide:ce,loop:le,grabCursor:ue,events:xe,breakpoints:{setBreakpoint:function(){var t=this,e=t.activeIndex,n=t.initialized,r=t.loopedSlides,i=void 0===r?0:r,o=t.params,a=t.$el,s=o.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var c=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(c&&t.currentBreakpoint!==c){var l=(c in s?s[c]:void 0)||t.originalParams,u=_e(t,o),h=_e(t,l),f=o.enabled;u&&!h?(a.removeClass("".concat(o.containerModifierClass,"grid ").concat(o.containerModifierClass,"grid-column")),t.emitContainerClasses()):!u&&h&&(a.addClass("".concat(o.containerModifierClass,"grid")),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===o.grid.fill)&&a.addClass("".concat(o.containerModifierClass,"grid-column")),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((function(e){var n=o[e]&&o[e].enabled,r=l[e]&&l[e].enabled;n&&!r&&t[e].disable(),!n&&r&&t[e].enable()}));var d=l.direction&&l.direction!==o.direction,p=o.loop&&(l.slidesPerView!==o.slidesPerView||d);d&&n&&t.changeDirection(),Ut(t.params,l);var g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",l),p&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-i+t.loopedSlides,0,!1)),t.emit("breakpoint",l)}}},getBreakpoint:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",n=arguments.length>2?arguments[2]:void 0;if(t&&("container"!==e||n)){var r=!1,i=ut(),o="window"===e?i.innerHeight:n.clientHeight,a=Object.keys(t).map((function(t){if("string"==typeof t&&0===t.indexOf("@")){var e=parseFloat(t.substr(1));return{value:o*e,point:t}}return{value:t,point:t}}));a.sort((function(t,e){return parseInt(t.value,10)-parseInt(e.value,10)}));for(var s=0;s<a.length;s+=1){var c=a[s],l=c.point,u=c.value;"window"===e?i.matchMedia("(min-width: ".concat(u,"px)")).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var t=this.isLocked,e=this.params,n=e.slidesOffsetBefore;if(n){var r=this.slides.length-1,i=this.slidesGrid[r]+this.slidesSizesGrid[r]+2*n;this.isLocked=this.size>i}else this.isLocked=1===this.snapGrid.length;!0===e.allowSlideNext&&(this.allowSlideNext=!this.isLocked),!0===e.allowSlidePrev&&(this.allowSlidePrev=!this.isLocked),t&&t!==this.isLocked&&(this.isEnd=!1),t!==this.isLocked&&this.emit(this.isLocked?"lock":"unlock")}},classes:{addClasses:function(){var t,e,n,r=this.classNames,i=this.params,o=this.rtl,a=this.$el,s=this.device,c=this.support,l=(t=["initialized",i.direction,{"pointer-events":!c.touch},{"free-mode":this.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:o},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],e=i.containerModifierClass,n=[],t.forEach((function(t){"object"===Te(t)?Object.keys(t).forEach((function(r){t[r]&&n.push(e+r)})):"string"==typeof t&&n.push(e+t)})),n);r.push.apply(r,we(l)),a.addClass(we(r).join(" ")),this.emitContainerClasses()},removeClasses:function(){var t=this.$el,e=this.classNames;t.removeClass(e.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(t,e,n,r,i,o){var a,s=ut();function c(){o&&o()}Rt(t).parent("picture")[0]||t.complete&&i?c():e?((a=new s.Image).onload=c,a.onerror=c,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):c()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var n=0;n<t.imagesToLoad.length;n+=1){var r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},Ie={},De=function(){function t(){var e,n;ke(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(e=i[0],n=i[1]),n||(n={}),n=Ut({},n),e&&!n.el&&(n.el=e),n.el&&Rt(n.el).length>1){var a=[];return Rt(n.el).each((function(e){var r=Ut({},n,{el:e});a.push(new t(r))})),a}var s,c=this;(c.__swiper__=!0,c.support=Wt(),c.device=Yt({userAgent:n.userAgent}),c.browser=qt(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=Le(c.__modules__),n.modules&&Array.isArray(n.modules))&&(s=c.modules).push.apply(s,Le(n.modules));var l={};c.modules.forEach((function(t){t({swiper:c,extendParams:Ee(n,l),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})}));var u,h,f=Ut({},Me,l);return c.params=Ut({},f,Ie,n),c.originalParams=Ut({},c.params),c.passedParams=Ut({},n),c.params&&c.params.on&&Object.keys(c.params.on).forEach((function(t){c.on(t,c.params.on[t])})),c.params&&c.params.onAny&&c.onAny(c.params.onAny),c.$=Rt,Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:Rt(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===c.params.direction},isVertical:function(){return"vertical"===c.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEvents:(u=["touchstart","touchmove","touchend","touchcancel"],h=["pointerdown","pointermove","pointerup"],c.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},c.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},c.support.touch||!c.params.simulateTouch?c.touchEventsTouch:c.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:Ft(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}var e,n,r;return e=t,r=[{key:"extendDefaults",value:function(t){Ut(Ie,t)}},{key:"extendedDefaults",get:function(){return Ie}},{key:"defaults",get:function(){return Me}},{key:"installModule",value:function(e){t.prototype.__modules__||(t.prototype.__modules__=[]);var n=t.prototype.__modules__;"function"==typeof e&&n.indexOf(e)<0&&n.push(e)}},{key:"use",value:function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)}}],(n=[{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}},{key:"setProgress",value:function(t,e){t=Math.min(Math.max(t,0),1);var n=this.minTranslate(),r=(this.maxTranslate()-n)*t+n;this.translateTo(r,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()}},{key:"emitContainerClasses",value:function(){var t=this;if(t.params._emitClasses&&t.el){var e=t.el.className.split(" ").filter((function(e){return 0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass)}));t.emit("_containerClasses",e.join(" "))}}},{key:"getSlideClasses",value:function(t){var e=this;return e.destroyed?"":t.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)})).join(" ")}},{key:"emitSlidesClasses",value:function(){var t=this;if(t.params._emitClasses&&t.el){var e=[];t.slides.each((function(n){var r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)})),t.emit("_slideClasses",e)}}},{key:"slidesPerViewDynamic",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.params,i=n.slides,o=n.slidesGrid,a=n.slidesSizesGrid,s=n.size,c=n.activeIndex,l=1;if(r.centeredSlides){for(var u,h=i[c].swiperSlideSize,f=c+1;f<i.length;f+=1)i[f]&&!u&&(l+=1,(h+=i[f].swiperSlideSize)>s&&(u=!0));for(var d=c-1;d>=0;d-=1)i[d]&&!u&&(l+=1,(h+=i[d].swiperSlideSize)>s&&(u=!0))}else if("current"===t)for(var p=c+1;p<i.length;p+=1){var g=e?o[p]+a[p]-o[c]<s:o[p]-o[c]<s;g&&(l+=1)}else for(var m=c-1;m>=0;m-=1){var v=o[c]-o[m]<s;v&&(l+=1)}return l}},{key:"update",value:function(){var t=this;if(t&&!t.destroyed){var e=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode&&t.params.freeMode.enabled?(r(),t.params.autoHeight&&t.updateAutoHeight()):(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0))||r(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}function r(){var e=t.rtlTranslate?-1*t.translate:t.translate,n=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}}},{key:"changeDirection",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(n.$el.removeClass("".concat(n.params.containerModifierClass).concat(r)).addClass("".concat(n.params.containerModifierClass).concat(t)),n.emitContainerClasses(),n.params.direction=t,n.slides.each((function(e){"vertical"===t?e.style.width="":e.style.height=""})),n.emit("changeDirection"),e&&n.update()),n}},{key:"changeLanguageDirection",value:function(t){this.rtl&&"rtl"===t||!this.rtl&&"ltr"===t||(this.rtl="rtl"===t,this.rtlTranslate="horizontal"===this.params.direction&&this.rtl,this.rtl?(this.$el.addClass("".concat(this.params.containerModifierClass,"rtl")),this.el.dir="rtl"):(this.$el.removeClass("".concat(this.params.containerModifierClass,"rtl")),this.el.dir="ltr"),this.update())}},{key:"mount",value:function(t){var e=this;if(e.mounted)return!0;var n=Rt(t||e.params.el);if(!(t=n[0]))return!1;t.swiper=e;var r=function(){return".".concat((e.params.wrapperClass||"").trim().split(" ").join("."))},i=function(){if(t&&t.shadowRoot&&t.shadowRoot.querySelector){var e=Rt(t.shadowRoot.querySelector(r()));return e.children=function(t){return n.children(t)},e}return n.children?n.children(r()):Rt(n).children(r())}();if(0===i.length&&e.params.createElements){var o=ct().createElement("div");i=Rt(o),o.className=e.params.wrapperClass,n.append(o),n.children(".".concat(e.params.slideClass)).each((function(t){i.append(t)}))}return Object.assign(e,{$el:n,el:t,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}},{key:"init",value:function(t){return this.initialized||!1===this.mount(t)||(this.emit("beforeInit"),this.params.breakpoints&&this.setBreakpoint(),this.addClasses(),this.params.loop&&this.loopCreate(),this.updateSize(),this.updateSlides(),this.params.watchOverflow&&this.checkOverflow(),this.params.grabCursor&&this.enabled&&this.setGrabCursor(),this.params.preloadImages&&this.preloadImages(),this.params.loop?this.slideTo(this.params.initialSlide+this.loopedSlides,0,this.params.runCallbacksOnInit,!1,!0):this.slideTo(this.params.initialSlide,0,this.params.runCallbacksOnInit,!1,!0),this.attachEvents(),this.initialized=!0,this.emit("init"),this.emit("afterInit")),this}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.params,i=n.$el,o=n.$wrapperEl,a=n.slides;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((function(t){n.off(t)})),!1!==t&&(n.$el[0].swiper=null,Dt(n)),n.destroyed=!0),null}}])&&Re(e.prototype,n),r&&Re(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Object.keys(Oe).forEach((function(t){Object.keys(Oe[t]).forEach((function(e){De.prototype[e]=Oe[t][e]}))})),De.use([function(t){var e=t.swiper,n=t.on,r=t.emit,i=ut(),o=null,a=null,s=function(){e&&!e.destroyed&&e.initialized&&(r("beforeResize"),r("resize"))},c=function(){e&&!e.destroyed&&e.initialized&&r("orientationchange")};n("init",(function(){e.params.resizeObserver&&void 0!==i.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((function(t){a=i.requestAnimationFrame((function(){var n=e.width,r=e.height,i=n,o=r;t.forEach((function(t){var n=t.contentBoxSize,r=t.contentRect,a=t.target;a&&a!==e.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||s()}))}))).observe(e.el):(i.addEventListener("resize",s),i.addEventListener("orientationchange",c))})),n("destroy",(function(){a&&i.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",c)}))},function(t){var e=t.swiper,n=t.extendParams,r=t.on,i=t.emit,o=[],a=ut(),s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.MutationObserver||a.WebkitMutationObserver,r=new n((function(t){if(1!==t.length){var e=function(){i("observerUpdate",t[0])};a.requestAnimationFrame?a.requestAnimationFrame(e):a.setTimeout(e,0)}else i("observerUpdate",t[0])}));r.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),o.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(function(){if(e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),n=0;n<t.length;n+=1)s(t[n]);s(e.$el[0],{childList:e.params.observeSlideChildren}),s(e.$wrapperEl[0],{attributes:!1})}})),r("destroy",(function(){o.forEach((function(t){t.disconnect()})),o.splice(0,o.length)}))}]);var Ne=De;n(146);function Fe(t,e,n,r){var i=ct();return t.params.createElements&&Object.keys(r).forEach((function(o){if(!n[o]&&!0===n.auto){var a=t.$el.children(".".concat(r[o]))[0];a||((a=i.createElement("div")).className=r[o],t.$el.append(a)),n[o]=a,e[o]=a}})),n}function Ge(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return".".concat(t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}n(148),n(104),n(105);n(150);function Be(t){var e,n=t.swiper,r=t.extendParams,i=t.on,o=t.emit;function a(){if(!n.size)return n.autoplay.running=!1,void(n.autoplay.paused=!1);var t=n.slides.eq(n.activeIndex),r=n.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(r=t.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(e),e=Nt((function(){var t;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),t=n.slidePrev(n.params.speed,!0,!0),o("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?c():(t=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),o("autoplay")):(t=n.slidePrev(n.params.speed,!0,!0),o("autoplay")):n.params.loop?(n.loopFix(),t=n.slideNext(n.params.speed,!0,!0),o("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?c():(t=n.slideTo(0,n.params.speed,!0,!0),o("autoplay")):(t=n.slideNext(n.params.speed,!0,!0),o("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===t)&&a()}),r)}function s(){return void 0===e&&(!n.autoplay.running&&(n.autoplay.running=!0,o("autoplayStart"),a(),!0))}function c(){return!!n.autoplay.running&&(void 0!==e&&(e&&(clearTimeout(e),e=void 0),n.autoplay.running=!1,o("autoplayStop"),!0))}function l(t){n.autoplay.running&&(n.autoplay.paused||(e&&clearTimeout(e),n.autoplay.paused=!0,0!==t&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((function(t){n.$wrapperEl[0].addEventListener(t,h)})):(n.autoplay.paused=!1,a())))}function u(){var t=ct();"hidden"===t.visibilityState&&n.autoplay.running&&l(),"visible"===t.visibilityState&&n.autoplay.paused&&(a(),n.autoplay.paused=!1)}function h(t){n&&!n.destroyed&&n.$wrapperEl&&t.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((function(t){n.$wrapperEl[0].removeEventListener(t,h)})),n.autoplay.paused=!1,n.autoplay.running?a():c())}function f(){n.params.autoplay.disableOnInteraction?c():(o("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach((function(t){n.$wrapperEl[0].removeEventListener(t,h)}))}function d(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,o("autoplayResume"),a())}n.autoplay={running:!1,paused:!1},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),i("init",(function(){n.params.autoplay.enabled&&(s(),ct().addEventListener("visibilitychange",u),n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",f),n.$el.on("mouseleave",d)))})),i("beforeTransitionStart",(function(t,e,r){n.autoplay.running&&(r||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(e):c())})),i("sliderFirstMove",(function(){n.autoplay.running&&(n.params.autoplay.disableOnInteraction?c():l())})),i("touchEnd",(function(){n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&a()})),i("destroy",(function(){n.$el.off("mouseenter",f),n.$el.off("mouseleave",d),n.autoplay.running&&c(),ct().removeEventListener("visibilitychange",u)})),Object.assign(n.autoplay,{pause:l,run:a,start:s,stop:c})}function Ve(t){var e,n=t.effect,r=t.swiper,i=t.on,o=t.setTranslate,a=t.setTransition,s=t.overwriteParams,c=t.perspective,l=t.recreateShadows,u=t.getEffectParams;i("beforeInit",(function(){if(r.params.effect===n){r.classNames.push("".concat(r.params.containerModifierClass).concat(n)),c&&c()&&r.classNames.push("".concat(r.params.containerModifierClass,"3d"));var t=s?s():{};Object.assign(r.params,t),Object.assign(r.originalParams,t)}})),i("setTranslate",(function(){r.params.effect===n&&o()})),i("setTransition",(function(t,e){r.params.effect===n&&a(e)})),i("transitionEnd",(function(){if(r.params.effect===n&&l){if(!u||!u().slideShadows)return;r.slides.each((function(t){r.$(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()})),l()}})),i("virtualUpdate",(function(){r.params.effect===n&&(r.slides.length||(e=!0),requestAnimationFrame((function(){e&&r.slides&&r.slides.length&&(o(),e=!1)})))}))}function ze(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function Ue(t){var e=t.swiper,n=t.duration,r=t.transformEl,i=t.allSlides,o=e.slides,a=e.activeIndex,s=e.$wrapperEl;if(e.params.virtualTranslate&&0!==n){var c=!1;(i?r?o.find(r):o:r?o.eq(a).find(r):o.eq(a)).transitionEnd((function(){if(!c&&e&&!e.destroyed){c=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],n=0;n<t.length;n+=1)s.trigger(t[n])}}))}}function je(t,e,n){var r="swiper-slide-shadow".concat(n?"-".concat(n):""),i=t.transformEl?e.find(t.transformEl):e,o=i.children(".".concat(r));return o.length||(o=Rt('<div class="swiper-slide-shadow'.concat(n?"-".concat(n):"",'"></div>')),i.append(o)),o}function He(t){var e=t.swiper,n=t.extendParams,r=t.on;n({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});Ve({effect:"creative",swiper:e,on:r,setTranslate:function(){var t=e.slides,n=e.$wrapperEl,r=e.slidesSizesGrid,i=e.params.creativeEffect,o=i.progressMultiplier,a=e.params.centeredSlides;if(a){var s=r[0]/2-e.params.slidesOffsetBefore||0;n.transform("translateX(calc(50% - ".concat(s,"px))"))}for(var c=function(){var n=t.eq(l),r=n[0].progress,s=Math.min(Math.max(n[0].progress,-i.limitProgress),i.limitProgress),c=s;a||(c=Math.min(Math.max(n[0].originalProgress,-i.limitProgress),i.limitProgress));var u=n[0].swiperSlideOffset,h=[e.params.cssMode?-u-e.translate:-u,0,0],f=[0,0,0],d=!1;e.isHorizontal()||(h[1]=h[0],h[0]=0);var p={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};s<0?(p=i.next,d=!0):s>0&&(p=i.prev,d=!0),h.forEach((function(t,e){h[e]="calc(".concat(t,"px + (").concat(function(t){return"string"==typeof t?t:"".concat(t,"px")}(p.translate[e])," * ").concat(Math.abs(s*o),"))")})),f.forEach((function(t,e){f[e]=p.rotate[e]*Math.abs(s*o)})),n[0].style.zIndex=-Math.abs(Math.round(r))+t.length;var g=h.join(", "),m="rotateX(".concat(f[0],"deg) rotateY(").concat(f[1],"deg) rotateZ(").concat(f[2],"deg)"),v="scale(".concat(c<0?1+(1-p.scale)*c*o:1-(1-p.scale)*c*o,")"),y=c<0?1+(1-p.opacity)*c*o:1-(1-p.opacity)*c*o,b="translate3d(".concat(g,") ").concat(m," ").concat(v);if(d&&p.shadow||!d){var x=n.children(".swiper-slide-shadow");if(0===x.length&&p.shadow&&(x=je(i,n)),x.length){var _=i.shadowPerProgress?s*(1/i.limitProgress):s;x[0].style.opacity=Math.min(Math.max(Math.abs(_),0),1)}}var w=ze(i,n);w.transform(b).css({opacity:y}),p.origin&&w.css("transform-origin",p.origin)},l=0;l<t.length;l+=1)c()},setTransition:function(t){var n=e.params.creativeEffect.transformEl;(n?e.slides.find(n):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),Ue({swiper:e,duration:t,transformEl:n,allSlides:!0})},perspective:function(){return e.params.creativeEffect.perspective},overwriteParams:function(){return{watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode}}})}function We(t){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==We(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===We(o)?o:String(o)),r)}var i,o}Ne.use([function(t){var e=t.swiper,n=t.extendParams,r=t.on,i=t.emit;function o(t){var n;return t&&(n=Rt(t),e.params.uniqueNavElements&&"string"==typeof t&&n.length>1&&1===e.$el.find(t).length&&(n=e.$el.find(t))),n}function a(t,n){var r=e.params.navigation;t&&t.length>0&&(t[n?"addClass":"removeClass"](r.disabledClass),t[0]&&"BUTTON"===t[0].tagName&&(t[0].disabled=n),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](r.lockClass))}function s(){if(!e.params.loop){var t=e.navigation,n=t.$nextEl;a(t.$prevEl,e.isBeginning&&!e.params.rewind),a(n,e.isEnd&&!e.params.rewind)}}function c(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function l(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){var t=e.params.navigation;if(e.params.navigation=Fe(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),t.nextEl||t.prevEl){var n=o(t.nextEl),r=o(t.prevEl);n&&n.length>0&&n.on("click",l),r&&r.length>0&&r.on("click",c),Object.assign(e.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]}),e.enabled||(n&&n.addClass(t.lockClass),r&&r.addClass(t.lockClass))}}function h(){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n.length&&(n.off("click",l),n.removeClass(e.params.navigation.disabledClass)),r&&r.length&&(r.off("click",c),r.removeClass(e.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},r("init",(function(){!1===e.params.navigation.enabled?f():(u(),s())})),r("toEdge fromEdge lock unlock",(function(){s()})),r("destroy",(function(){h()})),r("enable disable",(function(){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),r&&r[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)})),r("click",(function(t,n){var r=e.navigation,o=r.$nextEl,a=r.$prevEl,s=n.target;if(e.params.navigation.hideOnClick&&!Rt(s).is(a)&&!Rt(s).is(o)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===s||e.pagination.el.contains(s)))return;var c;o?c=o.hasClass(e.params.navigation.hiddenClass):a&&(c=a.hasClass(e.params.navigation.hiddenClass)),i(!0===c?"navigationShow":"navigationHide"),o&&o.toggleClass(e.params.navigation.hiddenClass),a&&a.toggleClass(e.params.navigation.hiddenClass)}}));var f=function(){e.$el.addClass(e.params.navigation.navigationDisabledClass),h()};Object.assign(e.navigation,{enable:function(){e.$el.removeClass(e.params.navigation.navigationDisabledClass),u(),s()},disable:f,update:s,init:u,destroy:h})},function(t){var e,n=t.swiper,r=t.extendParams,i=t.on,o=t.emit,a="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(t){return t},formatFractionTotal:function(t){return t},bulletClass:"".concat(a,"-bullet"),bulletActiveClass:"".concat(a,"-bullet-active"),modifierClass:"".concat(a,"-"),currentClass:"".concat(a,"-current"),totalClass:"".concat(a,"-total"),hiddenClass:"".concat(a,"-hidden"),progressbarFillClass:"".concat(a,"-progressbar-fill"),progressbarOppositeClass:"".concat(a,"-progressbar-opposite"),clickableClass:"".concat(a,"-clickable"),lockClass:"".concat(a,"-lock"),horizontalClass:"".concat(a,"-horizontal"),verticalClass:"".concat(a,"-vertical"),paginationDisabledClass:"".concat(a,"-disabled")}}),n.pagination={el:null,$el:null,bullets:[]};var s=0;function c(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function l(t,e){var r=n.params.pagination.bulletActiveClass;t[e]().addClass("".concat(r,"-").concat(e))[e]().addClass("".concat(r,"-").concat(e,"-").concat(e))}function u(){var t=n.rtl,r=n.params.pagination;if(!c()){var i,a=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,u=n.pagination.$el,h=n.params.loop?Math.ceil((a-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?((i=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup))>a-1-2*n.loopedSlides&&(i-=a-2*n.loopedSlides),i>h-1&&(i-=h),i<0&&"bullets"!==n.params.paginationType&&(i=h+i)):i=void 0!==n.snapIndex?n.snapIndex:n.activeIndex||0,"bullets"===r.type&&n.pagination.bullets&&n.pagination.bullets.length>0){var f,d,p,g=n.pagination.bullets;if(r.dynamicBullets&&(e=g.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),u.css(n.isHorizontal()?"width":"height","".concat(e*(r.dynamicMainBullets+4),"px")),r.dynamicMainBullets>1&&void 0!==n.previousIndex&&((s+=i-(n.previousIndex-n.loopedSlides||0))>r.dynamicMainBullets-1?s=r.dynamicMainBullets-1:s<0&&(s=0)),f=Math.max(i-s,0),p=((d=f+(Math.min(g.length,r.dynamicMainBullets)-1))+f)/2),g.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((function(t){return"".concat(r.bulletActiveClass).concat(t)})).join(" ")),u.length>1)g.each((function(t){var e=Rt(t),n=e.index();n===i&&e.addClass(r.bulletActiveClass),r.dynamicBullets&&(n>=f&&n<=d&&e.addClass("".concat(r.bulletActiveClass,"-main")),n===f&&l(e,"prev"),n===d&&l(e,"next"))}));else{var m=g.eq(i),v=m.index();if(m.addClass(r.bulletActiveClass),r.dynamicBullets){for(var y=g.eq(f),b=g.eq(d),x=f;x<=d;x+=1)g.eq(x).addClass("".concat(r.bulletActiveClass,"-main"));if(n.params.loop)if(v>=g.length){for(var _=r.dynamicMainBullets;_>=0;_-=1)g.eq(g.length-_).addClass("".concat(r.bulletActiveClass,"-main"));g.eq(g.length-r.dynamicMainBullets-1).addClass("".concat(r.bulletActiveClass,"-prev"))}else l(y,"prev"),l(b,"next");else l(y,"prev"),l(b,"next")}}if(r.dynamicBullets){var w=Math.min(g.length,r.dynamicMainBullets+4),S=(e*w-e)/2-p*e,T=t?"right":"left";g.css(n.isHorizontal()?T:"top","".concat(S,"px"))}}if("fraction"===r.type&&(u.find(Ge(r.currentClass)).text(r.formatFractionCurrent(i+1)),u.find(Ge(r.totalClass)).text(r.formatFractionTotal(h))),"progressbar"===r.type){var M;M=r.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";var A=(i+1)/h,E=1,C=1;"horizontal"===M?E=A:C=A,u.find(Ge(r.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(E,") scaleY(").concat(C,")")).transition(n.params.speed)}"custom"===r.type&&r.renderCustom?(u.html(r.renderCustom(n,i+1,h)),o("paginationRender",u[0])):o("paginationUpdate",u[0]),n.params.watchOverflow&&n.enabled&&u[n.isLocked?"addClass":"removeClass"](r.lockClass)}}function h(){var t=n.params.pagination;if(!c()){var e=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,r=n.pagination.$el,i="";if("bullets"===t.type){var a=n.params.loop?Math.ceil((e-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&a>e&&(a=e);for(var s=0;s<a;s+=1)t.renderBullet?i+=t.renderBullet.call(n,s,t.bulletClass):i+="<".concat(t.bulletElement,' class="').concat(t.bulletClass,'"></').concat(t.bulletElement,">");r.html(i),n.pagination.bullets=r.find(Ge(t.bulletClass))}"fraction"===t.type&&(i=t.renderFraction?t.renderFraction.call(n,t.currentClass,t.totalClass):'<span class="'.concat(t.currentClass,'"></span>')+" / "+'<span class="'.concat(t.totalClass,'"></span>'),r.html(i)),"progressbar"===t.type&&(i=t.renderProgressbar?t.renderProgressbar.call(n,t.progressbarFillClass):'<span class="'.concat(t.progressbarFillClass,'"></span>'),r.html(i)),"custom"!==t.type&&o("paginationRender",n.pagination.$el[0])}}function f(){n.params.pagination=Fe(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});var t=n.params.pagination;if(t.el){var e=Rt(t.el);0!==e.length&&(n.params.uniqueNavElements&&"string"==typeof t.el&&e.length>1&&(e=n.$el.find(t.el)).length>1&&(e=e.filter((function(t){return Rt(t).parents(".swiper")[0]===n.el}))),"bullets"===t.type&&t.clickable&&e.addClass(t.clickableClass),e.addClass(t.modifierClass+t.type),e.addClass(n.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(e.addClass("".concat(t.modifierClass).concat(t.type,"-dynamic")),s=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&e.addClass(t.progressbarOppositeClass),t.clickable&&e.on("click",Ge(t.bulletClass),(function(t){t.preventDefault();var e=Rt(this).index()*n.params.slidesPerGroup;n.params.loop&&(e+=n.loopedSlides),n.slideTo(e)})),Object.assign(n.pagination,{$el:e,el:e[0]}),n.enabled||e.addClass(t.lockClass))}}function d(){var t=n.params.pagination;if(!c()){var e=n.pagination.$el;e.removeClass(t.hiddenClass),e.removeClass(t.modifierClass+t.type),e.removeClass(n.isHorizontal()?t.horizontalClass:t.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&e.off("click",Ge(t.bulletClass))}}i("init",(function(){!1===n.params.pagination.enabled?p():(f(),h(),u())})),i("activeIndexChange",(function(){(n.params.loop||void 0===n.snapIndex)&&u()})),i("snapIndexChange",(function(){n.params.loop||u()})),i("slidesLengthChange",(function(){n.params.loop&&(h(),u())})),i("snapGridLengthChange",(function(){n.params.loop||(h(),u())})),i("destroy",(function(){d()})),i("enable disable",(function(){var t=n.pagination.$el;t&&t[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)})),i("lock unlock",(function(){u()})),i("click",(function(t,e){var r=e.target,i=n.pagination.$el;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&i&&i.length>0&&!Rt(r).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&r===n.navigation.nextEl||n.navigation.prevEl&&r===n.navigation.prevEl))return;var a=i.hasClass(n.params.pagination.hiddenClass);o(!0===a?"paginationShow":"paginationHide"),i.toggleClass(n.params.pagination.hiddenClass)}}));var p=function(){n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),d()};Object.assign(n.pagination,{enable:function(){n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),f(),h(),u()},disable:p,render:h,update:u,init:f,destroy:d})},function(t){var e,n,r,i,o=t.swiper,a=t.extendParams,s=t.on,c=t.emit,l=ct(),u=!1,h=null,f=null;function d(){if(o.params.scrollbar.el&&o.scrollbar.el){var t=o.scrollbar,e=o.rtlTranslate,i=o.progress,a=t.$dragEl,s=t.$el,c=o.params.scrollbar,l=n,u=(r-n)*i;e?(u=-u)>0?(l=n-u,u=0):-u+n>r&&(l=r+u):u<0?(l=n+u,u=0):u+n>r&&(l=r-u),o.isHorizontal()?(a.transform("translate3d(".concat(u,"px, 0, 0)")),a[0].style.width="".concat(l,"px")):(a.transform("translate3d(0px, ".concat(u,"px, 0)")),a[0].style.height="".concat(l,"px")),c.hide&&(clearTimeout(h),s[0].style.opacity=1,h=setTimeout((function(){s[0].style.opacity=0,s.transition(400)}),1e3))}}function p(){if(o.params.scrollbar.el&&o.scrollbar.el){var t=o.scrollbar,e=t.$dragEl,a=t.$el;e[0].style.width="",e[0].style.height="",r=o.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,i=o.size/(o.virtualSize+o.params.slidesOffsetBefore-(o.params.centeredSlides?o.snapGrid[0]:0)),n="auto"===o.params.scrollbar.dragSize?r*i:parseInt(o.params.scrollbar.dragSize,10),o.isHorizontal()?e[0].style.width="".concat(n,"px"):e[0].style.height="".concat(n,"px"),a[0].style.display=i>=1?"none":"",o.params.scrollbar.hide&&(a[0].style.opacity=0),o.params.watchOverflow&&o.enabled&&t.$el[o.isLocked?"addClass":"removeClass"](o.params.scrollbar.lockClass)}}function g(t){return o.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientX:t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientY:t.clientY}function m(t){var i,a=o.scrollbar,s=o.rtlTranslate,c=a.$el;i=(g(t)-c.offset()[o.isHorizontal()?"left":"top"]-(null!==e?e:n/2))/(r-n),i=Math.max(Math.min(i,1),0),s&&(i=1-i);var l=o.minTranslate()+(o.maxTranslate()-o.minTranslate())*i;o.updateProgress(l),o.setTranslate(l),o.updateActiveIndex(),o.updateSlidesClasses()}function v(t){var n=o.params.scrollbar,r=o.scrollbar,i=o.$wrapperEl,a=r.$el,s=r.$dragEl;u=!0,e=t.target===s[0]||t.target===s?g(t)-t.target.getBoundingClientRect()[o.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),i.transition(100),s.transition(100),m(t),clearTimeout(f),a.transition(0),n.hide&&a.css("opacity",1),o.params.cssMode&&o.$wrapperEl.css("scroll-snap-type","none"),c("scrollbarDragStart",t)}function y(t){var e=o.scrollbar,n=o.$wrapperEl,r=e.$el,i=e.$dragEl;u&&(t.preventDefault?t.preventDefault():t.returnValue=!1,m(t),n.transition(0),r.transition(0),i.transition(0),c("scrollbarDragMove",t))}function b(t){var e=o.params.scrollbar,n=o.scrollbar,r=o.$wrapperEl,i=n.$el;u&&(u=!1,o.params.cssMode&&(o.$wrapperEl.css("scroll-snap-type",""),r.transition("")),e.hide&&(clearTimeout(f),f=Nt((function(){i.css("opacity",0),i.transition(400)}),1e3)),c("scrollbarDragEnd",t),e.snapOnRelease&&o.slideToClosest())}function x(t){var e=o.scrollbar,n=o.touchEventsTouch,r=o.touchEventsDesktop,i=o.params,a=o.support,s=e.$el;if(s){var c=s[0],u=!(!a.passiveListener||!i.passiveListeners)&&{passive:!1,capture:!1},h=!(!a.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};if(c){var f="on"===t?"addEventListener":"removeEventListener";a.touch?(c[f](n.start,v,u),c[f](n.move,y,u),c[f](n.end,b,h)):(c[f](r.start,v,u),l[f](r.move,y,u),l[f](r.end,b,h))}}}function _(){var t=o.scrollbar,e=o.$el;o.params.scrollbar=Fe(o,o.originalParams.scrollbar,o.params.scrollbar,{el:"swiper-scrollbar"});var n=o.params.scrollbar;if(n.el){var r=Rt(n.el);o.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===e.find(n.el).length&&(r=e.find(n.el)),r.addClass(o.isHorizontal()?n.horizontalClass:n.verticalClass);var i=r.find(".".concat(o.params.scrollbar.dragClass));0===i.length&&(i=Rt('<div class="'.concat(o.params.scrollbar.dragClass,'"></div>')),r.append(i)),Object.assign(t,{$el:r,el:r[0],$dragEl:i,dragEl:i[0]}),n.draggable&&o.params.scrollbar.el&&o.scrollbar.el&&x("on"),r&&r[o.enabled?"removeClass":"addClass"](o.params.scrollbar.lockClass)}}function w(){var t=o.params.scrollbar,e=o.scrollbar.$el;e&&e.removeClass(o.isHorizontal()?t.horizontalClass:t.verticalClass),o.params.scrollbar.el&&o.scrollbar.el&&x("off")}a({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),o.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},s("init",(function(){!1===o.params.scrollbar.enabled?S():(_(),p(),d())})),s("update resize observerUpdate lock unlock",(function(){p()})),s("setTranslate",(function(){d()})),s("setTransition",(function(t,e){!function(t){o.params.scrollbar.el&&o.scrollbar.el&&o.scrollbar.$dragEl.transition(t)}(e)})),s("enable disable",(function(){var t=o.scrollbar.$el;t&&t[o.enabled?"removeClass":"addClass"](o.params.scrollbar.lockClass)})),s("destroy",(function(){w()}));var S=function(){o.$el.addClass(o.params.scrollbar.scrollbarDisabledClass),o.scrollbar.$el&&o.scrollbar.$el.addClass(o.params.scrollbar.scrollbarDisabledClass),w()};Object.assign(o.scrollbar,{enable:function(){o.$el.removeClass(o.params.scrollbar.scrollbarDisabledClass),o.scrollbar.$el&&o.scrollbar.$el.removeClass(o.params.scrollbar.scrollbarDisabledClass),_(),p(),d()},disable:S,updateSize:p,setTranslate:d,init:_,destroy:w})},Be,He]);var Ye=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.beforeOnce((function(t){e.bloglistSlider(t.next.container)})),i.a.hooks.after((function(t){e.bloglistSlider(t.next.container)}))}var e,n,r;return e=t,(n=[{key:"bloglistSlider",value:function(t){new Ne(".js-bloglist-slider",{speed:1e3,slidesPerView:"auto",spaceBetween:20,simulateTouch:!0,breakpoints:{576:{slidesPerView:"auto",spaceBetween:30},992:{slidesPerView:"auto",spaceBetween:60}},navigation:{nextEl:".js-bloglist-slider-next",prevEl:".js-bloglist-slider-prev"}})}}])&&Xe(e.prototype,n),r&&Xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function qe(t){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==qe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===qe(o)?o:String(o)),r)}var i,o}var Ze=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.targetEL={},this.attraction=20,this.mouse={x:0,y:0,cx:0,cy:0},this.el={},this.frag=!1,i.a.hooks.once((function(){e.targets=document.querySelectorAll("[data-mouse-sticky]"),e.targets.length>0&&e.init()})),i.a.hooks.after((function(){e.targets=document.querySelectorAll("[data-mouse-sticky]"),e.targets.length>0&&e.init()}))}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t=this;this.targets.forEach((function(e,n){t.handle(e,n)})),this.bindMouseMove=this.mouseMove.bind(this),this.onRequestAnimationFrame()}},{key:"handle",value:function(t,e){var n=this;t.addEventListener("mouseenter",(function(){n.targetEL=t,n.gbcr=t.getBoundingClientRect();var e=t.querySelector("[data-mouse-sticky-target]"),r=t.getAttribute("data-mouse-sticky-rotation"),i=t.getAttribute("data-mouse-sticky-distance");n.el={target:t,target_item:e||t,distance:i||n.attraction,rotation:r||1,x:n.gbcr.x,y:n.gbcr.y,w:n.gbcr.width,h:n.gbcr.height},n.mouseEnter()})),t.addEventListener("mouseleave",(function(){n.mouseLeave()}))}},{key:"mouseMove",value:function(t){this.gbcr=this.el.target.getBoundingClientRect(),this.mouse.x=I.a.utils.mapRange(this.gbcr.x,this.gbcr.x+this.gbcr.width,-this.el.distance,this.el.distance,t.clientX),this.mouse.y=I.a.utils.mapRange(this.gbcr.y,this.gbcr.y+this.gbcr.height,-this.el.distance,this.el.distance,t.clientY)}},{key:"mouseEnter",value:function(){this.frag=!0,addEventListener("mousemove",this.bindMouseMove)}},{key:"mouseLeave",value:function(){this.mouse.cx=0,this.mouse.cy=0,I.a.to(this.el.target_item,{x:0,y:0,duration:.5,rotateY:"0deg",rotateX:"0deg",ease:"elastic.out(1.2, 0.8)"}),removeEventListener("mousemove",this.bindMouseMove),this.targetEL=!1,this.el={},this.frag=!1}},{key:"onRequestAnimationFrame",value:function(){var t=this;this.frag&&(this.mouse.cx=I.a.utils.interpolate(this.mouse.cx,this.mouse.x,.1),this.mouse.cy=I.a.utils.interpolate(this.mouse.cy,this.mouse.y,.1),I.a.set(this.el.target,{perspective:"3000px"}),I.a.set(this.el.target_item,{x:this.mouse.cx,y:this.mouse.cy,rotateY:this.mouse.cx/this.el.rotation+"deg",rotateX:this.mouse.cy/-this.el.rotation+"deg",transformOrigin:this.mouse.cx>0?"right center":"left center"})),requestAnimationFrame((function(){t.onRequestAnimationFrame()}))}}])&&Qe(e.prototype,n),r&&Qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),$e=n(111);function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==Ke(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===Ke(o)?o:String(o)),r)}var i,o}var tn=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isInit=!1,this.initY=0,this.triggerIndexFeatures=!1,this.triggerIndexProductPrimary=!1,this.triggerIndexProductSecondary=!1,window.historyScrollPosition=[],i.a.hooks.once((function(t){e.run(document.querySelector("[data-scroll-container]"),!0),e.inTheDark(t.next.container),e.refresh()})),i.a.hooks.beforeLeave((function(t){"back"!=t.trigger&&"forward"!=t.trigger||window.historyScrollPosition.length>0&&(e.initY=window.historyScrollPosition.pop()),window.historyScrollPosition.push(window.LocomotiveScroll.scroll.instance.scroll.y)})),i.a.hooks.leave((function(t){window.LocomotiveScroll.destroy()})),i.a.hooks.afterEnter((function(t){e.isInit&&(e.run(t.next.container.querySelector("[data-scroll-container]"),!1),Q.a.refresh(),e.inTheDark(t.next.container)),e.isInit||(e.isInit=!0)})),i.a.hooks.after((function(t){if("back"===t.trigger||"forward"===t.trigger){var n=document.querySelectorAll("[data-scroll-trigger]");n.length>0&&n.forEach((function(t){t.classList.add("-visible")})),setTimeout((function(){Q.a.refresh()}),10)}else e.initY=0}))}var e,n,r;return e=t,(n=[{key:"run",value:function(t,e){I.a.registerPlugin(Q.a);var n=.15,r=.4,i=window.navigator.userAgent.toLowerCase();-1!=i.indexOf("edg")||-1!=i.indexOf("chrome")?(n=.2,r=.4):(-1!=i.indexOf("safari")||-1!=i.indexOf("firefox"))&&(n=.9,r=.8),window.LocomotiveScroll=new $e.a({el:t,smooth:!0,lerp:n,multiplier:r,initPosition:{x:0,y:this.initY}}),window.LocomotiveScroll.on("scroll",Q.a.update),Q.a.scrollerProxy("[data-scroll-container]",{scrollTop:function(t){return window.LocomotiveScroll.scroll.instance.scroll.y},getBoundingClientRect:function(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:document.querySelector("[data-scroll-container]").style.transform?"transform":"fixed"}),t.querySelector("#p-index-office")&&Q.a.matchMedia({"(min-width: 1024px)":function(){Q.a.isTouch?t.querySelector(".p-index-office__lists-wrapper").classList.add("-isTouch"):I.a.to(".p-index-office__lists",{x:"-50%",ease:"power4.easeOut",scrollTrigger:{trigger:"#p-index-office",scroller:"[data-scroll-container]",start:"top top",end:"+=2400px",pin:!0,scrub:!0}})}}),t.querySelector("#p-index-hero__image")&&Q.a.matchMedia({"(min-width: 576px)":function(){I.a.to("#p-index-hero__image",{paddingLeft:"0px",paddingRight:"0px",scrollTrigger:{trigger:"#p-index-hero__image",scroller:"[data-scroll-container]",start:"top top",end:"center",scrub:!0}}),I.a.fromTo("#p-index-hero__image .p-index-hero__slider",{filter:"brightness(1)"},{borderRadius:"0",scrollTrigger:{trigger:"#p-index-hero__image",scroller:"[data-scroll-container]",start:"top top",end:"bottom",scrub:!0,pin:!0,pinSpacing:!1}})},"(max-width: 575px)":function(){I.a.fromTo("#p-index-hero__image .p-index-hero__slider",{scale:1},{borderRadius:"0",height:"130%",scrollTrigger:{trigger:"#p-index-hero__image",scroller:"[data-scroll-container]",start:"top top",end:"bottom",scrub:!0,pin:!0,pinSpacing:!1}})}});var o=t.querySelector(".l-recruit-interview__wrapper");if(o){var a=I.a.timeline({scrollTrigger:{trigger:o,scroller:"[data-scroll-container]",start:"top bottom",end:"center center-=30%",scrub:!0}}),s=I.a.timeline({scrollTrigger:{trigger:o,scroller:"[data-scroll-container]",start:"top bottom",end:"center center-=30%",scrub:!0}});a.fromTo(".l-recruit-interview__bg--radius",{borderRadius:"100px 100px 100px 100px",scale:0,width:"100px",height:"100px"},{borderRadius:"100vw",scale:1,width:"200vw",height:"200vw"}),a.to(".l-recruit-interview__bg--radius",{borderRadius:"1800px 1800px 0 0",height:"120%"}),s.fromTo(".l-recruit-interview__bg--noize",{borderRadius:"100px 100px 100px 100px",scale:0,width:"100px",height:"100px"},{borderRadius:"100vw",scale:1,width:"200vw",height:"200vw"}),s.to(".l-recruit-interview__bg--noize",{borderRadius:"1800px 1800px 0 0",height:"120%"}),I.a.fromTo(".l-recruit-interview__bg",{borderRadius:"0 0 30px 30px"},{borderRadius:"0",ease:"power4.easeOut",scrollTrigger:{trigger:"#l-aside-blog",scroller:"[data-scroll-container]",start:"top+=30% bottom",end:"center center+=10%",scrub:!0}})}t.querySelector("#l-aside-contact")&&I.a.fromTo("#l-aside-contact",{borderRadius:"0 0 30px 30px"},{borderRadius:"0",ease:"power4.easeOut",scrollTrigger:{trigger:"#l-footer",scroller:"[data-scroll-container]",start:"top+=30% bottom",end:"center center+=10%",scrub:!0}});var c=t.querySelector("[data-stickey-side]");c&&Q.a.matchMedia({"(min-width: 1024px)":function(){Q.a.create({trigger:t.querySelector("[data-stickey-container]"),scroller:"[data-scroll-container]",start:"top 90px",end:"bottom top+="+c.clientHeight,pin:c})}});var l=t.querySelector(".c-lower-header");l&&Q.a.matchMedia({"(min-width: 1024px)":function(){I.a.to(l.querySelector(".c-lower-header__img"),{width:"100%",borderRadius:"0",ease:"power4.easeOut",scrollTrigger:{trigger:l,scroller:"[data-scroll-container]",start:"top top",end:"bottom",scrub:!0}}),I.a.fromTo(l.querySelector(".c-lower-header__img img"),{scale:1,y:"0%"},{scale:1.2,y:"50%",scrollTrigger:{trigger:l,scroller:"[data-scroll-container]",start:"top top",end:"bottom+=50%",scrub:!0}})}});var u=t.querySelectorAll(".p-service--image__wrapper");u.length>0&&Q.a.matchMedia({"(min-width: 1024px)":function(){u.forEach((function(t){I.a.fromTo(t.querySelector("img"),{scale:1.3,y:"-20%"},{scale:1.3,y:"2s0%",scrollTrigger:{trigger:t,scroller:"[data-scroll-container]",start:"top bottom",end:"bottom+=50%",scrub:!0}})}))}});var h=t.querySelectorAll("[data-image-fixed]");h.length>0&&Q.a.matchMedia({"(min-width: 1024px)":function(){h.forEach((function(t){I.a.fromTo(t.querySelector("img"),{scale:1.2,y:"-10%"},{scale:1.2,y:"10%",scrollTrigger:{trigger:t,scroller:"[data-scroll-container]",start:"top bottom",end:"bottom+=50%",scrub:!0}})}))}});var f=t.querySelector("#philosophy");f&&I.a.fromTo(f.querySelector(".p-office-philosophy__en"),{backgroundPosition:"-120vw 0px"},{backgroundPosition:"120vw 0px",scrollTrigger:{trigger:f,scroller:"[data-scroll-container]",start:"top bottom",end:"bottom+=50%",scrub:!0}})}},{key:"refresh",value:function(){Q.a.addEventListener("refresh",(function(){window.LocomotiveScroll.update()}))}},{key:"inTheDark",value:function(t){var e=document.querySelector("#page"),n=t.querySelectorAll("[data-darkmode]");n.length>0&&n.forEach((function(t){Q.a.create({trigger:t,scroller:"[data-scroll-container]",start:"-1px top",end:"bottom top",onToggle:function(t){t.isActive?e.classList.add("-in-the-dark"):e.classList.remove("-in-the-dark")}})}))}},{key:"init",value:function(){}}])&&Je(e.prototype,n),r&&Je(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),en=n(112),nn=n.n(en);function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==rn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===rn(o)?o:String(o)),r)}var i,o}var an=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pattern=["#BA9C93","#DDC9C3","#988782"],i.a.hooks.once((function(t){e.init(t.next.container)})),i.a.hooks.after((function(t){e.init(t.next.container)}))}var e,n,r;return e=t,(n=[{key:"init",value:function(t){var e=this;t.querySelectorAll("[data-chart]").forEach((function(t){console.log(t);var n=t.getAttribute("id"),r=t.dataset.title,i=JSON.parse(t.dataset.columns);Array.isArray(i)&&nn.a.generate({bindto:"#"+n,color:{pattern:e.pattern},data:{columns:i,type:"donut"},tooltip:{show:!1},donut:{title:r}})}))}}])&&on(e.prototype,n),r&&on(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),sn=n(113),cn=n(13);function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==ln(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===ln(o)?o:String(o)),r)}var i,o}var hn=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouseStalkerClass="js-mouse-stalker",this.mouseCursorClass="js-mouse-stalker__cursor",this.mouseFollowerClass="js-mouse-stalker__follower",this.hoverClass="is-hover",this.dragClass="is-drag",this.reqestId=!1,this.scene,this.camera,this.renderer,this.width=420,this.height=280,this.flag,this.flagColor="#ffffff",this.flagTexture=null,this.sizeW=65,this.sizeH=45,this.segW=30,this.segH=20,this.angle=0,this.horizontal=.3,this.vertical=.3,this.swing=.1,this.speed=.4;var n=this._ua(window.navigator.userAgent.toLowerCase());i.a.hooks.once((function(){e.waveInit()})),i.a.hooks.afterOnce((function(){n.Mobile||n.Tablet||e.mouseStalker()})),i.a.hooks.after((function(){n.Mobile||n.Tablet||e.mouseStalker()}))}var e,n,r;return e=t,(n=[{key:"mouseStalker",value:function(){var t=this,e=document.querySelector("."+this.mouseStalkerClass),n=document.querySelector("."+this.mouseCursorClass),r=document.querySelector("."+this.mouseFollowerClass),i=document.querySelectorAll("a,button,input[type='submit']"),o=document.querySelectorAll("[data-stalker-link]"),a=document.querySelectorAll("[data-stalker-image]"),s=0,c=0;e&&document.addEventListener("mousemove",(function(t){e.style.opacity=1,s=t.clientX,c=t.clientY,n.style.transform="translate("+parseInt(s-10)+"px,"+parseInt(c-10)+"px)",r.style.transform="translate("+parseInt(s-10)+"px,"+parseInt(c-10)+"px)"})),document.addEventListener("mouseleave",(function(t){e&&(e.style.opacity=0)})),document.addEventListener("mouseenter",(function(t){e&&(e.style.opacity=1)})),e&&(i.length>0&&i.forEach((function(n){var r;r=n,e&&r.addEventListener("mouseenter",(function(n){e.classList.contains(t.dragClass)||e.classList.add(t.hoverClass)})),function(n){e&&n.addEventListener("mouseleave",(function(n){e.classList.remove(t.hoverClass)}))}(n)})),o.length>0&&o.forEach((function(t){var n;n=t,e&&n.addEventListener("mouseenter",(function(t){var r=n.getAttribute("data-class");e.classList.add(r)})),function(t){e&&t.addEventListener("mouseleave",(function(n){var r=t.getAttribute("data-class");e.classList.remove(r)}))}(t)})),a.length>0&&a.forEach((function(r){var i;i=r,n&&i.addEventListener("mouseenter",(function(n){t.cancel(),e.classList.add("is-image-hover");var r=i.getAttribute("data-stalker-image");t.loadTexture(r),t.update()})),function(r){n&&r.addEventListener("mouseleave",(function(n){e.classList.remove("is-image-hover"),t.cancel()}))}(r)})))}},{key:"waveInit",value:function(){this.scene=new cn.Scene,this.camera=new cn.PerspectiveCamera(60,this.width/this.height,1,1e3),this.camera.position.set(0,0,40),this.camera.lookAt(new cn.Vector3(0,0)),this.renderer=new cn.WebGLRenderer({antialias:!0,alpha:!0}),this.width*=devicePixelRatio,this.height*=devicePixelRatio,this.renderer.setSize(this.width,this.height),this.renderer.domElement.width*=devicePixelRatio,this.renderer.domElement.height*=devicePixelRatio,document.querySelector("."+this.mouseFollowerClass).appendChild(this.renderer.domElement),this.light=new cn.DirectionalLight("#FFFFFF"),this.light.position.set(10,50,100),this.scene.add(this.light),this.ambientLight=new cn.AmbientLight("#444444"),this.scene.add(this.ambientLight),this.geometry=new cn.CylinderGeometry(.5,.5,40,16,1),this.material=new cn.MeshPhongMaterial({color:"#ffcc99",specular:"#000000",shininess:0}),this.geometry=new cn.PlaneGeometry(this.sizeW,this.sizeH,this.segW,this.segH),this.material=new cn.MeshLambertMaterial({color:this.flagColor,side:cn.DoubleSide}),this.flag=new cn.Mesh(this.geometry,this.material),this.scene.add(this.flag),this.setMaterial(),this.setCamera()}},{key:"setMaterial",value:function(){this.flag.material=new cn.MeshLambertMaterial({color:this.flagColor,map:this.flagTexture,side:cn.DoubleSide})}},{key:"loadTexture",value:function(t){var e=this;this.loader=new cn.TextureLoader,this.loader.load(t,(function(t){t.magFilter=cn.LinearFilter,t.minFilter=cn.LinearFilter,e.flagTexture=t,e.setMaterial()}))}},{key:"setCamera",value:function(){this.camera.position.x=40*Math.sin(this.angle*Math.PI/180),this.camera.position.z=40*Math.cos(this.angle*Math.PI/180),this.camera.lookAt(new cn.Vector3(0,0,0))}},{key:"update",value:function(){for(var t=0;t<this.segH+1;t++)for(var e=0;e<this.segW+1;e++){var n=e+t*(this.segW+1),r=this.flag.geometry.vertices[n],i=Date.now()*this.speed/50;r.z=Math.sin(this.horizontal*e+this.vertical*t-i)*this.swing*e/4}this.flag.geometry.verticesNeedUpdate=!0,this.renderer.render(this.scene,this.camera),this.reqestId=requestAnimationFrame(this.update.bind(this))}},{key:"cancel",value:function(){this.reqestId&&(cancelAnimationFrame(this.reqestId),this.reqestId=!1)}},{key:"_ua",value:function(t){return{Tablet:-1!=t.indexOf("windows")&&-1!=t.indexOf("touch")&&-1==t.indexOf("tablet pc")||-1!=t.indexOf("ipad")||-1!=t.indexOf("android")&&-1==t.indexOf("mobile")||-1!=t.indexOf("firefox")&&-1!=t.indexOf("tablet")||-1!=t.indexOf("kindle")||-1!=t.indexOf("silk")||-1!=t.indexOf("playbook")||t.indexOf("macintosh")>-1&&"ontouchend"in document,Mobile:-1!=t.indexOf("windows")&&-1!=t.indexOf("phone")||-1!=t.indexOf("iphone")||-1!=t.indexOf("ipod")||-1!=t.indexOf("android")&&-1!=t.indexOf("mobile")||-1!=t.indexOf("firefox")&&-1!=t.indexOf("mobile")||-1!=t.indexOf("blackberry")}}}])&&un(e.prototype,n),r&&un(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(157);function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==fn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===fn(o)?o:String(o)),r)}var i,o}Ne.use([Be,function(t){var e=t.swiper,n=t.extendParams,r=t.on;n({fadeEffect:{crossFade:!1,transformEl:null}}),Ve({effect:"fade",swiper:e,on:r,setTranslate:function(){for(var t=e.slides,n=e.params.fadeEffect,r=0;r<t.length;r+=1){var i=e.slides.eq(r),o=-i[0].swiperSlideOffset;e.params.virtualTranslate||(o-=e.translate);var a=0;e.isHorizontal()||(a=o,o=0);var s=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);ze(n,i).css({opacity:s}).transform("translate3d(".concat(o,"px, ").concat(a,"px, 0px)"))}},setTransition:function(t){var n=e.params.fadeEffect.transformEl;(n?e.slides.find(n):e.slides).transition(t),Ue({swiper:e,duration:t,transformEl:n,allSlides:!0})},overwriteParams:function(){return{slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode}}})},He]);var pn=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.once((function(t){t.next.container.querySelector("#p-index")&&e.intro(!0,t.next.container)})),i.a.hooks.beforeLeave((function(t){t.current.container.querySelector("#p-index")&&(e.tl1.kill(),e.tl2.kill(),e.tl3.kill(),e.tl4.kill())})),i.a.hooks.after((function(t){t.next.container.querySelector("#p-index")&&e.intro(!1,t.next.container)}))}var e,n,r;return e=t,(n=[{key:"intro",value:function(t,e){var n=this,r=0,i=e.querySelectorAll(".p-index-hero__catch-strs");i.length>0&&i.forEach((function(t){var e="";t.textContent.split("").forEach((function(t){e=e+"<span data-animation-str>"+t+"</span>"}));var n=document.createElement("span");n.setAttribute("data-animation-first-el",""),n.setAttribute("aria-hidden","true"),n.innerHTML=e,t.innerHTML="",t.appendChild(n);var r=document.createElement("span");r.setAttribute("data-animation-second-el",""),r.setAttribute("aria-hidden","true"),r.innerHTML=e,t.appendChild(r)})),t&&(r=.5),new Ne(".p-index-hero__slider",{loop:!0,effect:"fade",fadeEffect:{crossFade:!0},speed:2e3,allowTouchMove:!1,simulateTouch:!1,autoplay:{delay:5e3}}),this.tl1=I.a.timeline({delay:r});var o=e.querySelectorAll("[data-animation-first-el] [data-animation-str]");this.tl1.set("#p-index-hero__catch--image__line1 path",{strokeDashoffset:320}),this.tl1.set(".p-index-hero__scroller",{opacity:0,y:20}),I.a.set("#p-index-hero__catch--image__line2 path",{strokeDashoffset:300}),t&&(this.tl1.set("#p-index-hero__image .p-index-hero__slider",{y:"-50vh",width:"100vw",height:"100vh",scale:1.2,borderRadius:0}),this.tl1.from("#p-index-hero__image .p-index-hero__slider",{y:"-50vh",width:"100vw",height:"100vh",scale:1.2,borderRadius:0,delay:.8,ease:"expo.inOut",duration:1.2,onComplete:function(){I.a.set("#p-index-hero__image .p-index-hero__slider",{clearProps:"all"})}})),this.tl1.to(".p-index-hero__catch--en",{opacity:1,duration:1,ease:"power1"},"-="+r),this.tl1.fromTo(o,{y:"100%"},{y:"0%",ease:"power3.out",duration:.8,stagger:{each:.024}},"-=1"),this.tl1.fromTo(".p-index-hero__catch--ja",{y:"30px"},{y:"0%",opacity:1,duration:1,ease:"power1"},"-=.8"),this.tl1.to(".p-index-hero__scroller",{y:"0%",opacity:1,duration:.5,ease:"power1"},"-=.5"),this.tl1.fromTo("#p-index-hero__catch--image__line1 path",{strokeDashoffset:320},{ease:"power3.out",strokeDashoffset:0,duration:.7,stagger:{each:.08}},"-=.8"),this.tl1.fromTo("#p-index-hero__catch--image__line1 path",{strokeDashoffset:0},{ease:"power3.out",strokeDashoffset:320,duration:.7,stagger:{from:"end",each:.08},onComplete:function(){n.loop(e)}},"+=4")}},{key:"loop",value:function(t){var e=this,n=2;this.tl2=I.a.timeline({repeat:-1,repeatDelay:5}),this.tl3=I.a.timeline({paused:!0}),this.tl4=I.a.timeline({paused:!0});var r=t.querySelectorAll("[data-animation-first-el] [data-animation-str]"),i=t.querySelectorAll("[data-animation-second-el] [data-animation-str]");this.tl3.fromTo("#p-index-hero__catch--image__line1 path",{strokeDashoffset:0},{ease:"power3.out",strokeDashoffset:320,duration:.7,stagger:{from:"end",each:.08}}),this.tl3.fromTo("#p-index-hero__catch--image__line1 path",{strokeDashoffset:320},{ease:"power3.out",strokeDashoffset:0,duration:.7,stagger:{each:.12}},"-=5"),this.tl4.fromTo("#p-index-hero__catch--image__line2 path",{strokeDashoffset:0},{ease:"power3.out",strokeDashoffset:300,duration:.7,stagger:{from:"end",each:.12}}),this.tl4.fromTo("#p-index-hero__catch--image__line2 path",{strokeDashoffset:300},{ease:"power3.out",strokeDashoffset:0,duration:.7,stagger:{each:.12}},"-=5"),this.tl2.fromTo(r,{y:"0%"},{y:"-100%",ease:"power3.out",duration:.8,stagger:{each:.015}}),this.tl2.fromTo(i,{y:"0%"},{y:"-100%",ease:"power3.out",duration:.8,stagger:{each:.024},onComplete:function(){1==n?(e.tl3.play(0),n=2):(e.tl4.play(0),n=1)}},"-=.7")}}])&&dn(e.prototype,n),r&&dn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gn(t){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==gn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==gn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===gn(o)?o:String(o)),r)}var i,o}var vn=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.a.hooks.once((function(t){e.run(document)})),i.a.hooks.enter((function(t){e.run(t.next.container)}))}var e,n,r;return e=t,(n=[{key:"run",value:function(t){var e=this,n=t.querySelectorAll("[data-hover-animation]");n.length>0&&n.forEach((function(t){var n=t.querySelector("[data-hover-animation-target]");if(n){null==t.getAttribute("aria-label")&&t.setAttribute("aria-label",n.textContent);var r="";n.textContent.split("").forEach((function(t){r=r+"<span data-hover-animation-str>"+t+"</span>"}));var i=document.createElement("span");i.setAttribute("data-hover-animation-first-el",""),i.setAttribute("aria-hidden","true"),i.innerHTML=r,n.innerHTML="",n.appendChild(i);var o=document.createElement("span");o.setAttribute("data-hover-animation-second-el",""),o.setAttribute("aria-hidden","true"),o.innerHTML=r,n.appendChild(o),t.addEventListener("mouseenter",(function(){e.hovanimation(t)})),t.addEventListener("touchstart",(function(){e.hovanimation(t)}))}}))}},{key:"hovanimation",value:function(t){var e=t.querySelectorAll("[data-hover-animation-first-el] [data-hover-animation-str]");I.a.fromTo(e,{y:"0%"},{y:"-100%",ease:"power4.easeOut",stagger:{each:.015}});var n=t.querySelectorAll("[data-hover-animation-second-el] [data-hover-animation-str]");I.a.fromTo(n,{y:"0%"},{y:"-100%",ease:"power4.easeInOut",stagger:{each:.024}})}}])&&mn(e.prototype,n),r&&mn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),n(118);var yn=function(){new v,new p,new U,new h,new s,new x,new S,new tn,new hn,new Ye,new F,new Ze,new W,new an,new K,new q,new rt,new sn.a,new pn,new vn;var t=console.log;console.log=function(){"THREE.WebGLRenderer"!==(arguments.length<=0?void 0:arguments[0])&&t.apply(void 0,arguments)}};"loading"!==document.readyState?yn():document.addEventListener("DOMContentLoaded",yn,!1)},function(t,e){},,function(t,e){},,function(t,e){}]);
//# sourceMappingURL=bundle.js.map